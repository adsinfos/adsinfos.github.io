(self.webpackChunkadinfo=self.webpackChunkadinfo||[]).push([[179],{972:(Wi,qn,ue)=>{"use strict";function ye(e){return"function"==typeof e}function $t(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const jt=$t(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function bt(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class le{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){t=o instanceof jt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ne(o)}catch(l){t=t??[],l instanceof jt?t=[...t,...l.errors]:t.push(l)}}if(t)throw new jt(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ne(t);else{if(t instanceof le){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&bt(n,t)}remove(t){const{_finalizers:n}=this;n&&bt(n,t),t instanceof le&&t._removeParent(this)}}le.EMPTY=(()=>{const e=new le;return e.closed=!0,e})();const We=le.EMPTY;function vt(e){return e instanceof le||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function ne(e){ye(e)?e():e.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},St={setTimeout(e,t,...n){const{delegate:r}=St;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=St;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function yt(e){St.setTimeout(()=>{const{onUnhandledError:t}=It;if(!t)throw e;t(e)})}function _n(){}const Me=Nt("C",void 0,void 0);function Nt(e,t,n){return{kind:e,value:t,error:n}}let Ht=null;function Dt(e){if(It.useDeprecatedSynchronousErrorHandling){const t=!Ht;if(t&&(Ht={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ht;if(Ht=null,n)throw r}}else e()}class Zn extends le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,vt(t)&&t.add(this)):this.destination=mr}static create(t,n,r){return new bn(t,n,r)}next(t){this.isStopped?Yi(function Ee(e){return Nt("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Yi(function z(e){return Nt("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yi(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const en=Function.prototype.bind;function Cn(e,t){return en.call(e,t)}class Tn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ii(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ii(r)}else ii(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ii(n)}}}class bn extends Zn{constructor(t,n,r){let i;if(super(),ye(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&It.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Cn(t.next,o),error:t.error&&Cn(t.error,o),complete:t.complete&&Cn(t.complete,o)}):i=t}this.destination=new Tn(i)}}function ii(e){It.useDeprecatedSynchronousErrorHandling?function cn(e){It.useDeprecatedSynchronousErrorHandling&&Ht&&(Ht.errorThrown=!0,Ht.error=e)}(e):yt(e)}function Yi(e,t){const{onStoppedNotification:n}=It;n&&St.setTimeout(()=>n(e,t))}const mr={closed:!0,next:_n,error:function _o(e){throw e},complete:_n},Zi="function"==typeof Symbol&&Symbol.observable||"@@observable";function br(e){return e}function Xi(e){return 0===e.length?br:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let qt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function To(e){return e&&e instanceof Zn||function bi(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&vt(e)}(n)?n:new bn(n,r,i);return Dt(()=>{const{operator:l,source:f}=this;o.add(l?l.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=As(r))((i,o)=>{const l=new bn({next:f=>{try{n(f)}catch(m){o(m),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Zi](){return this}pipe(...n){return Xi(n)(this)}toPromise(n){return new(n=As(n))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return e.create=t=>new e(t),e})();function As(e){var t;return null!==(t=e??It.Promise)&&void 0!==t?t:Promise}const Ro=$t(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gt=(()=>{class e extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ro}next(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?We:(this.currentObservers=null,o.push(n),new le(()=>{this.currentObservers=null,bt(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qt;return n.source=this,n}}return e.create=(t,n)=>new mn(t,n),e})();class mn extends gt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:We}}function Ji(e){return ye(e?.lift)}function zt(e){return t=>{if(Ji(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kt(e,t,n,r,i){return new Po(e,t,n,r,i)}class Po extends Zn{constructor(t,n,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=n?function(f){try{n(f)}catch(m){t.error(m)}}:super._next,this._error=i?function(f){try{i(f)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ye(e,t){return zt((n,r)=>{let i=0;n.subscribe(Kt(r,o=>{r.next(e.call(t,o,i++))}))})}function Xn(e){return this instanceof Xn?(this.v=e,this):new Xn(e)}function ec(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ze(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(f,m){!function i(o,l,f,m){Promise.resolve(m).then(function(S){o({value:S,done:f})},l)}(f,m,(l=e[o](l)).done,l.value)})}}}const Xa=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ja(e){return ye(e?.then)}function Rs(e){return ye(e[Zi])}function Qa(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function Oo(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ko=function nc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eu(e){return ye(e?.[ko])}function tu(e){return function Ts(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(U){r[U]&&(i[U]=function(G){return new Promise(function(J,ie){o.push([U,G,J,ie])>1||f(U,G)})})}function f(U,G){try{!function m(U){U.value instanceof Xn?Promise.resolve(U.value.v).then(S,I):O(o[0][2],U)}(r[U](G))}catch(J){O(o[0][3],J)}}function S(U){f("next",U)}function I(U){f("throw",U)}function O(U,G){U(G),o.shift(),o.length&&f(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Xn(n.read());if(i)return yield Xn(void 0);yield yield Xn(r)}}finally{n.releaseLock()}})}function nu(e){return ye(e?.getReader)}function cr(e){if(e instanceof qt)return e;if(null!=e){if(Rs(e))return function rc(e){return new qt(t=>{const n=e[Zi]();if(ye(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Xa(e))return function ic(e){return new qt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ja(e))return function sc(e){return new qt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,yt)})}(e);if(Qa(e))return ru(e);if(eu(e))return function oc(e){return new qt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(nu(e))return function ac(e){return ru(tu(e))}(e)}throw Oo(e)}function ru(e){return new qt(t=>{(function uc(e,t){var n,r,i,o;return function q(e,t,n,r){return new(n||(n=Promise))(function(o,l){function f(I){try{S(r.next(I))}catch(O){l(O)}}function m(I){try{S(r.throw(I))}catch(O){l(O)}}function S(I){I.done?o(I.value):function i(o){return o instanceof n?o:new n(function(l){l(o)})}(I.value).then(f,m)}S((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ec(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ir(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function yn(e,t,n=1/0){return ye(t)?yn((r,i)=>Ye((o,l)=>t(r,o,i,l))(cr(e(r,i))),n):("number"==typeof t&&(n=t),zt((r,i)=>function lc(e,t,n,r,i,o,l,f){const m=[];let S=0,I=0,O=!1;const U=()=>{O&&!m.length&&!S&&t.complete()},G=ie=>S<r?J(ie):m.push(ie),J=ie=>{o&&t.next(ie),S++;let se=!1;cr(n(ie,I++)).subscribe(Kt(t,de=>{i?.(de),o?G(de):t.next(de)},()=>{se=!0},void 0,()=>{if(se)try{for(S--;m.length&&S<r;){const de=m.shift();l?Ir(t,l,()=>J(de)):J(de)}U()}catch(de){t.error(de)}}))};return e.subscribe(Kt(t,G,()=>{O=!0,U()})),()=>{f?.()}}(r,i,e,n)))}function Ii(e=1/0){return yn(br,e)}const vr=new qt(e=>e.complete());function Lo(e){return e[e.length-1]}function es(e){return function fc(e){return e&&ye(e.schedule)}(Lo(e))?e.pop():void 0}function Ai(e,t=0){return zt((n,r)=>{n.subscribe(Kt(r,i=>Ir(r,e,()=>r.next(i),t),()=>Ir(r,e,()=>r.complete(),t),i=>Ir(r,e,()=>r.error(i),t)))})}function Bo(e,t=0){return zt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function iu(e,t){if(!e)throw new Error("Iterable cannot be null");return new qt(n=>{Ir(n,t,()=>{const r=e[Symbol.asyncIterator]();Ir(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tn(e,t){return t?function yc(e,t){if(null!=e){if(Rs(e))return function pc(e,t){return cr(e).pipe(Bo(t),Ai(t))}(e,t);if(Xa(e))return function mc(e,t){return new qt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ja(e))return function gc(e,t){return cr(e).pipe(Bo(t),Ai(t))}(e,t);if(Qa(e))return iu(e,t);if(eu(e))return function vc(e,t){return new qt(n=>{let r;return Ir(n,t,()=>{r=e[ko](),Ir(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void n.error(l)}o?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(e,t);if(nu(e))return function Fi(e,t){return iu(tu(e),t)}(e,t)}throw Oo(e)}(e,t):cr(e)}function jo(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new bn({next:()=>{r.unsubscribe(),e()}});return cr(t(...n)).subscribe(r)}function wt(e){for(let t in e)if(e[t]===wt)return t;throw Error("Could not find renamed property on target object.")}function xt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vo(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Rn=wt({__forward_ref__:wt});function Uo(e){return e.__forward_ref__=Uo,e.toString=function(){return xt(this())},e}function Te(e){return $o(e)?e():e}function $o(e){return"function"==typeof e&&e.hasOwnProperty(Rn)&&e.__forward_ref__===Uo}function ts(e){return e&&!!e.\u0275providers}class pe extends Error{constructor(t,n){super(_i(t,n)),this.code=t}}function _i(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function Ln(e,t){throw new pe(-201,!1)}function Jn(e,t){null==e&&function ut(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ps(e){return au(e,Ns)||au(e,uu)}function au(e,t){return e.hasOwnProperty(t)?e[t]:null}function Xt(e){return e&&(e.hasOwnProperty(zo)||e.hasOwnProperty(Fc))?e[zo]:null}const Ns=wt({\u0275prov:wt}),zo=wt({\u0275inj:wt}),uu=wt({ngInjectableDef:wt}),Fc=wt({ngInjectorDef:wt});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Ko;function Qn(e){const t=Ko;return Ko=e,t}function nt(e,t,n){const r=Ps(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Re.Optional?null:void 0!==t?t:void Ln(xt(e))}const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ns={},Go="__NG_DI_FLAG__",Ms="ngTempTokenPath",Tc="ngTokenPath",Ar=/\n/gm,Rc="\u0275",lu="__source";let rs;function Ti(e){const t=rs;return rs=e,t}function Pc(e,t=Re.Default){if(void 0===rs)throw new pe(-203,!1);return null===rs?nt(e,void 0,t):rs.get(e,t&Re.Optional?null:void 0,t)}function Ae(e,t=Re.Default){return(function _c(){return Ko}()||Pc)(Te(e),t)}function Qe(e,t=Re.Default){return Ae(e,fe(t))}function fe(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function d(e){const t=[];for(let n=0;n<e.length;n++){const r=Te(e[n]);if(Array.isArray(r)){if(0===r.length)throw new pe(900,!1);let i,o=Re.Default;for(let l=0;l<r.length;l++){const f=r[l],m=fu(f);"number"==typeof m?-1===m?i=f.token:o|=m:i=f}t.push(Ae(i,o))}else t.push(Ae(r))}return t}function Os(e,t){return e[Go]=t,e.prototype[Go]=t,e}function fu(e){return e[Go]}function Vt(e){return{toString:e}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),wr=(()=>{return(e=wr||(wr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",wr;var e})();const Fr={},Xe=[],zr=wt({\u0275cmp:wt}),Gt=wt({\u0275dir:wt}),Et=wt({\u0275pipe:wt}),Ri=wt({\u0275mod:wt}),nn=wt({\u0275fac:wt}),is=wt({__NG_ELEMENT_ID__:wt});let Nc=0;function _r(e){return Vt(()=>{const t=Ot(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||wr.Emulated,id:"c"+Nc++,styles:e.styles||Xe,_:null,schemas:e.schemas||null,tView:null};hu(n);const r=e.dependencies;return n.directiveDefs=Ls(r,!1),n.pipeDefs=Ls(r,!0),n})}function Mc(e){return ct(e)||rn(e)}function Sp(e){return null!==e}function ai(e){return Vt(()=>({type:e.type,bootstrap:e.bootstrap||Xe,declarations:e.declarations||Xe,imports:e.imports||Xe,exports:e.exports||Xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function wn(e,t){if(null==e)return Fr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function Ct(e){return Vt(()=>{const t=Ot(e);return hu(t),t})}function ct(e){return e[zr]||null}function rn(e){return e[Gt]||null}function Nn(e){return e[Et]||null}function ft(e,t){const n=e[Ri]||null;if(!n&&!0===t)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return n}function Ot(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Xe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wn(e.inputs,t),outputs:wn(e.outputs)}}function hu(e){e.features?.forEach(t=>t(e))}function Ls(e,t){if(!e)return null;const n=t?Nn:Mc;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Sp)}const Tr=0,ge=1,Ve=2,Ut=3,fr=4,Kr=5,sn=6,Rr=7,kt=8,Ni=9,ui=10,$e=11,ss=12,Mi=13,Bs=14,Pr=15,An=16,os=17,li=18,er=19,ci=20,pu=21,_t=22,Oi=1,as=2,us=7,ls=8,fi=9,Mn=10;function re(e){return Array.isArray(e)&&"object"==typeof e[Oi]}function je(e){return Array.isArray(e)&&!0===e[Oi]}function gu(e){return 0!=(4&e.flags)}function js(e){return e.componentOffset>-1}function cs(e){return 1==(1&e.flags)}function tr(e){return!!e.template}function Lc(e){return 0!=(256&e[Ve])}function _(e,t){return e.hasOwnProperty(nn)?e[nn]:null}class C{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function N(){return k}function k(e){return e.type.prototype.ngOnChanges&&(e.setInput=L),B}function B(){const e=te(this),t=e?.current;if(t){const n=e.previous;if(n===Fr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function L(e,t,n,r){const i=this.declaredInputs[n],o=te(e)||function P(e,t){return e[X]=t}(e,{previous:Fr,current:null}),l=o.current||(o.current={}),f=o.previous,m=f[i];l[i]=new C(m&&m.currentValue,t,f===Fr),e[r]=t}N.ngInherit=!0;const X="__ngSimpleChanges__";function te(e){return e[X]||null}const V=function(e,t,n){};function $(e){for(;Array.isArray(e);)e=e[Tr];return e}function Q(e,t){return $(t[e.index])}function De(e,t){return e.data[t]}function _e(e,t){const n=t[e];return re(n)?n:n[Tr]}function ot(e){return 64==(64&e[Ve])}function Lt(e,t){return null==t?null:e[t]}function jn(e){e[li]=0}function dn(e,t){e[Kr]+=t;let n=e,r=e[Ut];for(;null!==r&&(1===t&&1===n[Kr]||-1===t&&0===n[Kr]);)r[Kr]+=t,n=r,r=r[Ut]}const xe={lFrame:_p(null),bindingsEnabled:!0};function Fn(){return xe.bindingsEnabled}function oe(){return xe.lFrame.lView}function qe(){return xe.lFrame.tView}function Bt(){let e=yu();for(;null!==e&&64===e.type;)e=e.parent;return e}function yu(){return xe.lFrame.currentTNode}function tt(e,t){const n=xe.lFrame;n.currentTNode=e,n.isParent=t}function nr(){return xe.lFrame.isParent}function Hs(){return xe.lFrame.bindingIndex++}function tE(e,t){const n=xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bc(t)}function Bc(e){xe.lFrame.currentDirectiveIndex=e}function Hc(e){xe.lFrame.currentQueryIndex=e}function rE(e){const t=e[ge];return 2===t.type?t.declTNode:1===t.type?e[sn]:null}function Ap(e,t,n){if(n&Re.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Re.Host||(i=rE(o),null===i||(o=o[Pr],10&i.type))););if(null===i)return!1;t=i,e=o}const r=xe.lFrame=Fp();return r.currentTNode=t,r.lView=e,!0}function Vc(e){const t=Fp(),n=e[ge];xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fp(){const e=xe.lFrame,t=null===e?null:e.child;return null===t?_p(e):t}function _p(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tp(){const e=xe.lFrame;return xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rp=Tp;function Uc(){const e=Tp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Kn(){return xe.lFrame.selectedIndex}function fs(e){xe.lFrame.selectedIndex=e}function wu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:S,ngOnDestroy:I}=o;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),f&&((e.contentHooks||(e.contentHooks=[])).push(n,f),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,f)),m&&(e.viewHooks||(e.viewHooks=[])).push(-n,m),S&&((e.viewHooks||(e.viewHooks=[])).push(n,S),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,S)),null!=I&&(e.destroyHooks||(e.destroyHooks=[])).push(n,I)}}function Eu(e,t,n){Pp(e,t,3,n)}function Su(e,t,n,r){(3&e[Ve])===n&&Pp(e,t,n,r)}function $c(e,t){let n=e[Ve];(3&n)===t&&(n&=2047,n+=1,e[Ve]=n)}function Pp(e,t,n,r){const o=r??-1,l=t.length-1;let f=0;for(let m=void 0!==r?65535&e[li]:0;m<l;m++)if("number"==typeof t[m+1]){if(f=t[m],null!=r&&f>=r)break}else t[m]<0&&(e[li]+=65536),(f<o||-1==o)&&(dE(e,n,t,m),e[li]=(4294901760&e[li])+m+2),m++}function dE(e,t,n,r){const i=n[r]<0,o=n[r+1],f=e[i?-n[r]:n[r]];if(i){if(e[Ve]>>11<e[li]>>16&&(3&e[Ve])===t){e[Ve]+=2048,V(4,f,o);try{o.call(f)}finally{V(5,f,o)}}}else{V(4,f,o);try{o.call(f)}finally{V(5,f,o)}}}const Vs=-1;class Yo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],l=n[r++],f=n[r++];e.setAttribute(t,l,f,o)}else{const o=i,l=n[++r];Mp(o)?e.setProperty(t,o,l):e.setAttribute(t,o,l),r++}}return r}function Np(e){return 3===e||4===e||6===e}function Mp(e){return 64===e.charCodeAt(0)}function Zo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Op(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Op(e,t,n,r,i){let o=0,l=e.length;if(-1===t)l=-1;else for(;o<e.length;){const f=e[o++];if("number"==typeof f){if(f===t){l=-1;break}if(f>t){l=o-1;break}}}for(;o<e.length;){const f=e[o];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(e.splice(l,0,t),o=l+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function kp(e){return e!==Vs}function Du(e){return 32767&e}function xu(e,t){let n=function mE(e){return e>>16}(e),r=t;for(;n>0;)r=r[Pr],n--;return r}let Kc=!0;function Cu(e){const t=Kc;return Kc=e,t}const Lp=255,Bp=5;let vE=0;const Wr={};function bu(e,t){const n=jp(e,t);if(-1!==n)return n;const r=t[ge];r.firstCreatePass&&(e.injectorIndex=t.length,Gc(r.data,e),Gc(t,null),Gc(r.blueprint,null));const i=Wc(e,t),o=e.injectorIndex;if(kp(i)){const l=Du(i),f=xu(i,t),m=f[ge].data;for(let S=0;S<8;S++)t[o+S]=f[l+S]|m[l+S]}return t[o+8]=i,o}function Gc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Wc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Gp(i),null===r)return Vs;if(n++,i=i[Pr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Vs}function Yc(e,t,n){!function yE(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(is)&&(r=n[is]),null==r&&(r=n[is]=vE++);const i=r&Lp;t.data[e+(i>>Bp)]|=1<<i}(e,t,n)}function Hp(e,t,n){if(n&Re.Optional||void 0!==e)return e;Ln()}function Vp(e,t,n,r){if(n&Re.Optional&&void 0===r&&(r=null),!(n&(Re.Self|Re.Host))){const i=e[Ni],o=Qn(void 0);try{return i?i.get(t,r,n&Re.Optional):nt(t,r,n&Re.Optional)}finally{Qn(o)}}return Hp(r,0,n)}function Up(e,t,n,r=Re.Default,i){if(null!==e){if(1024&t[Ve]){const l=function xE(e,t,n,r,i){let o=e,l=t;for(;null!==o&&null!==l&&1024&l[Ve]&&!(256&l[Ve]);){const f=$p(o,l,n,r|Re.Self,Wr);if(f!==Wr)return f;let m=o.parent;if(!m){const S=l[pu];if(S){const I=S.get(n,Wr,r);if(I!==Wr)return I}m=Gp(l),l=l[Pr]}o=m}return i}(e,t,n,r,Wr);if(l!==Wr)return l}const o=$p(e,t,n,r,Wr);if(o!==Wr)return o}return Vp(t,n,r,i)}function $p(e,t,n,r,i){const o=function SE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(is)?e[is]:void 0;return"number"==typeof t?t>=0?t&Lp:DE:t}(n);if("function"==typeof o){if(!Ap(t,e,r))return r&Re.Host?Hp(i,0,r):Vp(t,n,r,i);try{const l=o(r);if(null!=l||r&Re.Optional)return l;Ln()}finally{Rp()}}else if("number"==typeof o){let l=null,f=jp(e,t),m=Vs,S=r&Re.Host?t[An][sn]:null;for((-1===f||r&Re.SkipSelf)&&(m=-1===f?Wc(e,t):t[f+8],m!==Vs&&zp(r,!1)?(l=t[ge],f=Du(m),t=xu(m,t)):f=-1);-1!==f;){const I=t[ge];if(qp(o,f,I.data)){const O=EE(f,t,n,l,r,S);if(O!==Wr)return O}m=t[f+8],m!==Vs&&zp(r,t[ge].data[f+8]===S)&&qp(o,f,t)?(l=I,f=Du(m),t=xu(m,t)):f=-1}}return i}function EE(e,t,n,r,i,o){const l=t[ge],f=l.data[e+8],I=function Iu(e,t,n,r,i){const o=e.providerIndexes,l=t.data,f=1048575&o,m=e.directiveStart,I=o>>20,U=i?f+I:e.directiveEnd;for(let G=r?f:f+I;G<U;G++){const J=l[G];if(G<m&&n===J||G>=m&&J.type===n)return G}if(i){const G=l[m];if(G&&tr(G)&&G.type===n)return m}return null}(f,l,n,null==r?js(f)&&Kc:r!=l&&0!=(3&f.type),i&Re.Host&&o===f);return null!==I?ds(t,l,I,f):Wr}function ds(e,t,n,r){let i=e[n];const o=t.data;if(function hE(e){return e instanceof Yo}(i)){const l=i;l.resolving&&function fn(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function He(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}(o[n]));const f=Cu(l.canSeeViewProviders);l.resolving=!0;const m=l.injectImpl?Qn(l.injectImpl):null;Ap(e,r,Re.Default);try{i=e[n]=l.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function fE(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=k(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==m&&Qn(m),Cu(f),l.resolving=!1,Rp()}}return i}function qp(e,t,n){return!!(n[t+(e>>Bp)]&1<<e)}function zp(e,t){return!(e&Re.Self||e&Re.Host&&t)}class Us{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Up(this._tNode,this._lView,t,fe(r),n)}}function DE(){return new Us(Bt(),oe())}function Zc(e){return $o(e)?()=>{const t=Zc(Te(e));return t&&t()}:_(e)}function Gp(e){const t=e[ge],n=t.type;return 2===n?t.declTNode:1===n?e[sn]:null}const qs="__parameters__";function Ks(e,t,n){return Vt(()=>{const r=function Xc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return f.annotation=l,f;function f(m,S,I){const O=m.hasOwnProperty(qs)?m[qs]:Object.defineProperty(m,qs,{value:[]})[qs];for(;O.length<=I;)O.push(null);return(O[I]=O[I]||[]).push(l),m}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class ke{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hs(e,t){e.forEach(n=>Array.isArray(n)?hs(n,t):t(n))}function Yp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ea=Os(Ks("Optional"),8),ta=Os(Ks("SkipSelf"),4);var rr=(()=>((rr=rr||{})[rr.Important=1]="Important",rr[rr.DashCase=2]="DashCase",rr))();const af=new Map;let YE=0;const lf="__ngContext__";function Vn(e,t){re(t)?(e[lf]=t[ci],function XE(e){af.set(e[ci],e)}(t)):e[lf]=t}let cf;function ff(e,t){return cf(e,t)}function sa(e){const t=e[Ut];return je(t)?t[Ut]:t}function df(e){return mg(e[Mi])}function hf(e){return mg(e[fr])}function mg(e){for(;null!==e&&!je(e);)e=e[fr];return e}function Ys(e,t,n,r,i){if(null!=r){let o,l=!1;je(r)?o=r:re(r)&&(l=!0,r=r[Tr]);const f=$(r);0===e&&null!==n?null==i?Dg(t,n,f):ps(t,n,f,i||null,!0):1===e&&null!==n?ps(t,n,f,i||null,!0):2===e?function Ef(e,t,n){const r=Pu(e,t);r&&function vS(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,f,l):3===e&&t.destroyNode(f),null!=o&&function ES(e,t,n,r,i){const o=n[us];o!==$(n)&&Ys(t,e,r,o,i);for(let f=Mn;f<n.length;f++){const m=n[f];oa(m[ge],m,e,t,r,o)}}(t,e,o,n,i)}}function gf(e,t,n){return e.createElement(t,n)}function yg(e,t){const n=e[fi],r=n.indexOf(t),i=t[Ut];512&t[Ve]&&(t[Ve]&=-513,dn(i,-1)),n.splice(r,1)}function mf(e,t){if(e.length<=Mn)return;const n=Mn+t,r=e[n];if(r){const i=r[os];null!==i&&i!==e&&yg(i,r),t>0&&(e[n-1][fr]=r[fr]);const o=Fu(e,Mn+t);!function lS(e,t){oa(e,t,t[$e],2,null,null),t[Tr]=null,t[sn]=null}(r[ge],r);const l=o[er];null!==l&&l.detachView(o[ge]),r[Ut]=null,r[fr]=null,r[Ve]&=-65}return r}function wg(e,t){if(!(128&t[Ve])){const n=t[$e];n.destroyNode&&oa(e,t,n,3,null,null),function dS(e){let t=e[Mi];if(!t)return vf(e[ge],e);for(;t;){let n=null;if(re(t))n=t[Mi];else{const r=t[Mn];r&&(n=r)}if(!n){for(;t&&!t[fr]&&t!==e;)re(t)&&vf(t[ge],t),t=t[Ut];null===t&&(t=e),re(t)&&vf(t[ge],t),n=t&&t[fr]}t=n}}(t)}}function vf(e,t){if(!(128&t[Ve])){t[Ve]&=-65,t[Ve]|=128,function mS(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Yo)){const o=n[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const f=i[o[l]],m=o[l+1];V(4,f,m);try{m.call(f)}finally{V(5,f,m)}}else{V(4,i,o);try{o.call(i)}finally{V(5,i,o)}}}}}(e,t),function gS(e,t){const n=e.cleanup,r=t[Rr];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const l=n[o+3];l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[Rr]=null}}(e,t),1===t[ge].type&&t[$e].destroy();const n=t[os];if(null!==n&&je(t[Ut])){n!==t[Ut]&&yg(n,t);const r=t[er];null!==r&&r.detachView(e)}!function JE(e){af.delete(e[ci])}(t)}}function Eg(e,t,n){return function Sg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Tr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===wr.None||o===wr.Emulated)return null}return Q(r,n)}}(e,t.parent,n)}function ps(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Dg(e,t,n){e.appendChild(t,n)}function xg(e,t,n,r,i){null!==r?ps(e,t,n,r,i):Dg(e,t,n)}function Pu(e,t){return e.parentNode(t)}let yf,xf,Ig=function bg(e,t,n){return 40&e.type?Q(e,n):null};function Nu(e,t,n,r){const i=Eg(e,r,t),o=t[$e],f=function Cg(e,t,n){return Ig(e,t,n)}(r.parent||t[sn],r,t);if(null!=i)if(Array.isArray(n))for(let m=0;m<n.length;m++)xg(o,i,n[m],f,!1);else xg(o,i,n,f,!1);void 0!==yf&&yf(o,r,t,n,i)}function Mu(e,t){if(null!==t){const n=t.type;if(3&n)return Q(t,e);if(4&n)return wf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Mu(e,r);{const i=e[t.index];return je(i)?wf(-1,i):$(i)}}if(32&n)return ff(t,e)()||$(e[t.index]);{const r=Fg(e,t);return null!==r?Array.isArray(r)?r[0]:Mu(sa(e[An]),r):Mu(e,t.next)}}return null}function Fg(e,t){return null!==t?e[An][sn].projection[t.projection]:null}function wf(e,t){const n=Mn+e+1;if(n<t.length){const r=t[n],i=r[ge].firstChild;if(null!==i)return Mu(r,i)}return t[us]}function Sf(e,t,n,r,i,o,l){for(;null!=n;){const f=r[n.index],m=n.type;if(l&&0===t&&(f&&Vn($(f),r),n.flags|=2),32!=(32&n.flags))if(8&m)Sf(e,t,n.child,r,i,o,!1),Ys(t,e,i,f,o);else if(32&m){const S=ff(n,r);let I;for(;I=S();)Ys(t,e,i,I,o);Ys(t,e,i,f,o)}else 16&m?_g(e,t,r,n,i,o):Ys(t,e,i,f,o);n=l?n.projectionNext:n.next}}function oa(e,t,n,r,i,o){Sf(n,r,e.firstChild,t,i,o,!1)}function _g(e,t,n,r,i,o){const l=n[An],m=l[sn].projection[r.projection];if(Array.isArray(m))for(let S=0;S<m.length;S++)Ys(t,e,i,m[S],o);else Sf(e,t,m,l[Ut],i,o,!0)}function Tg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Rg(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&zc(e,t,r),null!==i&&Tg(e,t,i),null!==o&&function DS(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const Bu=new ke("ENVIRONMENT_INITIALIZER"),Kg=new ke("INJECTOR",-1),Gg=new ke("INJECTOR_DEF_TYPES");class Wg{get(t,n=ns){if(n===ns){const r=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw r.name="NullInjectorError",r}return n}}function YS(...e){return{\u0275providers:Yg(0,e),\u0275fromNgModule:!0}}function Yg(e,...t){const n=[],r=new Set;let i;return hs(t,o=>{const l=o;_f(l,n,[],r)&&(i||(i=[]),i.push(l))}),void 0!==i&&Zg(i,n),n}function Zg(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Tf(i,o=>{t.push(o)})}}function _f(e,t,n,r){if(!(e=Te(e)))return!1;let i=null,o=Xt(e);const l=!o&&ct(e);if(o||l){if(l&&!l.standalone)return!1;i=e}else{const m=e.ngModule;if(o=Xt(m),!o)return!1;i=m}const f=r.has(i);if(l){if(f)return!1;if(r.add(i),l.dependencies){const m="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const S of m)_f(S,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!f){let S;r.add(i);try{hs(o.imports,I=>{_f(I,t,n,r)&&(S||(S=[]),S.push(I))})}finally{}void 0!==S&&Zg(S,t)}if(!f){const S=_(i)||(()=>new i);t.push({provide:i,useFactory:S,deps:Xe},{provide:Gg,useValue:i,multi:!0},{provide:Bu,useValue:()=>Ae(i),multi:!0})}const m=o.providers;null==m||f||Tf(m,I=>{t.push(I)})}}return i!==e&&void 0!==e.providers}function Tf(e,t){for(let n of e)ts(n)&&(n=n.\u0275providers),Array.isArray(n)?Tf(n,t):t(n)}const ZS=wt({provide:String,useValue:wt});function Rf(e){return null!==e&&"object"==typeof e&&ZS in e}function gs(e){return"function"==typeof e}const Pf=new ke("Set Injector scope."),ju={},JS={};let Nf;function Hu(){return void 0===Nf&&(Nf=new Wg),Nf}class gi{}class Qg extends gi{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Of(t,l=>this.processProvider(l)),this.records.set(Kg,Xs(void 0,this)),i.has("environment")&&this.records.set(gi,Xs(void 0,this));const o=this.records.get(Pf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gg.multi,Xe,Re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Ti(this),r=Qn(void 0);try{return t()}finally{Ti(n),Qn(r)}}get(t,n=ns,r=Re.Default){this.assertNotDestroyed(),r=fe(r);const i=Ti(this),o=Qn(void 0);try{if(!(r&Re.SkipSelf)){let f=this.records.get(t);if(void 0===f){const m=function rD(e){return"function"==typeof e||"object"==typeof e&&e instanceof ke}(t)&&Ps(t);f=m&&this.injectableDefInScope(m)?Xs(Mf(t),ju):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&Re.Self?Hu():this.parent).get(t,n=r&Re.Optional&&n===ns?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[Ms]=l[Ms]||[]).unshift(xt(t)),i)throw l;return function du(e,t,n,r){const i=e[Ms];throw t[lu]&&i.unshift(t[lu]),e.message=function ks(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Rc?e.slice(2):e;let i=xt(t);if(Array.isArray(t))i=t.map(xt).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let f=t[l];o.push(l+":"+("string"==typeof f?JSON.stringify(f):xt(f)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ar,"\n  ")}`}("\n"+e.message,i,n,r),e[Tc]=i,e[Ms]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{Qn(o),Ti(i)}}resolveInjectorInitializers(){const t=Ti(this),n=Qn(void 0);try{const r=this.get(Bu.multi,Xe,Re.Self);for(const i of r)i()}finally{Ti(t),Qn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(xt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(t){let n=gs(t=Te(t))?t:Te(t&&t.provide);const r=function eD(e){return Rf(e)?Xs(void 0,e.useValue):Xs(function e0(e,t,n){let r;if(gs(e)){const i=Te(e);return _(i)||Mf(i)}if(Rf(e))r=()=>Te(e.useValue);else if(function Jg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...d(e.deps||[]));else if(function Xg(e){return!(!e||!e.useExisting)}(e))r=()=>Ae(Te(e.useExisting));else{const i=Te(e&&(e.useClass||e.provide));if(!function tD(e){return!!e.deps}(e))return _(i)||Mf(i);r=()=>new i(...d(e.deps))}return r}(e),ju)}(t);if(gs(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Xs(void 0,ju,!0),i.factory=()=>d(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ju&&(n.value=JS,n.value=n.factory()),"object"==typeof n.value&&n.value&&function nD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Te(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Mf(e){const t=Ps(e),n=null!==t?t.factory:_(e);if(null!==n)return n;if(e instanceof ke)throw new pe(204,!1);if(e instanceof Function)return function QS(e){const t=e.length;if(t>0)throw function Qo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new pe(204,!1);const n=function Ic(e){const t=e&&(e[Ns]||e[uu]);return t?(function Ac(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new pe(204,!1)}function Xs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Of(e,t){for(const n of e)Array.isArray(n)?Of(n,t):n&&ts(n)?Of(n.\u0275providers,t):t(n)}class iD{}class t0{}class oD{resolveComponentFactory(t){throw function sD(e){const t=Error(`No component factory found for ${xt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ca=(()=>{class e{}return e.NULL=new oD,e})();function aD(){return Js(Bt(),oe())}function Js(e,t){return new Bi(Q(e,t))}let Bi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=aD,e})();class r0{}let cD=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>null}),e})();class Uu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fD=new Uu("15.2.3"),kf={},Lf="ngOriginalError";function Bf(e){return e[Lf]}class Qs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Bf(t);for(;n&&Bf(n);)n=Bf(n);return n||null}}function mi(e){return e instanceof Function?e():e}function o0(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const a0="ng-template";function DD(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==o0(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function u0(e){return 4===e.type&&e.value!==a0}function xD(e,t,n){return t===(4!==e.type||n?e.value:a0)}function CD(e,t,n){let r=4;const i=e.attrs||[],o=function AD(e){for(let t=0;t<e.length;t++)if(Np(e[t]))return t;return e.length}(i);let l=!1;for(let f=0;f<t.length;f++){const m=t[f];if("number"!=typeof m){if(!l)if(4&r){if(r=2|1&r,""!==m&&!xD(e,m,n)||""===m&&1===t.length){if(Nr(r))return!1;l=!0}}else{const S=8&r?m:t[++f];if(8&r&&null!==e.attrs){if(!DD(e.attrs,S,n)){if(Nr(r))return!1;l=!0}continue}const O=bD(8&r?"class":m,i,u0(e),n);if(-1===O){if(Nr(r))return!1;l=!0;continue}if(""!==S){let U;U=O>o?"":i[O+1].toLowerCase();const G=8&r?U:null;if(G&&-1!==o0(G,S,0)||2&r&&S!==U){if(Nr(r))return!1;l=!0}}}}else{if(!l&&!Nr(r)&&!Nr(m))return!1;if(l&&Nr(m))continue;l=!1,r=m|1&r}}return Nr(r)||l}function Nr(e){return 0==(1&e)}function bD(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let f=t[++i];for(;"string"==typeof f;)f=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function FD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function l0(e,t,n=!1){for(let r=0;r<t.length;r++)if(CD(e,t[r],n))return!0;return!1}function c0(e,t){return e?":not("+t.trim()+")":t}function TD(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const f=e[++n];i+="["+l+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!Nr(l)&&(t+=c0(o,i),i=""),r=l,o=o||!Nr(r);n++}return""!==i&&(t+=c0(o,i)),t}const Ue={};function Sn(e){f0(qe(),oe(),Kn()+e,!1)}function f0(e,t,n,r){if(!r)if(3==(3&t[Ve])){const o=e.preOrderCheckHooks;null!==o&&Eu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Su(t,o,0,n)}fs(n)}function g0(e,t=null,n=null,r){const i=m0(e,t,n,r);return i.resolveInjectorInitializers(),i}function m0(e,t=null,n=null,r,i=new Set){const o=[n||Xe,YS(e)];return r=r||("object"==typeof e?void 0:xt(e)),new Qg(o,t||Hu(),r||null,i)}let Yr=(()=>{class e{static create(n,r){if(Array.isArray(n))return g0({name:""},r,n,"");{const i=n.name??"";return g0({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=ns,e.NULL=new Wg,e.\u0275prov=Ie({token:e,providedIn:"any",factory:()=>Ae(Kg)}),e.__NG_ELEMENT_ID__=-1,e})();function Fe(e,t=Re.Default){const n=oe();return null===n?Ae(e,t):Up(Bt(),n,Te(e),t)}function C0(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const l=e.data[o];Hc(n[r]),l.contentQueries(2,t[o],o)}}}function qu(e,t,n,r,i,o,l,f,m,S,I){const O=t.blueprint.slice();return O[Tr]=i,O[Ve]=76|r,(null!==I||e&&1024&e[Ve])&&(O[Ve]|=1024),jn(O),O[Ut]=O[Pr]=e,O[kt]=n,O[ui]=l||e&&e[ui],O[$e]=f||e&&e[$e],O[ss]=m||e&&e[ss]||null,O[Ni]=S||e&&e[Ni]||null,O[sn]=o,O[ci]=function ZE(){return YE++}(),O[pu]=I,O[An]=2==t.type?e[An]:O,O}function no(e,t,n,r,i){let o=e.data[t];if(null===o)o=function $f(e,t,n,r,i){const o=yu(),l=nr(),m=e.data[t]=function n2(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=m),null!==o&&(l?null==o.child&&null!==m.parent&&(o.child=m):null===o.next&&(o.next=m,m.prev=o)),m}(e,t,n,r,i),function eE(){return xe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const l=function ki(){const e=xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return tt(o,!0),o}function fa(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function qf(e,t,n){Vc(t);try{const r=e.viewQuery;null!==r&&ed(1,r,n);const i=e.template;null!==i&&b0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&C0(e,t),e.staticViewQueries&&ed(2,e.viewQuery,n);const o=e.components;null!==o&&function QD(e,t){for(let n=0;n<t.length;n++)S2(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ve]&=-5,Uc()}}function zu(e,t,n,r){const i=t[Ve];if(128!=(128&i)){Vc(t);try{jn(t),function Cp(e){return xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&b0(e,t,n,2,r);const l=3==(3&i);if(l){const S=e.preOrderCheckHooks;null!==S&&Eu(t,S,null)}else{const S=e.preOrderHooks;null!==S&&Su(t,S,0,null),$c(t,0)}if(function w2(e){for(let t=df(e);null!==t;t=hf(t)){if(!t[as])continue;const n=t[fi];for(let r=0;r<n.length;r++){const i=n[r];512&i[Ve]||dn(i[Ut],1),i[Ve]|=512}}}(t),function y2(e){for(let t=df(e);null!==t;t=hf(t))for(let n=Mn;n<t.length;n++){const r=t[n],i=r[ge];ot(r)&&zu(i,r,i.template,r[kt])}}(t),null!==e.contentQueries&&C0(e,t),l){const S=e.contentCheckHooks;null!==S&&Eu(t,S)}else{const S=e.contentHooks;null!==S&&Su(t,S,1),$c(t,1)}!function XD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fs(~i);else{const o=i,l=n[++r],f=n[++r];tE(l,o),f(2,t[o])}}}finally{fs(-1)}}(e,t);const f=e.components;null!==f&&function JD(e,t){for(let n=0;n<t.length;n++)E2(e,t[n])}(t,f);const m=e.viewQuery;if(null!==m&&ed(2,m,r),l){const S=e.viewCheckHooks;null!==S&&Eu(t,S)}else{const S=e.viewHooks;null!==S&&Su(t,S,2),$c(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ve]&=-41,512&t[Ve]&&(t[Ve]&=-513,dn(t[Ut],-1))}finally{Uc()}}}function b0(e,t,n,r,i){const o=Kn(),l=2&r;try{fs(-1),l&&t.length>_t&&f0(e,t,_t,!1),V(l?2:0,i),n(r,i)}finally{fs(o),V(l?3:1,i)}}function zf(e,t,n){if(gu(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const l=e.data[o];l.contentQueries&&l.contentQueries(1,n[o],o)}}}function Kf(e,t,n){Fn()&&(function u2(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;js(n)&&function g2(e,t,n){const r=Q(t,e),i=I0(n),o=e[ui],l=Ku(e,qu(e,i,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=l}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||bu(n,t),Vn(r,t);const l=n.initialInputs;for(let f=i;f<o;f++){const m=e.data[f],S=ds(t,e,f,n);Vn(S,t),null!==l&&m2(0,f-i,S,m,0,l),tr(m)&&(_e(n.index,t)[kt]=ds(t,e,f,n))}}(e,t,n,Q(n,t)),64==(64&n.flags)&&P0(e,t,n))}function Gf(e,t,n=Q){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],f=-1===l?n(t,e):e[l];e[i++]=f}}}function I0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wf(e,t,n,r,i,o,l,f,m,S){const I=_t+r,O=I+i,U=function e2(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ue);return n}(I,O),G="function"==typeof S?S():S;return U[ge]={type:e,blueprint:U,template:n,queries:null,viewQuery:f,declTNode:t,data:U.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:m,consts:G,incompleteFirstPass:!1}}function F0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?_0(n,t,i,o):r.hasOwnProperty(i)&&_0(n,t,r[i],o)}return n}function _0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function T0(e,t){const n=_e(t,e);16&n[Ve]||(n[Ve]|=32)}function Yf(e,t,n,r){if(Fn()){const i=null===r?null:{"":-1},o=function c2(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const l=n[o];if(l0(t,l.selectors,!1))if(r||(r=[]),tr(l))if(null!==l.findHostDirectiveDefs){const f=[];i=i||new Map,l.findHostDirectiveDefs(l,f,i),r.unshift(...f,l),Zf(e,t,f.length)}else r.unshift(l),Zf(e,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(e,n);let l,f;null===o?l=f=null:[l,f]=o,null!==l&&R0(e,t,n,l,i,f),i&&function f2(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new pe(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Zo(n.mergedAttrs,n.attrs)}function R0(e,t,n,r,i,o){for(let S=0;S<r.length;S++)Yc(bu(n,t),e,r[S].type);!function h2(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let S=0;S<r.length;S++){const I=r[S];I.providersResolver&&I.providersResolver(I)}let l=!1,f=!1,m=fa(e,t,r.length,null);for(let S=0;S<r.length;S++){const I=r[S];n.mergedAttrs=Zo(n.mergedAttrs,I.hostAttrs),p2(e,n,t,m,I),d2(m,I,i),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const O=I.type.prototype;!l&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),!f&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),f=!0),m++}!function r2(e,t,n){const i=t.directiveEnd,o=e.data,l=t.attrs,f=[];let m=null,S=null;for(let I=t.directiveStart;I<i;I++){const O=o[I],U=n?n.get(O):null,J=U?U.outputs:null;m=F0(O.inputs,I,m,U?U.inputs:null),S=F0(O.outputs,I,S,J);const ie=null===m||null===l||u0(t)?null:v2(m,I,l);f.push(ie)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=8),m.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=m,t.outputs=S}(e,n,o)}function P0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,l=function nE(){return xe.lFrame.currentDirectiveIndex}();try{fs(o);for(let f=r;f<i;f++){const m=e.data[f],S=t[f];Bc(f),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&l2(m,S)}}finally{fs(-1),Bc(l)}}function l2(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zf(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function d2(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tr(t)&&(n[""]=e)}}function p2(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=_(i.type)),l=new Yo(o,tr(i),Fe);e.blueprint[r]=l,n[r]=l,function o2(e,t,n,r,i){const o=i.hostBindings;if(o){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const f=~t.index;(function a2(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(l)!=f&&l.push(f),l.push(n,r,o)}}(e,t,r,fa(e,n,i.hostVars,Ue),i)}function m2(e,t,n,r,i,o){const l=o[t];if(null!==l){const f=r.setInput;for(let m=0;m<l.length;){const S=l[m++],I=l[m++],O=l[m++];null!==f?r.setInput(n,O,S,I):n[I]=O}}}function v2(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const l=e[o];for(let f=0;f<l.length;f+=2)if(l[f]===t){r.push(o,l[f+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function N0(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function E2(e,t){const n=_e(t,e);if(ot(n)){const r=n[ge];48&n[Ve]?zu(r,n,r.template,n[kt]):n[Kr]>0&&Jf(n)}}function Jf(e){for(let r=df(e);null!==r;r=hf(r))for(let i=Mn;i<r.length;i++){const o=r[i];if(ot(o))if(512&o[Ve]){const l=o[ge];zu(l,o,l.template,o[kt])}else o[Kr]>0&&Jf(o)}const n=e[ge].components;if(null!==n)for(let r=0;r<n.length;r++){const i=_e(n[r],e);ot(i)&&i[Kr]>0&&Jf(i)}}function S2(e,t){const n=_e(t,e),r=n[ge];(function D2(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),qf(r,n,n[kt])}function Ku(e,t){return e[Mi]?e[Bs][fr]=t:e[Mi]=t,e[Bs]=t,t}function Qf(e){for(;e;){e[Ve]|=32;const t=sa(e);if(Lc(e)&&!t)return e;e=t}return null}function Gu(e,t,n,r=!0){const i=t[ui];i.begin&&i.begin();try{zu(e,t,e.template,n)}catch(l){throw r&&L0(t,l),l}finally{i.end&&i.end()}}function ed(e,t,n){Hc(0),t(e,n)}function M0(e){return e[Rr]||(e[Rr]=[])}function O0(e){return e.cleanup||(e.cleanup=[])}function L0(e,t){const n=e[Ni],r=n?n.get(Qs,null):null;r&&r.handleError(t)}function td(e,t,n,r,i){for(let o=0;o<n.length;){const l=n[o++],f=n[o++],m=t[l],S=e.data[l];null!==S.setInput?S.setInput(m,i,r,f):m[f]=i}}function vi(e,t,n){const r=function Y(e,t){return $(t[e])}(t,e);!function vg(e,t,n){e.setValue(t,n)}(e[$e],r,n)}function Wu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?o=f:1==o?i=Vo(i,f):2==o&&(r=Vo(r,f+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Yu(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push($(o)),je(o))for(let f=Mn;f<o.length;f++){const m=o[f],S=m[ge].firstChild;null!==S&&Yu(m[ge],m,S,r)}const l=n.type;if(8&l)Yu(e,t,n.child,r);else if(32&l){const f=ff(n,t);let m;for(;m=f();)r.push(m)}else if(16&l){const f=Fg(t,n);if(Array.isArray(f))r.push(...f);else{const m=sa(t[An]);Yu(m[ge],m,f,r,!0)}}n=i?n.projectionNext:n.next}return r}class da{get rootNodes(){const t=this._lView,n=t[ge];return Yu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(t){this._lView[kt]=t}get destroyed(){return 128==(128&this._lView[Ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ut];if(je(t)){const n=t[ls],r=n?n.indexOf(this):-1;r>-1&&(mf(t,r),Fu(n,r))}this._attachedToViewContainer=!1}wg(this._lView[ge],this._lView)}onDestroy(t){!function A0(e,t,n,r){const i=M0(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&O0(e).push(r,i.length-1))}(this._lView[ge],this._lView,null,t)}markForCheck(){Qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ve]&=-65}reattach(){this._lView[Ve]|=64}detectChanges(){Gu(this._lView[ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fS(e,t){oa(e,t,t[$e],2,null,null)}(this._lView[ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=t}}class x2 extends da{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Gu(t[ge],t,t[kt],!1)}checkNoChanges(){}get context(){return null}}class B0 extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ct(t);return new ha(n,this.ngModule)}}function j0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class b2{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=fe(r);const i=this.injector.get(t,kf,r);return i!==kf||n===kf?i:this.parentInjector.get(t,n,r)}}class ha extends t0{get inputs(){return j0(this.componentDef.inputs)}get outputs(){return j0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function RD(e){return e.map(TD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof gi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new b2(t,o):t,f=l.get(r0,null);if(null===f)throw new pe(407,!1);const m=l.get(cD,null),S=f.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",O=r?function t2(e,t,n){return e.selectRootElement(t,n===wr.ShadowDom)}(S,r,this.componentDef.encapsulation):gf(S,I,function C2(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(I)),U=this.componentDef.onPush?288:272,G=Wf(0,null,null,1,0,null,null,null,null,null),J=qu(null,G,null,U,null,null,f,S,m,l,null);let ie,se;Vc(J);try{const de=this.componentDef;let ve,ae=null;de.findHostDirectiveDefs?(ve=[],ae=new Map,de.findHostDirectiveDefs(de,ve,ae),ve.push(de)):ve=[de];const Be=function A2(e,t){const n=e[ge],r=_t;return e[r]=t,no(n,r,2,"#host",null)}(J,O),Tt=function F2(e,t,n,r,i,o,l,f){const m=i[ge];!function _2(e,t,n,r){for(const i of e)t.mergedAttrs=Zo(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Wu(t,t.mergedAttrs,!0),null!==n&&Rg(r,n,t))}(r,e,t,l);const S=o.createRenderer(t,n),I=qu(i,I0(n),null,n.onPush?32:16,i[e.index],e,o,S,f||null,null,null);return m.firstCreatePass&&Zf(m,e,r.length-1),Ku(i,I),i[e.index]=I}(Be,O,de,ve,J,f,S);se=De(G,_t),O&&function R2(e,t,n,r){if(r)zc(e,n,["ng-version",fD.full]);else{const{attrs:i,classes:o}=function PD(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Nr(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&zc(e,n,i),o&&o.length>0&&Tg(e,n,o.join(" "))}}(S,de,O,r),void 0!==n&&function P2(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,n),ie=function T2(e,t,n,r,i,o){const l=Bt(),f=i[ge],m=Q(l,i);R0(f,i,l,n,null,r);for(let I=0;I<n.length;I++)Vn(ds(i,f,l.directiveStart+I,l),i);P0(f,i,l),m&&Vn(m,i);const S=ds(i,f,l.directiveStart+l.componentOffset,l);if(e[kt]=i[kt]=S,null!==o)for(const I of o)I(S,t);return zf(f,l,e),S}(Tt,de,ve,ae,J,[N2]),qf(G,J,null)}finally{Uc()}return new I2(this.componentType,ie,Js(se,J),J,se)}}class I2 extends iD{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new x2(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;td(o[ge],o,i,t,n),T0(o,this._tNode.index)}}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function N2(){const e=Bt();wu(oe()[ge],e)}function Un(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function yi(e,t,n,r,i,o,l,f){const m=oe(),S=qe(),I=e+_t,O=S.firstCreatePass?function G2(e,t,n,r,i,o,l,f,m){const S=t.consts,I=no(t,e,4,l||null,Lt(S,f));Yf(t,n,I,Lt(S,m)),wu(t,I);const O=I.tView=Wf(2,I,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,S);return null!==t.queries&&(t.queries.template(t,I),O.queries=t.queries.embeddedTView(I)),I}(I,S,m,t,n,r,i,o,l):S.data[I];tt(O,!1);const U=m[$e].createComment("");Nu(S,m,U,O),Vn(U,m),Ku(m,m[I]=N0(U,m,U,O)),cs(O)&&Kf(S,m,O),null!=l&&Gf(m,O,f)}function Mr(e,t,n){const r=oe();return Un(r,Hs(),t)&&function pr(e,t,n,r,i,o,l,f){const m=Q(t,n);let I,S=t.inputs;!f&&null!=S&&(I=S[r])?(td(e,n,I,r,i),js(t)&&T0(n,t.index)):3&t.type&&(r=function i2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(m,r,i))}(qe(),function Yt(){const e=xe.lFrame;return De(e.tView,e.selectedIndex)}(),r,e,t,r[$e],n,!1),Mr}function sd(e,t,n,r,i){const l=i?"class":"style";td(e,n,t.inputs[l],l,r)}function it(e,t,n,r){const i=oe(),o=qe(),l=_t+e,f=i[$e],m=o.firstCreatePass?function Z2(e,t,n,r,i,o){const l=t.consts,m=no(t,e,2,r,Lt(l,i));return Yf(t,n,m,Lt(l,o)),null!==m.attrs&&Wu(m,m.attrs,!1),null!==m.mergedAttrs&&Wu(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(l,o,i,t,n,r):o.data[l],S=i[l]=gf(f,t,function cE(){return xe.lFrame.currentNamespace}()),I=cs(m);return tt(m,!0),Rg(f,S,m),32!=(32&m.flags)&&Nu(o,i,S,m),0===function Jt(){return xe.lFrame.elementDepthCount}()&&Vn(S,i),function Rt(){xe.lFrame.elementDepthCount++}(),I&&(Kf(o,i,m),zf(o,m,i)),null!==r&&Gf(i,m),it}function st(){let e=Bt();nr()?function rt(){xe.lFrame.isParent=!1}():(e=e.parent,tt(e,!1));const t=e;!function Wt(){xe.lFrame.elementDepthCount--}();const n=qe();return n.firstCreatePass&&(wu(n,e),gu(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function pE(e){return 0!=(8&e.flags)}(t)&&sd(n,t,oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function gE(e){return 0!=(16&e.flags)}(t)&&sd(n,t,oe(),t.stylesWithoutHost,!1),st}function Jr(e,t,n,r){return it(e,t,n,r),st(),Jr}function Ju(e){return!!e&&"function"==typeof e.then}const rm=function nm(e){return!!e&&"function"==typeof e.subscribe};function ga(e,t,n,r){const i=oe(),o=qe(),l=Bt();return function sm(e,t,n,r,i,o,l){const f=cs(r),S=e.firstCreatePass&&O0(e),I=t[kt],O=M0(t);let U=!0;if(3&r.type||l){const ie=Q(r,t),se=l?l(ie):ie,de=O.length,ve=l?Be=>l($(Be[r.index])):r.index;let ae=null;if(!l&&f&&(ae=function J2(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===n&&i[o+1]===r){const f=t[Rr],m=i[o+2];return f.length>m?f[m]:null}"string"==typeof l&&(o+=2)}return null}(e,t,i,r.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,U=!1;else{o=am(r,t,I,o,!1);const Be=n.listen(se,i,o);O.push(o,Be),S&&S.push(i,ve,de,de+1)}}else o=am(r,t,I,o,!1);const G=r.outputs;let J;if(U&&null!==G&&(J=G[i])){const ie=J.length;if(ie)for(let se=0;se<ie;se+=2){const Tt=t[J[se]][J[se+1]].subscribe(o),ln=O.length;O.push(o,Tt),S&&S.push(i,r.index,ln,-(ln+1))}}}(o,i,i[$e],l,e,t,r),ga}function om(e,t,n,r){try{return V(6,t,n),!1!==n(r)}catch(i){return L0(e,i),!1}finally{V(7,t,n)}}function am(e,t,n,r,i){return function o(l){if(l===Function)return r;Qf(e.componentOffset>-1?_e(e.index,t):t);let m=om(t,n,r,l),S=o.__ngNextListenerFn__;for(;S;)m=om(t,n,S,l)&&m,S=S.__ngNextListenerFn__;return i&&!1===m&&(l.preventDefault(),l.returnValue=!1),m}}function ma(e=1){return function iE(e){return(xe.lFrame.contextLView=function sE(e,t){for(;e>0;)t=t[Pr],e--;return t}(e,xe.lFrame.contextLView))[kt]}(e)}function at(e,t=""){const n=oe(),r=qe(),i=e+_t,o=r.firstCreatePass?no(r,i,1,t,null):r.data[i],l=n[i]=function pf(e,t){return e.createText(t)}(n[$e],t);Nu(r,n,l,o),tt(o,!1)}function hd(e){return sr("",e,""),hd}function sr(e,t,n){const r=oe(),i=function io(e,t,n,r){return Un(e,Hs(),n)?t+Oe(n)+r:Ue}(r,e,t,n);return i!==Ue&&vi(r,Kn(),i),sr}const go="en-US";let Qm=go;class mo{}class bv{}class Iv extends mo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B0(this);const r=ft(t);this._bootstrapComponents=mi(r.bootstrap),this._r3Injector=m0(t,n,[{provide:mo,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ed extends bv{constructor(t){super(),this.moduleType=t}create(t){return new Iv(this.moduleType,t)}}class $C extends mo{constructor(t,n,r){super(),this.componentFactoryResolver=new B0(this),this.instance=null;const i=new Qg([...t,{provide:mo,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],n||Hu(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function sl(e,t,n=null){return new $C(e,t,n).injector}let qC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Yg(0,n.type),i=r.length>0?sl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ie({token:e,providedIn:"environment",factory:()=>new e(Ae(gi))}),e})();function Av(e){e.getStandaloneInjector=t=>t.get(qC).getOrCreateStandaloneInjector(e)}function Dd(e){return t=>{setTimeout(e,void 0,t)}}const Wn=class mb extends gt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),l=r;if(t&&"object"==typeof t){const m=t;i=m.next?.bind(m),o=m.error?.bind(m),l=m.complete?.bind(m)}this.__isAsync&&(o=Dd(o),i&&(i=Dd(i)),l&&(l=Dd(l)));const f=super.subscribe({next:i,error:o,complete:l});return t instanceof le&&t.add(f),f}};let wi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Eb,e})();const yb=wi,wb=class extends yb{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,i=qu(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[os]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[er];return null!==l&&(i[er]=l.createEmbeddedView(r)),qf(r,i,t),new da(i)}};function Eb(){return function ol(e,t){return 4&e.type?new wb(t,e,Js(e,t)):null}(Bt(),oe())}let Lr=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sb,e})();function Sb(){return function Vv(e,t){let n;const r=t[e.index];if(je(r))n=r;else{let i;if(8&e.type)i=$(r);else{const o=t[$e];i=o.createComment("");const l=Q(e,t);ps(o,Pu(o,l),i,function yS(e,t){return e.nextSibling(t)}(o,l),!1)}t[e.index]=n=N0(r,t,i,e),Ku(t,n)}return new jv(n,e,t)}(Bt(),oe())}const Db=Lr,jv=class extends Db{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const t=Wc(this._hostTNode,this._hostLView);if(kp(t)){const n=xu(t,this._hostLView),r=Du(t);return new Us(n[ge].data[r+8],n)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Hv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const l=t.createEmbeddedView(n||{},o);return this.insert(l,i),l}createComponent(t,n,r,i,o){const l=t&&!function Jo(e){return"function"==typeof e}(t);let f;if(l)f=n;else{const O=n||{};f=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef}const m=l?t:new ha(ct(t)),S=r||this.parentInjector;if(!o&&null==m.ngModule){const U=(l?S:this.parentInjector).get(gi,null);U&&(o=U)}const I=m.create(S,i,void 0,o);return this.insert(I.hostView,f),I}insert(t,n){const r=t._lView,i=r[ge];if(function dt(e){return je(e[Ut])}(r)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const O=r[Ut],U=new jv(O,O[sn],O[Ut]);U.detach(U.indexOf(t))}}const o=this._adjustIndex(n),l=this._lContainer;!function hS(e,t,n,r){const i=Mn+r,o=n.length;r>0&&(n[i-1][fr]=t),r<o-Mn?(t[fr]=n[i],Yp(n,Mn+r,t)):(n.push(t),t[fr]=null),t[Ut]=n;const l=t[os];null!==l&&n!==l&&function pS(e,t){const n=e[fi];t[An]!==t[Ut][Ut][An]&&(e[as]=!0),null===n?e[fi]=[t]:n.push(t)}(l,t);const f=t[er];null!==f&&f.insertView(e),t[Ve]|=64}(i,r,l,o);const f=wf(o,l),m=r[$e],S=Pu(m,l[us]);return null!==S&&function cS(e,t,n,r,i,o){r[Tr]=i,r[sn]=t,oa(e,r,n,1,i,o)}(i,l[sn],m,r,S,f),t.attachToViewContainerRef(),Yp(Cd(l),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Hv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=mf(this._lContainer,n);r&&(Fu(Cd(this._lContainer),n),wg(r[ge],r))}detach(t){const n=this._adjustIndex(t,-1),r=mf(this._lContainer,n);return r&&null!=Fu(Cd(this._lContainer),n)?new da(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Hv(e){return e[ls]}function Cd(e){return e[ls]||(e[ls]=[])}function ul(...e){}const ll=new ke("Application Initializer");let cl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ul,this.reject=ul,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Ju(o))n.push(o);else if(rm(o)){const l=new Promise((f,m)=>{o.subscribe({complete:f,error:m})});n.push(l)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ae(ll,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ia=new ke("AppId",{providedIn:"root",factory:function h1(){return`${Od()}${Od()}${Od()}`}});function Od(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p1=new ke("Platform Initializer"),g1=new ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Zb=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ei=new ke("LocaleId",{providedIn:"root",factory:()=>Qe(Ei,Re.Optional|Re.SkipSelf)||function Xb(){return typeof $localize<"u"&&$localize.locale||go}()});class Qb{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let m1=(()=>{class e{compileModuleSync(n){return new Ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=mi(ft(n).declarations).reduce((l,f)=>{const m=ct(f);return m&&l.push(new ha(m)),l},[]);return new Qb(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nI=(()=>Promise.resolve(0))();function kd(e){typeof Zone>"u"?nI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class on{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wn(!1),this.onMicrotaskEmpty=new Wn(!1),this.onStable=new Wn(!1),this.onError=new Wn(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function rI(){let e=Ft.requestAnimationFrame,t=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function oI(e){const t=()=>{!function sI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Bd(e),e.isCheckStableRunning=!0,Ld(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Bd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,l,f)=>{try{return w1(e),n.invokeTask(i,o,l,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),E1(e)}},onInvoke:(n,r,i,o,l,f,m)=>{try{return w1(e),n.invoke(i,o,l,f,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),E1(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Bd(e),Ld(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!on.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(on.isInAngularZone())throw new pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,iI,ul,ul);try{return o.runTask(l,n,r)}finally{o.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const iI={};function Ld(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function w1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function E1(e){e._nesting--,Ld(e)}class aI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wn,this.onMicrotaskEmpty=new Wn,this.onStable=new Wn,this.onError=new Wn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const S1=new ke(""),fl=new ke("");let Vd,jd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vd||(function uI(e){Vd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{on.assertNotInAngularZone(),kd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ae(on),Ae(Hd),Ae(fl))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),Hd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Vd?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Si=!1;let Hi=null;const D1=new ke("AllowMultipleToken"),Ud=new ke("PlatformDestroyListeners"),x1=new ke("appBootstrapListener");class C1{constructor(t,n){this.name=t,this.token=n}}function I1(e,t,n=[]){const r=`Platform: ${t}`,i=new ke(r);return(o=[])=>{let l=$d();if(!l||l.injector.get(D1,!1)){const f=[...n,...o,{provide:i,useValue:!0}];e?e(f):function fI(e){if(Hi&&!Hi.get(D1,!1))throw new pe(400,!1);Hi=e;const t=e.get(F1);(function b1(e){const t=e.get(p1,null);t&&t.forEach(n=>n())})(e)}(function A1(e=[],t){return Yr.create({name:t,providers:[{provide:Pf,useValue:"platform"},{provide:Ud,useValue:new Set([()=>Hi=null])},...e]})}(f,r))}return function hI(e){const t=$d();if(!t)throw new pe(401,!1);return t}()}}function $d(){return Hi?.get(F1)??null}let F1=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function T1(e,t){let n;return n="noop"===e?new aI:("zone.js"===e?void 0:e)||new on(t),n}(r?.ngZone,function _1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:on,useValue:i}];return i.run(()=>{const l=Yr.create({providers:o,parent:this.injector,name:n.moduleType.name}),f=n.create(l),m=f.injector.get(Qs,null);if(!m)throw new pe(402,!1);return i.runOutsideAngular(()=>{const S=i.onError.subscribe({next:I=>{m.handleError(I)}});f.onDestroy(()=>{hl(this._modules,f),S.unsubscribe()})}),function R1(e,t,n){try{const r=n();return Ju(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(m,i,()=>{const S=f.injector.get(cl);return S.runInitializers(),S.donePromise.then(()=>(function ev(e){Jn(e,"Expected localeId to be defined"),"string"==typeof e&&(Qm=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ei,go)||go),this._moduleDoBootstrap(f),f))})})}bootstrapModule(n,r=[]){const i=P1({},r);return function lI(e,t,n){const r=new Ed(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(dl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new pe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ud,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ae(Yr))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function P1(e,t){return Array.isArray(t)?t.reduce(P1,e):{...e,...t}}let dl=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new qt(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),l=new qt(f=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{on.assertNotInAngularZone(),kd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{on.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),S.unsubscribe()}});this.isStable=function wc(...e){const t=es(e),n=function hc(e,t){return"number"==typeof Lo(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?cr(r[0]):Ii(n)(tn(r,t)):vr}(o,l.pipe(function Ec(e={}){const{connector:t=(()=>new gt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let l,f,m,S=0,I=!1,O=!1;const U=()=>{f?.unsubscribe(),f=void 0},G=()=>{U(),l=m=void 0,I=O=!1},J=()=>{const ie=l;G(),ie?.unsubscribe()};return zt((ie,se)=>{S++,!O&&!I&&U();const de=m=m??t();se.add(()=>{S--,0===S&&!O&&!I&&(f=jo(J,i))}),de.subscribe(se),!l&&S>0&&(l=new bn({next:ve=>de.next(ve),error:ve=>{O=!0,U(),f=jo(G,n,ve),de.error(ve)},complete:()=>{I=!0,U(),f=jo(G,r),de.complete()}}),cr(ie).subscribe(l))})(o)}}()))}bootstrap(n,r){const i=n instanceof t0;if(!this._injector.get(cl).done){!i&&function Pi(e){const t=ct(e)||rn(e)||Nn(e);return null!==t&&t.standalone}(n);throw new pe(405,Si)}let l;l=i?n:this._injector.get(ca).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const f=function cI(e){return e.isBoundToModule}(l)?void 0:this._injector.get(mo),S=l.create(Yr.NULL,[],r||l.selector,f),I=S.location.nativeElement,O=S.injector.get(S1,null);return O?.registerApplication(I),S.onDestroy(()=>{this.detachView(S.hostView),hl(this.components,S),O?.unregisterApplication(I)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(x1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ae(on),Ae(gi),Ae(Qs))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let qd=(()=>{class e{}return e.__NG_ELEMENT_ID__=gI,e})();function gI(e){return function mI(e,t,n){if(js(e)&&!n){const r=_e(e.index,t);return new da(r,r)}return 47&e.type?new da(t[An],t):null}(Bt(),oe(),16==(16&e))}const _I=I1(null,"core",[]);let TI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ae(dl))},e.\u0275mod=ai({type:e}),e.\u0275inj=qr({}),e})(),Zd=null;function Es(){return Zd}class NI{}const or=new ke("DocumentToken");let Xd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return function MI(){return Ae($1)}()},providedIn:"platform"}),e})();const OI=new ke("Location Initialized");let $1=(()=>{class e extends Xd{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Es().getBaseHref(this._doc)}onPopState(n){const r=Es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){q1()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){q1()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ae(or))},e.\u0275prov=Ie({token:e,factory:function(){return function kI(){return new $1(Ae(or))}()},providedIn:"platform"}),e})();function q1(){return!!window.history.pushState}function Jd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function z1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Di(e){return e&&"?"!==e[0]?"?"+e:e}let Ss=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return Qe(G1)},providedIn:"root"}),e})();const K1=new ke("appBaseHref");let G1=(()=>{class e extends Ss{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Qe(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Jd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const l=this.prepareExternalUrl(i+Di(o));this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,o){const l=this.prepareExternalUrl(i+Di(o));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ae(Xd),Ae(K1,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),LI=(()=>{class e extends Ss{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Jd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let l=this.prepareExternalUrl(i+Di(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,o){let l=this.prepareExternalUrl(i+Di(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ae(Xd),Ae(K1,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),Qd=(()=>{class e{constructor(n){this._subject=new Wn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function HI(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(z1(W1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Di(r))}normalize(n){return e.stripTrailingSlash(function jI(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,W1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Di,e.joinWithSlash=Jd,e.stripTrailingSlash=z1,e.\u0275fac=function(n){return new(n||e)(Ae(Ss))},e.\u0275prov=Ie({token:e,factory:function(){return function BI(){return new Qd(Ae(Ss))}()},providedIn:"root"}),e})();function W1(e){return e.replace(/\/index.html$/,"")}let ch=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new _A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ay("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ay("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Fe(Lr),Fe(wi))},e.\u0275dir=Ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class _A{constructor(){this.$implicit=null,this.ngIf=null}}function ay(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xt(t)}'.`)}let eF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ai({type:e}),e.\u0275inj=qr({}),e})();let iF=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new sF(Ae(or),window)}),e})();class sF{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function oF(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fy(this.window.history)||fy(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fy(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class MF extends NI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vh extends MF{static makeCurrent(){!function PI(e){Zd||(Zd=e)}(new vh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function OF(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}();return null==n?null:function kF(e){Fl=Fl||document.createElement("a"),Fl.setAttribute("href",e);const t=Fl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function xA(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Fl,Ra=null;const my=new ke("TRANSITION_ID"),BF=[{provide:ll,useFactory:function LF(e,t,n){return()=>{n.get(cl).donePromise.then(()=>{const r=Es(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[my,or,Yr],multi:!0}];let HF=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const _l=new ke("EventManagerPlugins");let Tl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(n))return this._eventNameToPlugin.set(n,l),l}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ae(_l),Ae(on))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class vy{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Es().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let yy=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let o=i.get(n)??0;return o+=r,o>0?i.set(n,o):i.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),Pa=(()=>{class e extends yy{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(o=>o.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Ae(or))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const yh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wh=/%COMP%/g,Sy=new ke("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Dy(e,t){return t.flat(100).map(n=>n.replace(wh,e))}function xy(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Eh=(()=>{class e{constructor(n,r,i,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Sh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof Iy?i.applyToHost(n):i instanceof Dh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case wr.Emulated:o=new Iy(l,f,r,this.appId,m);break;case wr.ShadowDom:return new GF(l,f,n,r);default:o=new Dh(l,f,r,m)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ae(Tl),Ae(Pa),Ae(Ia),Ae(Sy))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class Sh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(yh[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(by(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(by(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=yh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=yh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(rr.DashCase|rr.Important)?t.style.setProperty(n,r,i&rr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&rr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,xy(r)):this.eventManager.addEventListener(t,n,xy(r))}}function by(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class GF extends Sh{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dy(i.id,i.styles);for(const l of o){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dh extends Sh{constructor(t,n,r,i,o=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Dy(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Iy extends Dh{constructor(t,n,r,i,o){const l=i+"-"+r.id;super(t,n,r,o,l),this.contentAttr=function qF(e){return"_ngcontent-%COMP%".replace(wh,e)}(l),this.hostAttr=function zF(e){return"_nghost-%COMP%".replace(wh,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let WF=(()=>{class e extends vy{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ae(or))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const Ay=["alt","control","meta","shift"],YF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let XF=(()=>{class e extends vy{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),l=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Es().onAndCancel(n,o.domEventName,l))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Ay.forEach(S=>{const I=r.indexOf(S);I>-1&&(r.splice(I,1),l+=S+".")}),l+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(n,r){let i=YF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ay.forEach(l=>{l!==i&&(0,ZF[l])(n)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ae(or))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const t_=I1(_I,"browser",[{provide:g1,useValue:"browser"},{provide:p1,useValue:function JF(){vh.makeCurrent()},multi:!0},{provide:or,useFactory:function e_(){return function IS(e){xf=e}(document),document},deps:[]}]),Ty=new ke(""),Ry=[{provide:fl,useClass:class jF{addToWindow(t){Ft.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ft.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ft.getAllAngularRootElements=()=>t.getAllRootElements(),Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(r=>{const i=Ft.getAllAngularTestabilities();let o=i.length,l=!1;const f=function(m){l=l||m,o--,0==o&&r(l)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Es().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:S1,useClass:jd,deps:[on,Hd,fl]},{provide:jd,useClass:jd,deps:[on,Hd,fl]}],Py=[{provide:Pf,useValue:"root"},{provide:Qs,useFactory:function QF(){return new Qs},deps:[]},{provide:_l,useClass:WF,multi:!0,deps:[or,on,g1]},{provide:_l,useClass:XF,multi:!0,deps:[or]},{provide:Eh,useClass:Eh,deps:[Tl,Pa,Ia,Sy]},{provide:r0,useExisting:Eh},{provide:yy,useExisting:Pa},{provide:Pa,useClass:Pa,deps:[or]},{provide:Tl,useClass:Tl,deps:[_l,on]},{provide:class aF{},useClass:HF,deps:[]},[]];let n_=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ia,useValue:n.appId},{provide:my,useExisting:Ia},BF]}}}return e.\u0275fac=function(n){return new(n||e)(Ae(Ty,12))},e.\u0275mod=ai({type:e}),e.\u0275inj=qr({providers:[...Py,...Ry],imports:[eF,TI]}),e})(),Ny=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ae(or))},e.\u0275prov=Ie({token:e,factory:function(n){let r=null;return r=n?new n:function i_(){return new Ny(Ae(or))}(),r},providedIn:"root"}),e})();function Ne(...e){return tn(e,es(e))}typeof window<"u"&&window;class Vr extends gt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Rl=$t(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:c_}=Array,{getPrototypeOf:f_,prototype:d_,keys:h_}=Object;const{isArray:m_}=Array;function ky(...e){const t=es(e),n=function dc(e){return ye(Lo(e))?e.pop():void 0}(e),{args:r,keys:i}=function p_(e){if(1===e.length){const t=e[0];if(c_(t))return{args:t,keys:null};if(function g_(e){return e&&"object"==typeof e&&f_(e)===d_}(t)){const n=h_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return tn([],t);const o=new qt(function E_(e,t,n=br){return r=>{Ly(t,()=>{const{length:i}=e,o=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)Ly(t,()=>{const S=tn(e[m],t);let I=!1;S.subscribe(Kt(r,O=>{o[m]=O,I||(I=!0,f--),f||r.next(n(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>function w_(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,l):br));return n?o.pipe(function y_(e){return Ye(t=>function v_(e,t){return m_(t)?e(...t):e(t)}(e,t))}(n)):o}function Ly(e,t,n){e?Ir(n,e,t):t()}function bh(...e){return function S_(){return Ii(1)}()(tn(e,es(e)))}function By(e){return new qt(t=>{cr(e()).subscribe(t)})}function Na(e,t){const n=ye(e)?e:()=>e,r=i=>i.error(n());return new qt(t?i=>t.schedule(r,0,i):r)}function Ih(){return zt((e,t)=>{let n=null;e._refCount++;const r=Kt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class jy extends qt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ji(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new le;const n=this.getSubject();t.add(this.source.subscribe(Kt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=le.EMPTY)}return t}refCount(){return Ih()(this)}}function ti(e,t){return zt((n,r)=>{let i=null,o=0,l=!1;const f=()=>l&&!i&&r.complete();n.subscribe(Kt(r,m=>{i?.unsubscribe();let S=0;const I=o++;cr(e(m,I)).subscribe(i=Kt(r,O=>r.next(t?t(m,O,I,S++):O),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function Ma(e){return e<=0?()=>vr:zt((t,n)=>{let r=0;t.subscribe(Kt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ui(e,t){return zt((n,r)=>{let i=0;n.subscribe(Kt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Pl(e){return zt((t,n)=>{let r=!1;t.subscribe(Kt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Hy(e=x_){return zt((t,n)=>{let r=!1;t.subscribe(Kt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function x_(){return new Rl}function $i(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ui((i,o)=>e(i,o,r)):br,Ma(1),n?Pl(t):Hy(()=>new Rl))}function Ds(e,t){return ye(t)?yn(e,t,1):yn(e,1)}function $n(e,t,n){const r=ye(e)||t||n?{next:e,error:t,complete:n}:e;return r?zt((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe(Kt(o,m=>{var S;null===(S=r.next)||void 0===S||S.call(r,m),o.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),o.complete()},m=>{var S;f=!1,null===(S=r.error)||void 0===S||S.call(r,m),o.error(m)},()=>{var m,S;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(S=r.finalize)||void 0===S||S.call(r)}))}):br}function qi(e){return zt((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Kt(n,void 0,void 0,l=>{o=cr(e(l,qi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Vy(e,t){return zt(function C_(e,t,n,r,i){return(o,l)=>{let f=n,m=t,S=0;o.subscribe(Kt(l,I=>{const O=S++;m=f?e(m,I,O):(f=!0,I),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(e,t,arguments.length>=2,!0))}function Ah(e){return e<=0?()=>vr:zt((t,n)=>{let r=[];t.subscribe(Kt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uy(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ui((i,o)=>e(i,o,r)):br,Ah(1),n?Pl(t):Hy(()=>new Rl))}function Fh(e){return zt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ze="primary",Oa=Symbol("RouteTitle");class A_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function wo(e){return new A_(e)}function F_(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],f=e[o];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ni(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$y(e[i],t[i]))return!1;return!0}function $y(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function qy(e){return Array.prototype.concat.apply([],e)}function zy(e){return e.length>0?e[e.length-1]:null}function kn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function zi(e){return rm(e)?e:Ju(e)?tn(Promise.resolve(e)):Ne(e)}const Nl=!1,T_={exact:function Wy(e,t,n){if(!xs(e.segments,t.segments)||!Ml(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Wy(e.children[r],t.children[r],n))return!1;return!0},subset:Yy},Ky={exact:function R_(e,t){return ni(e,t)},subset:function P_(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>$y(e[n],t[n]))},ignored:()=>!0};function Gy(e,t,n){return T_[n.paths](e.root,t.root,n.matrixParams)&&Ky[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Yy(e,t,n){return Zy(e,t,t.segments,n)}function Zy(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!xs(i,n)||t.hasChildren()||!Ml(i,n,r))}if(e.segments.length===n.length){if(!xs(e.segments,n)||!Ml(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Yy(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(xs(e.segments,i)&&Ml(e.segments,i,r)&&e.children[ze])&&Zy(e.children[ze],t,o,r)}}function Ml(e,t,n){return t.every((r,i)=>Ky[n](e[i].parameters,r.parameters))}class Ki{constructor(t=new Je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return O_.serialize(this)}}class Je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,kn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}}class ka{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=wo(this.parameters)),this._parameterMap}toString(){return Qy(this)}}function xs(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let La=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return new _h},providedIn:"root"}),e})();class _h{parse(t){const n=new q_(t);return new Ki(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ba(t.root,!0)}`,r=function B_(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${kl(n)}=${kl(i)}`).join("&"):`${kl(n)}=${kl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function k_(e){return encodeURI(e)}(t.fragment)}`:""}`}}const O_=new _h;function Ol(e){return e.segments.map(t=>Qy(t)).join("/")}function Ba(e,t){if(!e.hasChildren())return Ol(e);if(t){const n=e.children[ze]?Ba(e.children[ze],!1):"",r=[];return kn(e.children,(i,o)=>{o!==ze&&r.push(`${o}:${Ba(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function M_(e,t){let n=[];return kn(e.children,(r,i)=>{i===ze&&(n=n.concat(t(r,i)))}),kn(e.children,(r,i)=>{i!==ze&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===ze?[Ba(e.children[ze],!1)]:[`${i}:${Ba(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ze]?`${Ol(e)}/${n[0]}`:`${Ol(e)}/(${n.join("//")})`}}function Xy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kl(e){return Xy(e).replace(/%3B/gi,";")}function Th(e){return Xy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(e){return decodeURIComponent(e)}function Jy(e){return Ll(e.replace(/\+/g,"%20"))}function Qy(e){return`${Th(e.path)}${function L_(e){return Object.keys(e).map(t=>`;${Th(t)}=${Th(e[t])}`).join("")}(e.parameters)}`}const j_=/^[^\/()?;=#]+/;function Bl(e){const t=e.match(j_);return t?t[0]:""}const H_=/^[^=?&#]+/,U_=/^[^&#]+/;class q_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ze]=new Je(t,n)),r}parseSegment(){const t=Bl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new pe(4009,Nl);return this.capture(t),new ka(Ll(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Bl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Bl(this.remaining);i&&(r=i,this.capture(r))}t[Ll(n)]=Ll(r)}parseQueryParam(t){const n=function V_(e){const t=e.match(H_);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function $_(e){const t=e.match(U_);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Jy(n),o=Jy(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new pe(4010,Nl);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ze);const l=this.parseChildren();n[o]=1===Object.keys(l).length?l[ze]:new Je([],l),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new pe(4011,Nl)}}function Rh(e){return e.segments.length>0?new Je([],{[ze]:e}):e}function jl(e){const t={};for(const r of Object.keys(e.children)){const o=jl(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function z_(e){if(1===e.numberOfChildren&&e.children[ze]){const t=e.children[ze];return new Je(e.segments.concat(t.segments),t.children)}return e}(new Je(e.segments,t))}function Cs(e){return e instanceof Ki}const Ph=!1;function K_(e,t,n,r,i){if(0===n.length)return Eo(t.root,t.root,t.root,r,i);const o=function iw(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new rw(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return kn(o.outlets,(m,S)=>{f[S]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?n=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new rw(n,t,r)}(n);return o.toRoot()?Eo(t.root,t.root,new Je([],{}),r,i):function l(m){const S=function W_(e,t,n,r){if(e.isAbsolute)return new So(t.root,!0,0);if(-1===r)return new So(n,n===t.root,0);return function sw(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pe(4005,Ph&&"Invalid number of '../'");i=r.segments.length}return new So(r,!1,i-o)}(n,r+(ja(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,m),I=S.processChildren?Do(S.segmentGroup,S.index,o.commands):Nh(S.segmentGroup,S.index,o.commands);return Eo(t.root,S.segmentGroup,I,r,i)}(e.snapshot?._lastPathIndex)}function ja(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ha(e){return"object"==typeof e&&null!=e&&e.outlets}function Eo(e,t,n,r,i){let l,o={};r&&kn(r,(m,S)=>{o[S]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),l=e===t?n:nw(e,t,n);const f=Rh(jl(l));return new Ki(f,o,i)}function nw(e,t,n){const r={};return kn(e.children,(i,o)=>{r[o]=i===t?n:nw(i,t,n)}),new Je(e.segments,r)}class rw{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ja(r[0]))throw new pe(4003,Ph&&"Root segment cannot have matrix parameters");const i=r.find(Ha);if(i&&i!==zy(r))throw new pe(4004,Ph&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class So{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Nh(e,t,n){if(e||(e=new Je([],{})),0===e.segments.length&&e.hasChildren())return Do(e,t,n);const r=function Z_(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const l=e.segments[i],f=n[r];if(Ha(f))break;const m=`${f}`,S=r<n.length-1?n[r+1]:null;if(i>0&&void 0===m)break;if(m&&S&&"object"==typeof S&&void 0===S.outlets){if(!aw(m,S,l))return o;r+=2}else{if(!aw(m,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Je(e.segments.slice(0,r.pathIndex),{});return o.children[ze]=new Je(e.segments.slice(r.pathIndex),e.children),Do(o,0,i)}return r.match&&0===i.length?new Je(e.segments,{}):r.match&&!e.hasChildren()?Mh(e,t,n):r.match?Do(e,0,i):Mh(e,t,n)}function Do(e,t,n){if(0===n.length)return new Je(e.segments,{});{const r=function Y_(e){return Ha(e[0])?e[0].outlets:{[ze]:e}}(n),i={};return!r[ze]&&e.children[ze]&&1===e.numberOfChildren&&0===e.children[ze].segments.length?Do(e.children[ze],t,n):(kn(r,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[l]=Nh(e.children[l],t,o))}),kn(e.children,(o,l)=>{void 0===r[l]&&(i[l]=o)}),new Je(e.segments,i))}}function Mh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Ha(o)){const m=X_(o.outlets);return new Je(r,m)}if(0===i&&ja(n[0])){r.push(new ka(e.segments[t].path,ow(n[0]))),i++;continue}const l=Ha(o)?o.outlets[ze]:`${o}`,f=i<n.length-1?n[i+1]:null;l&&f&&ja(f)?(r.push(new ka(l,ow(f))),i+=2):(r.push(new ka(l,{})),i++)}return new Je(r,{})}function X_(e){const t={};return kn(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Mh(new Je([],{}),0,n))}),t}function ow(e){const t={};return kn(e,(n,r)=>t[r]=`${n}`),t}function aw(e,t,n){return e==n.path&&ni(t,n.parameters)}const Va="imperative";class ri{constructor(t,n){this.id=t,this.url=n}}class Oh extends ri{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bs extends ri{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hl extends ri{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends ri{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class kh extends ri{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J_ extends ri{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q_ extends ri{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eT extends ri{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tT extends ri{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nT extends ri{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rT{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iT{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sT{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oT{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aT{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uT{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uw{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fT=(()=>{class e{createUrlTree(n,r,i,o,l,f){return K_(n||r.root,i,o,l,f)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),hT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(t){return fT.\u0275fac(t)},providedIn:"root"}),e})();class lw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Lh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Lh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Bh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bh(t,this._root).map(n=>n.value)}}function Lh(e,t){if(e===t.value)return t;for(const n of t.children){const r=Lh(e,n);if(r)return r}return null}function Bh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Bh(e,n);if(r.length)return r.unshift(t),r}return[]}class Ci{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function xo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class cw extends lw{constructor(t,n){super(t),this.snapshot=n,jh(this,t)}toString(){return this.snapshot.toString()}}function fw(e,t){const n=function pT(e,t){const l=new Ul([],{},{},"",{},ze,t,null,e.root,-1,{});return new hw("",new Ci(l,[]))}(e,t),r=new Vr([new ka("",{})]),i=new Vr({}),o=new Vr({}),l=new Vr({}),f=new Vr(""),m=new Co(r,i,l,f,o,ze,t,n.root);return m.snapshot=n.root,new cw(new Ci(m,[]),n)}class Co{constructor(t,n,r,i,o,l,f,m){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=f,this.title=this.data?.pipe(Ye(S=>S[Oa]))??Ne(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(t=>wo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(t=>wo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dw(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function gT(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ul{get title(){return this.data?.[Oa]}constructor(t,n,r,i,o,l,f,m,S,I,O){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=f,this.routeConfig=m,this._urlSegment=S,this._lastPathIndex=I,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hw extends lw{constructor(t,n){super(n),this.url=t,jh(this,n)}toString(){return pw(this._root)}}function jh(e,t){t.value._routerState=e,t.children.forEach(n=>jh(e,n))}function pw(e){const t=e.children.length>0?` { ${e.children.map(pw).join(", ")} } `:"";return`${e.value}${t}`}function Hh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ni(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ni(t.params,n.params)||e.params.next(n.params),function __(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ni(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ni(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Vh(e,t){const n=ni(e.params,t.params)&&function N_(e,t){return xs(e,t)&&e.every((n,r)=>ni(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Vh(e.parent,t.parent))}function Ua(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function vT(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ua(e,r,i);return Ua(e,r)})}(e,t,n);return new Ci(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(f=>Ua(e,f)),l}}const r=function yT(e){return new Co(new Vr(e.url),new Vr(e.params),new Vr(e.queryParams),new Vr(e.fragment),new Vr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ua(e,o));return new Ci(r,i)}}const Uh="ngNavigationCancelingError";function gw(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Cs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=mw(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function mw(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Uh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function vw(e){return yw(e)&&Cs(e.url)}function yw(e){return e&&e[Uh]}class wT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $a,this.attachRef=null}}let $a=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new wT,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $l=!1;let $h=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new Wn,this.deactivateEvents=new Wn,this.attachEvents=new Wn,this.detachEvents=new Wn,this.parentContexts=Qe($a),this.location=Qe(Lr),this.changeDetector=Qe(qd),this.environmentInjector=Qe(gi)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,$l);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,$l);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,$l);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new pe(4013,$l);this._activatedRoute=n;const i=this.location,l=n.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new ET(n,f,i.injector);if(r&&function ST(e){return!!e.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(l);this.activated=i.createComponent(S,i.length,m)}else this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[N]}),e})();class ET{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Co?this.route:t===$a?this.childContexts:this.parent.get(t,n)}}let qh=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_r({type:e,selectors:[["ng-component"]],standalone:!0,features:[Av],decls:1,vars:0,template:function(n,r){1&n&&Jr(0,"router-outlet")},dependencies:[$h],encapsulation:2}),e})();function ww(e,t){return e.providers&&!e._injector&&(e._injector=sl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Kh(e){const t=e.children&&e.children.map(Kh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ze&&(n.component=qh),n}function Cr(e){return e.outlet||ze}function Ew(e,t){const n=e.filter(r=>Cr(r)===t);return n.push(...e.filter(r=>Cr(r)!==t)),n}function qa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class IT{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=xo(n);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),kn(i,(o,l)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,n,l.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:f})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=xo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uT(o.value.snapshot))}),t.children.length&&this.forwardEvent(new oT(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Hh(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,l.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Hh(f.route.value),this.activateChildRoutes(t,null,l.children)}else{const f=qa(i.snapshot),m=f?.get(ca)??null;l.attachRef=null,l.route=i,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class Sw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ql{constructor(t,n){this.component=t,this.route=n}}function AT(e,t,n){const r=e._root;return za(r,t?t._root:null,n,[r.value])}function bo(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function bc(e){return null!==Ps(e)}(e)?t.get(e):e:r}function za(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=xo(t);return e.children.forEach(l=>{(function _T(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,l=t?t.value:null,f=n?n.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const m=function TT(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!xs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xs(e.url,t.url)||!ni(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vh(e,t)||!ni(e.queryParams,t.queryParams);default:return!Vh(e,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Sw(r)):(o.data=l.data,o._resolvedData=l._resolvedData),za(e,t,o.component?f?f.children:null:n,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ql(f.outlet.component,l))}else l&&Ka(t,f,i),i.canActivateChecks.push(new Sw(r)),za(e,null,o.component?f?f.children:null:n,r,i)})(l,o[l.value.outlet],n,r.concat([l.value]),i),delete o[l.value.outlet]}),kn(o,(l,f)=>Ka(l,n.getContext(f),i)),i}function Ka(e,t,n){const r=xo(e),i=e.value;kn(r,(o,l)=>{Ka(o,i.component?t?t.children.getContext(l):null:t,n)}),n.canDeactivateChecks.push(new ql(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ga(e){return"function"==typeof e}function Gh(e){return e instanceof Rl||"EmptyError"===e?.name}const zl=Symbol("INITIAL_VALUE");function Io(){return ti(e=>ky(e.map(t=>t.pipe(Ma(1),function D_(...e){const t=es(e);return zt((n,r)=>{(t?bh(e,n,t):bh(e,n)).subscribe(r)})}(zl)))).pipe(Ye(t=>{for(const n of t)if(!0!==n){if(n===zl)return zl;if(!1===n||n instanceof Ki)return n}return!0}),Ui(t=>t!==zl),Ma(1)))}function Dw(e){return function Is(...e){return Xi(e)}($n(t=>{if(Cs(t))throw gw(0,t)}),Ye(t=>!0===t))}const Wh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xw(e,t,n,r,i){const o=Yh(e,t,n);return o.matched?function GT(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Ne(i.map(l=>{const f=bo(l,e);return zi(function kT(e){return e&&Ga(e.canMatch)}(f)?f.canMatch(t,n):e.runInContext(()=>f(t,n)))})).pipe(Io(),Dw()):Ne(!0)}(r=ww(t,r),t,n).pipe(Ye(l=>!0===l?o:{...Wh})):Ne(o)}function Yh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Wh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||F_)(n,e,t);if(!i)return{...Wh};const o={};kn(i.posParams,(f,m)=>{o[m]=f.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Kl(e,t,n,r){if(n.length>0&&function ZT(e,t,n){return n.some(r=>Gl(e,t,r)&&Cr(r)!==ze)}(e,n,r)){const o=new Je(t,function YT(e,t,n,r){const i={};i[ze]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Cr(o)!==ze){const l=new Je([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[Cr(o)]=l}return i}(e,t,r,new Je(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function XT(e,t,n){return n.some(r=>Gl(e,t,r))}(e,n,r)){const o=new Je(e.segments,function WT(e,t,n,r,i){const o={};for(const l of r)if(Gl(e,n,l)&&!i[Cr(l)]){const f=new Je([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,o[Cr(l)]=f}return{...i,...o}}(e,t,n,r,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const i=new Je(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Gl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Cw(e,t,n,r){return!!(Cr(e)===r||r!==ze&&Gl(t,n,e))&&("**"===e.path||Yh(t,e,n).matched)}function bw(e,t,n){return 0===t.length&&!e.children[n]}const Wl=!1;class Yl{constructor(t){this.segmentGroup=t||null}}class Iw{constructor(t){this.urlTree=t}}function Wa(e){return Na(new Yl(e))}function Aw(e){return Na(new Iw(e))}class t4{constructor(t,n,r,i,o){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Kl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Je(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,ze).pipe(Ye(o=>this.createUrlTree(jl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qi(o=>{if(o instanceof Iw)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Yl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ze).pipe(Ye(i=>this.createUrlTree(jl(i),t.queryParams,t.fragment))).pipe(qi(i=>{throw i instanceof Yl?this.noMatchError(i):i}))}noMatchError(t){return new pe(4002,Wl)}createUrlTree(t,n,r){const i=Rh(t);return new Ki(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Ye(o=>new Je([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return tn(i).pipe(Ds(o=>{const l=r.children[o],f=Ew(n,o);return this.expandSegmentGroup(t,f,l,o).pipe(Ye(m=>({segment:m,outlet:o})))}),Vy((o,l)=>(o[l.outlet]=l.segment,o),{}),Uy())}expandSegment(t,n,r,i,o,l){return tn(r).pipe(Ds(f=>this.expandSegmentAgainstRoute(t,n,r,f,i,o,l).pipe(qi(S=>{if(S instanceof Yl)return Ne(null);throw S}))),$i(f=>!!f),qi((f,m)=>{if(Gh(f))return bw(n,i,o)?Ne(new Je([],{})):Wa(n);throw f}))}expandSegmentAgainstRoute(t,n,r,i,o,l,f){return Cw(i,n,o,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,l):Wa(n):Wa(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Aw(o):this.lineralizeSegments(r,o).pipe(yn(l=>{const f=new Je(l,{});return this.expandSegment(t,f,n,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,l){const{matched:f,consumedSegments:m,remainingSegments:S,positionalParamSegments:I}=Yh(n,i,o);if(!f)return Wa(n);const O=this.applyRedirectCommands(m,i.redirectTo,I);return i.redirectTo.startsWith("/")?Aw(O):this.lineralizeSegments(i,O).pipe(yn(U=>this.expandSegment(t,n,r,U.concat(S),l,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){return"**"===r.path?(t=ww(r,t),r.loadChildren?(r._loadedRoutes?Ne({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Ye(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Je(i,{})))):Ne(new Je(i,{}))):xw(n,r,i,t).pipe(ti(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(t=r._injector??t,r,i).pipe(yn(I=>{const O=I.injector??t,U=I.routes,{segmentGroup:G,slicedSegments:J}=Kl(n,f,m,U),ie=new Je(G.segments,G.children);if(0===J.length&&ie.hasChildren())return this.expandChildren(O,U,ie).pipe(Ye(ae=>new Je(f,ae)));if(0===U.length&&0===J.length)return Ne(new Je(f,{}));const se=Cr(r)===o;return this.expandSegment(O,ie,U,J,se?ze:o,!0).pipe(Ye(ve=>new Je(f.concat(ve.segments),ve.children)))})):Wa(n)))}getChildConfig(t,n,r){return n.children?Ne({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function KT(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Ne(!0):Ne(i.map(l=>{const f=bo(l,e);return zi(function PT(e){return e&&Ga(e.canLoad)}(f)?f.canLoad(t,n):e.runInContext(()=>f(t,n)))})).pipe(Io(),Dw())}(t,n,r).pipe(yn(i=>i?this.configLoader.loadChildren(t,n).pipe($n(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function QT(e){return Na(mw(Wl,3))}())):Ne({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ne(r);if(i.numberOfChildren>1||!i.children[ze])return t.redirectTo,Na(new pe(4e3,Wl));i=i.children[ze]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Ki(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return kn(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=n[f]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let l={};return kn(n.children,(f,m)=>{l[m]=this.createSegmentGroup(t,f,r,i)}),new Je(o,l)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new pe(4001,Wl);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class r4{}class o4{constructor(t,n,r,i,o,l,f){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const t=Kl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ze).pipe(Ye(n=>{if(null===n)return null;const r=new Ul([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ci(r,n),o=new hw(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,r=dw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return tn(Object.keys(r.children)).pipe(Ds(i=>{const o=r.children[i],l=Ew(n,i);return this.processSegmentGroup(t,l,o,i)}),Vy((i,o)=>i&&o?(i.push(...o),i):null),function b_(e,t=!1){return zt((n,r)=>{let i=0;n.subscribe(Kt(r,o=>{const l=e(o,i++);(l||t)&&r.next(o),!l&&r.complete()}))})}(i=>null!==i),Pl(null),Uy(),Ye(i=>{if(null===i)return null;const o=_w(i);return function a4(e){e.sort((t,n)=>t.value.outlet===ze?-1:n.value.outlet===ze?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,r,i,o){return tn(n).pipe(Ds(l=>this.processSegmentAgainstRoute(l._injector??t,l,r,i,o)),$i(l=>!!l),qi(l=>{if(Gh(l))return bw(r,i,o)?Ne([]):Ne(null);throw l}))}processSegmentAgainstRoute(t,n,r,i,o){if(n.redirectTo||!Cw(n,r,i,o))return Ne(null);let l;if("**"===n.path){const f=i.length>0?zy(i).parameters:{},m=Rw(r)+i.length;l=Ne({snapshot:new Ul(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pw(n),Cr(n),n.component??n._loadedComponent??null,n,Tw(r),m,Nw(n)),consumedSegments:[],remainingSegments:[]})}else l=xw(r,n,i,t).pipe(Ye(({matched:f,consumedSegments:m,remainingSegments:S,parameters:I})=>{if(!f)return null;const O=Rw(r)+m.length;return{snapshot:new Ul(m,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pw(n),Cr(n),n.component??n._loadedComponent??null,n,Tw(r),O,Nw(n)),consumedSegments:m,remainingSegments:S}}));return l.pipe(ti(f=>{if(null===f)return Ne(null);const{snapshot:m,consumedSegments:S,remainingSegments:I}=f;t=n._injector??t;const O=n._loadedInjector??t,U=function u4(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:G,slicedSegments:J}=Kl(r,S,I,U.filter(se=>void 0===se.redirectTo));if(0===J.length&&G.hasChildren())return this.processChildren(O,U,G).pipe(Ye(se=>null===se?null:[new Ci(m,se)]));if(0===U.length&&0===J.length)return Ne([new Ci(m,[])]);const ie=Cr(n)===o;return this.processSegment(O,U,G,J,ie?ze:o).pipe(Ye(se=>null===se?null:[new Ci(m,se)]))}))}}function l4(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function _w(e){const t=[],n=new Set;for(const r of e){if(!l4(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=_w(r.children);t.push(new Ci(r.value,i))}return t.filter(r=>!n.has(r))}function Tw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Rw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function Pw(e){return e.data||{}}function Nw(e){return e.resolve||{}}function Mw(e){return"string"==typeof e.title||null===e.title}function Zh(e){return ti(t=>{const n=e(t);return n?tn(n).pipe(Ye(()=>t)):Ne(t)})}const Ao=new ke("ROUTES");let Xh=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=zi(n.loadComponent()).pipe(Ye(kw),$n(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Fh(()=>{this.componentLoaders.delete(n)})),i=new jy(r,()=>new gt).pipe(Ih());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ye(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,S,I=!1;Array.isArray(f)?S=f:(m=f.create(n).injector,S=qy(m.get(Ao,[],Re.Self|Re.Optional)));return{routes:S.map(Kh),injector:m}}),Fh(()=>{this.childrenLoaders.delete(r)})),l=new jy(o,()=>new gt).pipe(Ih());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(n){return zi(n()).pipe(Ye(kw),yn(i=>i instanceof bv||Array.isArray(i)?Ne(i):tn(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)(Ae(Yr),Ae(m1))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kw(e){return function y4(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Xl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.configLoader=Qe(Xh),this.environmentInjector=Qe(gi),this.urlSerializer=Qe(La),this.rootContexts=Qe($a),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new iT(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new rT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Va,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ui(r=>0!==r.id),Ye(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),ti(r=>{let i=!1,o=!1;return Ne(r).pipe($n(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(l=>{const f=n.browserUrlTree.toString(),m=!n.navigated||l.extractedUrl.toString()!==f||f!==n.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const I="";return this.events.next(new Vl(l.id,n.serializeUrl(r.rawUrl),I,0)),n.rawUrlTree=l.rawUrl,l.resolve(null),vr}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Lw(l.source)&&(n.browserUrlTree=l.extractedUrl),Ne(l).pipe(ti(I=>{const O=this.transitions?.getValue();return this.events.next(new Oh(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions?.getValue()?vr:Promise.resolve(I)}),function n4(e,t,n,r){return ti(i=>function e4(e,t,n,r,i){return new t4(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Ye(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),$n(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function f4(e,t,n,r,i){return yn(o=>function s4(e,t,n,r,i,o,l="emptyOnly"){return new o4(e,t,n,r,i,l,o).recognize().pipe(ti(f=>null===f?function i4(e){return new qt(t=>t.error(e))}(new r4):Ne(f)))}(e,t,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(Ye(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$n(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!I.extras.skipLocationChange){const U=n.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);n.setBrowserUrl(U,I)}n.browserUrlTree=I.urlAfterRedirects}const O=new J_(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(O)}));if(m&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:I,extractedUrl:O,source:U,restoredState:G,extras:J}=l,ie=new Oh(I,this.urlSerializer.serialize(O),U,G);this.events.next(ie);const se=fw(O,this.rootComponentType).snapshot;return Ne(r={...l,targetSnapshot:se,urlAfterRedirects:O,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new Vl(l.id,n.serializeUrl(r.extractedUrl),I,1)),n.rawUrlTree=l.rawUrl,l.resolve(null),vr}}),$n(l=>{const f=new Q_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ye(l=>r={...l,guards:AT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function BT(e,t){return yn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=n;return 0===l.length&&0===o.length?Ne({...n,guardsResult:!0}):function jT(e,t,n,r){return tn(e).pipe(yn(i=>function zT(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ne(o.map(f=>{const m=qa(t)??i,S=bo(f,m);return zi(function OT(e){return e&&Ga(e.canDeactivate)}(S)?S.canDeactivate(e,t,n,r):m.runInContext(()=>S(e,t,n,r))).pipe($i())})).pipe(Io()):Ne(!0)}(i.component,i.route,n,t,r)),$i(i=>!0!==i,!0))}(l,r,i,e).pipe(yn(f=>f&&function RT(e){return"boolean"==typeof e}(f)?function HT(e,t,n,r){return tn(t).pipe(Ds(i=>bh(function UT(e,t){return null!==e&&t&&t(new sT(e)),Ne(!0)}(i.route.parent,r),function VT(e,t){return null!==e&&t&&t(new aT(e)),Ne(!0)}(i.route,r),function qT(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function FT(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(l)).filter(l=>null!==l).map(l=>By(()=>Ne(l.guards.map(m=>{const S=qa(l.node)??n,I=bo(m,S);return zi(function MT(e){return e&&Ga(e.canActivateChild)}(I)?I.canActivateChild(r,e):S.runInContext(()=>I(r,e))).pipe($i())})).pipe(Io())));return Ne(o).pipe(Io())}(e,i.path,n),function $T(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ne(!0);const i=r.map(o=>By(()=>{const l=qa(t)??n,f=bo(o,l);return zi(function NT(e){return e&&Ga(e.canActivate)}(f)?f.canActivate(t,e):l.runInContext(()=>f(t,e))).pipe($i())}));return Ne(i).pipe(Io())}(e,i.route,n))),$i(i=>!0!==i,!0))}(r,o,e,t):Ne(f)),Ye(f=>({...n,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),$n(l=>{if(r.guardsResult=l.guardsResult,Cs(l.guardsResult))throw gw(0,l.guardsResult);const f=new eT(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Ui(l=>!!l.guardsResult||(n.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Zh(l=>{if(l.guards.canActivateChecks.length)return Ne(l).pipe($n(f=>{const m=new tT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),ti(f=>{let m=!1;return Ne(f).pipe(function d4(e,t){return yn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ne(n);let o=0;return tn(i).pipe(Ds(l=>function h4(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!Mw(i)&&(o[Oa]=i.title),function p4(e,t,n,r){const i=function g4(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ne({});const o={};return tn(i).pipe(yn(l=>function m4(e,t,n,r){const i=qa(t)??r,o=bo(e,i);return zi(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[l],t,n,r).pipe($i(),$n(f=>{o[l]=f}))),Ah(1),function I_(e){return Ye(()=>e)}(o),qi(l=>Gh(l)?vr:Na(l)))}(o,e,t,r).pipe(Ye(l=>(e._resolvedData=l,e.data=dw(e,n).resolve,i&&Mw(i)&&(e.data[Oa]=i.title),null)))}(l.route,r,e,t)),$n(()=>o++),Ah(1),yn(l=>o===i.length?Ne(n):vr))})}(n.paramsInheritanceStrategy,this.environmentInjector),$n({next:()=>m=!0,complete:()=>{m||(n.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),$n(f=>{const m=new nT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Zh(l=>{const f=m=>{const S=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(m.routeConfig).pipe($n(I=>{m.component=I}),Ye(()=>{})));for(const I of m.children)S.push(...f(I));return S};return ky(f(l.targetSnapshot.root)).pipe(Pl(),Ma(1))}),Zh(()=>this.afterPreactivation()),Ye(l=>{const f=function mT(e,t,n){const r=Ua(e,t._root,n?n._root:void 0);return new cw(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),$n(l=>{n.currentUrlTree=l.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),n.routerState=l.targetRouterState,"deferred"===n.urlUpdateStrategy&&(l.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,l),n.browserUrlTree=l.urlAfterRedirects)}),((e,t,n)=>Ye(r=>(new IT(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l)),$n({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new bs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Fh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qi(l=>{if(o=!0,yw(l)){vw(l)||(n.navigated=!0,n.restoreHistory(r,!0));const f=new Hl(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),vw(l)){const m=n.urlHandlingStrategy.merge(l.url,n.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Lw(r.source)};n.scheduleNavigation(m,Va,null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const f=new kh(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(n.errorHandler(l))}catch(m){r.reject(m)}}return vr}))}))}cancelNavigationTransition(n,r,i){const o=new Hl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lw(e){return e!==Va}let Bw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ze);return r}getResolvedTitleForRoute(n){return n.data[Oa]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return Qe(w4)},providedIn:"root"}),e})(),w4=(()=>{class e extends Bw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Ae(Ny))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return Qe(D4)},providedIn:"root"}),e})();class S4{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let D4=(()=>{class e extends S4{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function Kp(e){return Vt(()=>{const t=e.prototype.constructor,n=t[nn]||Zc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[nn]||Zc(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(r||e)}}(),e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Jl=new ke("",{providedIn:"root",factory:()=>({})});let C4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return Qe(b4)},providedIn:"root"}),e})(),b4=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function I4(e){throw e}function A4(e,t,n){return t.parse("/")}const F4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ur=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Qe(Zb),this.isNgZoneEnabled=!1,this.options=Qe(Jl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||I4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||A4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Qe(C4),this.routeReuseStrategy=Qe(E4),this.urlCreationStrategy=Qe(hT),this.titleStrategy=Qe(Bw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qy(Qe(Ao,{optional:!0})??[]),this.navigationTransitions=Qe(Xl),this.urlSerializer=Qe(La),this.location=Qe(Qd),this.isNgZoneEnabled=Qe(on)instanceof on&&on.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ki,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Va,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const f=this.parseUrl(n);this.scheduleNavigation(f,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Kh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,S=m?this.currentUrlTree.fragment:l;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,I,S??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Cs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Va,null,r)}navigate(n,r={skipLocationChange:!1}){return function T4(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new pe(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...F4}:!1===r?{..._4}:r,Cs(n))return Gy(this.currentUrlTree,n,i);const o=this.parseUrl(n);return Gy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let f,m,S,I;return l?(f=l.resolve,m=l.reject,S=l.promise):S=new Promise((O,U)=>{f=O,m=U}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:f,reject:m,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(O=>Promise.reject(O))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class jw{}let N4=(()=>{class e{constructor(n,r,i,o,l){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(n=>n instanceof bs),Ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=sl(o.providers,n,`Route: ${o.path}`));const l=o._injector??n,f=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return tn(i).pipe(Ii())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ne(null);const o=i.pipe(yn(l=>null===l?Ne(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??n,l.routes))));return r.loadComponent&&!r._loadedComponent?tn([o,this.loader.loadComponent(r)]).pipe(Ii()):o})}}return e.\u0275fac=function(n){return new(n||e)(Ae(ur),Ae(m1),Ae(gi),Ae(jw),Ae(Xh))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ep=new ke("");let Hw=(()=>{class e{constructor(n,r,i,o,l={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Oh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function x0(){throw new Error("invalid")}()},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();var gr=(()=>((gr=gr||{})[gr.COMPLETE=0]="COMPLETE",gr[gr.FAILED=1]="FAILED",gr[gr.REDIRECTING=2]="REDIRECTING",gr))();const Fo=!1;function Gi(e,t){return{\u0275kind:e,\u0275providers:t}}const tp=new ke("",{providedIn:"root",factory:()=>!1});function Uw(){const e=Qe(Yr);return t=>{const n=e.get(dl);if(t!==n.components[0])return;const r=e.get(ur),i=e.get($w);1===e.get(np)&&r.initialNavigation(),e.get(qw,null,Re.Optional)?.setUpPreloading(),e.get(ep,null,Re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const $w=new ke(Fo?"bootstrap done indicator":"",{factory:()=>new gt}),np=new ke(Fo?"initial navigation":"",{providedIn:"root",factory:()=>1});function B4(){let e=[];return e=Fo?[{provide:Bu,multi:!0,useFactory:()=>{const t=Qe(ur);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function lT(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Gi(1,e)}const qw=new ke(Fo?"router preloader":"");function j4(e){return Gi(0,[{provide:qw,useExisting:N4},{provide:jw,useExisting:e}])}const Ya=!1,zw=new ke(Ya?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),H4=[Qd,{provide:La,useClass:_h},ur,$a,{provide:Co,useFactory:function Vw(e){return e.routerState.root},deps:[ur]},Xh,Ya?{provide:tp,useValue:!0}:[]];function V4(){return new C1("Router",ur)}let Kw=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[H4,Ya&&r?.enableTracing?B4().\u0275providers:[],{provide:Ao,multi:!0,useValue:n},{provide:zw,useFactory:z4,deps:[[ur,new ea,new ta]]},{provide:Jl,useValue:r||{}},r?.useHash?{provide:Ss,useClass:LI}:{provide:Ss,useClass:G1},{provide:ep,useFactory:()=>{const e=Qe(iF),t=Qe(on),n=Qe(Jl),r=Qe(Xl),i=Qe(La);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hw(i,r,e,t,n)}},r?.preloadingStrategy?j4(r.preloadingStrategy).\u0275providers:[],{provide:C1,multi:!0,useFactory:V4},r?.initialNavigation?K4(r):[],[{provide:Gw,useFactory:Uw},{provide:x1,multi:!0,useExisting:Gw}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ao,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Ae(zw,8))},e.\u0275mod=ai({type:e}),e.\u0275inj=qr({imports:[qh]}),e})();function z4(e){if(Ya&&e)throw new pe(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function K4(e){return["disabled"===e.initialNavigation?Gi(3,[{provide:ll,multi:!0,useFactory:()=>{const t=Qe(ur);return()=>{t.setUpLocationChangeListener()}}},{provide:np,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Gi(2,[{provide:np,useValue:0},{provide:ll,multi:!0,deps:[Yr],useFactory:t=>{const n=t.get(OI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(ur),o=t.get($w);(function M4(e,t){e.events.pipe(Ui(n=>n instanceof bs||n instanceof Hl||n instanceof kh||n instanceof Vl),Ye(n=>n instanceof bs||n instanceof Vl?gr.COMPLETE:n instanceof Hl&&(0===n.code||1===n.code)?gr.REDIRECTING:gr.FAILED),Ui(n=>n!==gr.REDIRECTING),Ma(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Xl).afterPreactivation=()=>(r(!0),o.closed?Ne(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Gw=new ke(Ya?"Router Initializer":"");let W4=(()=>{class e{constructor(){this.title="adinfo";const n=window.location.href;if(!n.includes("/#/")){const i=n.replace("/?","/#/?");i!=n&&(window.location.href=i)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_r({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container","text-center"],[1,"row"],[1,"col"],["src","assets/images/logo.png","alt","My Image",1,"logo"]],template:function(n,r){1&n&&(it(0,"div",0)(1,"div",1)(2,"div",2),Jr(3,"img",3)(4,"router-outlet"),st()()())},dependencies:[$h]}),e})(),Ww=(()=>{class e{constructor(){}getparameter(n){let r=window.location.hash;return r=r.replace("#/",""),new URLSearchParams(r).get(n)??""}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Yw=ue(172);let Zw=(()=>{class e{constructor(){this.tipo="",this.aux=""}getTipo(){return this.tipo}setTipo(n){this.tipo=n}getAux(){return this.aux}setAux(n){this.aux=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Y4(e,t){1&e&&Jr(0,"div",6)}function Z4(e,t){if(1&e&&(it(0,"table",7)(1,"tbody")(2,"tr")(3,"td",8)(4,"b"),at(5,"CUCE"),st()(),it(6,"td",9),at(7),st()(),it(8,"tr")(9,"td",8)(10,"b"),at(11,"Entidad"),st()(),it(12,"td"),at(13),st()(),it(14,"tr")(15,"td",8)(16,"b"),at(17,"Tipo"),st()(),it(18,"td",9),at(19),st()(),it(20,"tr")(21,"td",8)(22,"b"),at(23,"Modalidad"),st()(),it(24,"td"),at(25),st()(),it(26,"tr")(27,"td",8)(28,"b"),at(29,"Objeto"),st()(),it(30,"td",9),at(31),st()(),it(32,"tr")(33,"td",8)(34,"b"),at(35,"Subasta"),st()(),it(36,"td"),at(37),st()(),it(38,"tr")(39,"td",8)(40,"b"),at(41,"Fecha limite"),st()(),it(42,"td",9),at(43),st()(),it(44,"tr")(45,"td",8)(46,"b"),at(47,"Fecha Publicaci\xf3m"),st()(),it(48,"td"),at(49),st()(),it(50,"tr")(51,"td",8)(52,"b"),at(53,"Codigo para buscar Sicoes"),st()(),it(54,"td",9),at(55),Jr(56,"b"),st()()()()),2&e){const n=ma();Sn(7),sr(" ",n.contrata.cuce," "),Sn(6),sr(" ",n.contrata.entidad," "),Sn(6),sr(" ",n.contrata.tipo," "),Sn(6),sr(" ",n.contrata.modalidad," "),Sn(6),sr(" ",n.contrata.objeto," "),Sn(6),sr(" ",n.contrata.subasta," "),Sn(6),sr(" ",n.contrata.presentacion," "),Sn(6),sr(" ",n.contrata.publicacion," "),Sn(6),sr(" ",n.idunico," ")}}function X4(e,t){1&e&&Jr(0,"div",10)}let J4=(()=>{class e{constructor(n){this.tipo=n,this.idunico="",this.count=0,this.showInferior=!0,this.showSuperior=!0}ngOnInit(){let n=this.tipo.getAux();if(""!=n){let r=n.split("."),i=Yw.lW.from(r[1],"base64").toString("utf8"),o=JSON.parse(i);this.contrata=JSON.parse(o.v);let l=this.contrata.cuce.split("-");this.idunico=l[3]}else window.history.back();this.intervalId=setInterval(()=>{this.count++,this.count%8==0&&this.refreshDivs()},1e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}regresar(){clearInterval(this.intervalId),window.history.back()}refreshDivs(){console.log("refrescando divs"),this.showInferior=!1,this.showSuperior=!1,setTimeout(()=>{this.showInferior=!0,this.showSuperior=!0})}}return e.\u0275fac=function(n){return new(n||e)(Fe(Zw))},e.\u0275cmp=_r({type:e,selectors:[["app-contratacion"]],decls:14,vars:4,consts:[["id","superior",4,"ngIf"],["class","table",4,"ngIf"],[1,"mb-3","fw-normal"],["href","https://wwww.sicoes.gob.bo"],["id","inferior",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-lg","px-4","gap-3",3,"click"],["id","superior"],[1,"table"],["align","left",1,"table-primary"],[1,"table-active"],["id","inferior"]],template:function(n,r){1&n&&(yi(0,Y4,1,0,"div",0),yi(1,Z4,57,9,"table",1),it(2,"h6",2),at(3," Si desea descargar formularios, consultar las bases de contrataci\xf3n y obtener m\xe1s informaci\xf3n sobre los procesos de contrataciones estatales, puede ingresar al portal web de "),it(4,"a",3),at(5,"SICOES"),st(),at(6),it(7,"p")(8,"b"),at(9,"Nota."),st(),at(10," Este no es un sitio oficial, es un servicio externo para notificar contrataciones estatales"),st()(),yi(11,X4,1,0,"div",4),it(12,"button",5),ga("click",function(){return r.regresar()}),at(13,"Regresar"),st()),2&n&&(Mr("ngIf",r.showSuperior),Sn(1),Mr("ngIf",null!=r.contrata),Sn(5),sr(" y buscar por el C\xf3digo \xdanico de Contrataciones Estatales (CUCE) en la cuarta casilla. El CUCE del proceso que le interesa es ",r.idunico,'. Adem\xe1s, en la opci\xf3n "Ver" puede seleccionar "TODOS" para ver todos los detalles del proceso '),Sn(5),Mr("ngIf",r.showInferior))},dependencies:[ch]}),e})();const Ql=JSON.parse('{"k":[{"id":1,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"},{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"Hipertextual","alltime":false,"host":"hipertextual.com"},{"id":2,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"}],"feedtype":"AUTO","site":"Gizmodo","alltime":false,"host":"es.gizmodo.com"},{"id":3,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"}],"feedtype":"AUTO","site":"Xataka","alltime":false,"host":"xataka.com"},{"id":4,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"}],"feedtype":"AUTO","site":"MicroSiervos","alltime":false,"host":"microsiervos.com"},{"id":5,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"}],"feedtype":"AUTO","site":"The Verge","alltime":false,"host":"theverge.com"},{"id":18,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasmundos","descripcionCanal":"Noticias de tecnologia mundial","idChat":"-1001964887093","id":1,"token":"*"}],"feedtype":"AUTO","site":"Genbeta Tecnologia","alltime":false,"host":"genbeta.com"},{"id":6,"url":"*","lista":[{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"ABC","alltime":false,"host":"abc.es"},{"id":7,"url":"*","lista":[{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"BBC","alltime":false,"host":"bbc.com"},{"id":8,"url":"*","lista":[{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"Russia Today","alltime":false,"host":"actualidad.rt.com"},{"id":9,"url":"*","lista":[{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"CNN","alltime":false,"host":"cnnespanol.cnn.com"},{"id":10,"url":"*","lista":[{"urlCanal":"https://t.me/tecnologiamundos","descripcionCanal":"Noticias internacionales ","idChat":"-1001800959242","id":2,"token":"*"}],"feedtype":"AUTO","site":"El Tiempo","alltime":false,"host":"eltiempo.com"},{"id":11,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Vida Extra","alltime":false,"host":"vidaextra.com"},{"id":12,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"3d Juegos","alltime":false,"host":"3djuegos.com"},{"id":13,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Vandal","alltime":false,"host":"vandal.elespanol.com"},{"id":14,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Nintendo","alltime":false,"host":"nintendo.es"},{"id":15,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Metacritic","alltime":false,"host":"metacritic.com"},{"id":16,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Hobby Consolas","alltime":false,"host":"hobbyconsolas.com"},{"id":17,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Generacion Xbox","alltime":false,"host":"generacionxbox.com"},{"id":19,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Akihabarablues","alltime":false,"host":"akihabarablues.com"},{"id":20,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Pure Gaming","alltime":false,"host":"puregaming.es"},{"id":21,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"IGN","alltime":false,"host":"feeds.feedburner.com"},{"id":22,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Generacion Pixel","alltime":false,"host":"generacionpixel.com"},{"id":23,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasvideojuegosX","descripcionCanal":"Noticias de Video Juegos ","idChat":"-1001985165989","id":3,"token":"*"}],"feedtype":"AUTO","site":"Level UP","alltime":false,"host":"levelup.com"},{"id":27,"url":"*","lista":[{"urlCanal":"https://t.me/notiiasdeporte","descripcionCanal":"Noticias de Deporte mundial ","idChat":"-1001644703000","id":4,"token":"*"}],"feedtype":"AUTO","site":"El mundo - Deportes","alltime":false,"host":"e00-elmundo.uecdn.es"},{"id":28,"url":"*","lista":[{"urlCanal":"https://t.me/notiiasdeporte","descripcionCanal":"Noticias de Deporte mundial ","idChat":"-1001644703000","id":4,"token":"*"}],"feedtype":"AUTO","site":"Marca","alltime":false,"host":"e00-marca.uecdn.es"},{"id":29,"url":"*","lista":[{"urlCanal":"https://t.me/notiiasdeporte","descripcionCanal":"Noticias de Deporte mundial ","idChat":"-1001644703000","id":4,"token":"*"}],"feedtype":"AUTO","site":"Espn Deportes","alltime":false,"host":"espndeportes.espn.com"},{"id":30,"url":"*","lista":[{"urlCanal":"https://t.me/notiiasdeporte","descripcionCanal":"Noticias de Deporte mundial ","idChat":"-1001644703000","id":4,"token":"*"}],"feedtype":"AUTO","site":"Cnn Deportes","alltime":false,"host":"cnnespanol.cnn.com"},{"id":31,"url":"*","lista":[{"urlCanal":"https://t.me/noticiascinemundo","descripcionCanal":"Noticias de Cine ","idChat":"-1001828521868","id":5,"token":"*"}],"feedtype":"AUTO","site":"Espin of","alltime":false,"host":"espinof.com"},{"id":32,"url":"*","lista":[{"urlCanal":"https://t.me/noticiascinemundo","descripcionCanal":"Noticias de Cine ","idChat":"-1001828521868","id":5,"token":"*"}],"feedtype":"AUTO","site":"De fan a fan","alltime":false,"host":"feeds.feedburner.com"},{"id":33,"url":"*","lista":[{"urlCanal":"https://t.me/noticiascinemundo","descripcionCanal":"Noticias de Cine ","idChat":"-1001828521868","id":5,"token":"*"}],"feedtype":"AUTO","site":"Fotogramas","alltime":false,"host":"fotogramas.es"},{"id":34,"url":"*","lista":[{"urlCanal":"https://t.me/noticiascinemundo","descripcionCanal":"Noticias de Cine ","idChat":"-1001828521868","id":5,"token":"*"}],"feedtype":"AUTO","site":"Cine en Serio","alltime":false,"host":"cineenserio.com"},{"id":35,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Free Code Camp","alltime":false,"host":"freecodecamp.org"},{"id":36,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Khan Academy","alltime":false,"host":"blog.khanacademy.org"},{"id":37,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Site Point","alltime":false,"host":"sitepoint.com"},{"id":38,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"David Walsh","alltime":false,"host":"davidwalsh.name"},{"id":39,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"The Crazy Programmer","alltime":false,"host":"thecrazyprogrammer.com"},{"id":40,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"StackAbuse","alltime":false,"host":"stackabuse.com"},{"id":41,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"jooq","alltime":false,"host":"blog.jooq.org"},{"id":42,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Better Programming","alltime":false,"host":"betterprogramming.pub"},{"id":43,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Coding Dojo","alltime":false,"host":"codingdojo.com"},{"id":44,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Coding Dojo","alltime":false,"host":"codingnconcepts.com"},{"id":45,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasprogramacion","descripcionCanal":"Noticias de Programacion ","idChat":"-1001978201529","id":6,"token":"*"}],"feedtype":"AUTO","site":"Coder See","alltime":false,"host":"codersee.com"},{"id":47,"url":"*","lista":[{"urlCanal":"https://t.me/noticiaschile123","descripcionCanal":"Noticias de Chile ","idChat":"-1001966802380","id":7,"token":"*"}],"feedtype":"AUTO","site":"Publimetro","alltime":false,"host":"publimetro.cl"},{"id":48,"url":"*","lista":[{"urlCanal":"https://t.me/noticiaschile123","descripcionCanal":"Noticias de Chile ","idChat":"-1001966802380","id":7,"token":"*"}],"feedtype":"AUTO","site":"La Razon","alltime":false,"host":"larazon.cl"},{"id":49,"url":"*","lista":[{"urlCanal":"https://t.me/noticiaschile123","descripcionCanal":"Noticias de Chile ","idChat":"-1001966802380","id":7,"token":"*"}],"feedtype":"AUTO","site":"La Razon","alltime":false,"host":"lanacion.cl"},{"id":50,"url":"*","lista":[{"urlCanal":"https://t.me/noticiaschile123","descripcionCanal":"Noticias de Chile ","idChat":"-1001966802380","id":7,"token":"*"}],"feedtype":"AUTO","site":"Tus Noticias","alltime":false,"host":"tusnoticias.cl"},{"id":51,"url":"*","lista":[{"urlCanal":"https://t.me/noticiaschile123","descripcionCanal":"Noticias de Chile ","idChat":"-1001966802380","id":7,"token":"*"}],"feedtype":"AUTO","site":"Diario labrador","alltime":false,"host":"diariolabrador.cl"},{"id":52,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasperu123","descripcionCanal":"Noticias de Peru ","idChat":"-1001728758921","id":8,"token":"*"}],"feedtype":"AUTO","site":"El comercio peru","alltime":false,"host":"elcomercio.pe"},{"id":53,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasperu123","descripcionCanal":"Noticias de Peru ","idChat":"-1001728758921","id":8,"token":"*"}],"feedtype":"AUTO","site":"Trome","alltime":false,"host":"trome.pe"},{"id":54,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasperu123","descripcionCanal":"Noticias de Peru ","idChat":"-1001728758921","id":8,"token":"*"}],"feedtype":"AUTO","site":"Diario Coreo","alltime":false,"host":"diariocorreo.pe"},{"id":55,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasperu123","descripcionCanal":"Noticias de Peru ","idChat":"-1001728758921","id":8,"token":"*"}],"feedtype":"AUTO","site":"Peru 21","alltime":false,"host":"peru21.pe"},{"id":56,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasperu123","descripcionCanal":"Noticias de Peru ","idChat":"-1001728758921","id":8,"token":"*"}],"feedtype":"AUTO","site":"La razon Pe","alltime":false,"host":"larazon.pe"},{"id":57,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"Pagina siete","alltime":false,"host":"paginasiete.bo"},{"id":58,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"Opinion bo","alltime":false,"host":"opinion.com.bo"},{"id":59,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"Urgente bo","alltime":false,"host":"urgente.bo"},{"id":60,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"eaBolivia","alltime":false,"host":"eabolivia.com"},{"id":61,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"La Epoca","alltime":false,"host":"la-epoca.com.bo"},{"id":62,"url":"*","lista":[{"urlCanal":"https://t.me/noticiasbolivia123","descripcionCanal":"Noticias de Bolivia ","idChat":"-1001968548377","id":10,"token":"*"}],"feedtype":"AUTO","site":"Jornada","alltime":false,"host":"jornada.com.bo"},{"id":63,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"El Clarin","alltime":false,"host":"clarin.com"},{"id":64,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"Ole","alltime":false,"host":"ole.com.ar"},{"id":65,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"el cronista","alltime":false,"host":"cronista.com"},{"id":66,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"Pagina 12","alltime":false,"host":"pagina12.com.ar"},{"id":67,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"Ambito Financiero","alltime":false,"host":"ambito.com"},{"id":68,"url":"*","lista":[{"urlCanal":"https://t.me/oticiasargetina","descripcionCanal":"Noticias de Agentina ","idChat":"-1001921219526","id":9,"token":"*"}],"feedtype":"AUTO","site":"La nacion Argentina","alltime":false,"host":"lanacion.com.ar"},{"id":69,"url":"*","lista":[{"urlCanal":"https://t.me/+lxncTxkYHHliNTMx","descripcionCanal":"Monitor 24/7 de Comunicados del Ministerio de Economica - DGSGIF - Bolivia","idChat":"-1001905146351","id":12,"token":"*"}],"feedtype":"AUTO","site":"Comunicados Sigep","urlImagen":"https://portal.sigep.gob.bo/wp-content/uploads/2016/04/logoSistemaReporte.jpg","alltime":true,"host":"portal.sigep.gob.bo"},{"id":70,"url":"*","lista":[{"urlCanal":"https://t.me/+lxncTxkYHHliNTMx","descripcionCanal":"Monitor 24/7 de Comunicados del Ministerio de Economica - DGSGIF - Bolivia","idChat":"-1001905146351","id":12,"token":"*"}],"feedtype":"AUTO","site":"Comunicados Sicoes","urlImagen":"https://portal.sigep.gob.bo/wp-content/uploads/2016/05/logosicoes.gif","alltime":true,"host":"portal.sigep.gob.bo"},{"id":71,"url":"*","lista":[{"urlCanal":"https://t.me/+lxncTxkYHHliNTMx","descripcionCanal":"Monitor 24/7 de Comunicados del Ministerio de Economica - DGSGIF - Bolivia","idChat":"-1001905146351","id":12,"token":"*"}],"feedtype":"AUTO","site":"Comunicados Sigma Personal","urlImagen":"https://portal.sigep.gob.bo/wp-content/uploads/2016/05/sigma_nuevo.gif","alltime":true,"host":"portal.sigep.gob.bo"}]}');var Q4=ue(573);let e3=(()=>{class e{constructor(){this.llavepub="-----BEGIN PUBLIC KEY-----\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAypd3372FerYwxCcZyDyu\n    8oNbEPHTl16DmPbjYpvHemzhg/UtvM5hQuIfqmQ/ykorTfxBw9qw2LkNfgKfcM2J\n    jPOCiRb6GSQscKCWDeNzcgAWolJoKrzBibm3FDasdd2kM9aFkTX+bTdudsU40821\n    YoWywSPnauMHIk5i6Eipps5BZwVrIjdbAPQprGglSYvX/Nd87sgcRJfRNS3D9jqG\n    WtNG4qv9fPTCfVd5qPTJBThgjs3uDhhGhJ1UCYjIyRCTTaKtZR3+PJ2LhTulkOfm\n    JsF94PEVHszSsWWk//Zly1+RbjcD86MbJ5L26Bn/nkLNmdz5M5izAimM2CcsB3Rs\n    fQIDAQAB\n    -----END PUBLIC KEY-----"}valid(n){return this.validJwt(n,this.llavepub)}validJwt(n,r){return!!Q4.fs.jws.JWS.verify(n,r,["RS256"])}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function t3(e,t){1&e&&Jr(0,"div",5)}function n3(e,t){if(1&e&&(it(0,"h6",6),at(1),st()),2&e){const n=ma();Sn(1),sr("Espera por favor..",n.resto()," segundos")}}function r3(e,t){if(1&e){const n=function tm(){return oe()}();it(0,"button",7),ga("click",function(){return function vu(e){return xe.lFrame.contextLView=e,e[kt]}(n),function dr(e){return xe.lFrame.contextLView=null,e}(ma().click())}),at(1),st()}if(2&e){const n=ma();Mr("disabled",n.disable),Sn(1),hd(n.texto)}}function i3(e,t){1&e&&(it(0,"div")(1,"div",8)(2,"p",9),at(3,"Servicio de redireccion de links de noticias, links de wordpress y Informacion personalizada de sitios"),st(),it(4,"div",10)(5,"div",11)(6,"div",12)(7,"p",9),at(8,"Ejemplo de link"),st(),it(9,"a",13),at(10,"Click aqui"),st()(),it(11,"div",12)(12,"p",9),at(13,"Ejemplo de Informacion"),st(),it(14,"a",14),at(15,"Click aqui"),st()()()(),it(16,"div",15),Jr(17,"p"),it(18,"button",16),at(19,"En construcci\xf3n!"),st()()()())}function s3(e,t){1&e&&Jr(0,"div",17)}const o3=[{path:"",component:(()=>{class e{constructor(n,r,i,o){if(this.router=n,this.util=r,this.tipo=i,this.llave=o,this.texto="",this.link="",this.disable=!1,this.count=0,this.readyLink=!1,this.hostin="",this.showInferior=!0,this.showSuperior=!0,this.maximo=30,this.cuando=!1,this.hostsvalidos="",this.nohay=!1,this.ti="",this.ti=r.getparameter("ti"),""===this.ti){let l,f;this.link=Yw.lW.from(r.getparameter("link"),"base64").toString();try{l=new URL(null==this.link?"":this.link),f=!0}catch{f=!1}if(f){let m,S;this.nohay=!1,m=l.hostname,S=!1,m=m.replace("www.","");for(let I=0;I<Ql.k.length;I++)Ql.k[I].host==m&&(S=!0);0==S?this.link="NO PERMITIDO":this.hostin=m,this.texto="Entrar a link"}else this.disable=!0,this.texto="No se envio link",this.nohay=!0,this.validos()}else if("2"===this.ti){let l=r.getparameter("data"),f=r.getparameter("ti");o.valid(l)?(this.texto="Ver los datos",this.disable=!1,this.hostin="ver datos Sicoes",this.link="/#/contratacion",i.setTipo(f),i.setAux(l)):(this.texto="Datos no validos",this.disable=!0,this.hostin="DAtos no validos",this.link="/#/error",i.setTipo(""),i.setAux(""))}}validos(){this.hostsvalidos="";for(let n=0;n<Ql.k.length;n++)this.hostsvalidos=this.hostsvalidos+Ql.k[n].site+",";this.hostsvalidos.substring(0,this.hostsvalidos.length-1)}click(){if(this.readyLink)"2"==this.tipo.getTipo()?this.router.navigate(["/contratacion"]):window.location.href=null!=this.link?this.link:"";else{this.disable=!0;const n=setInterval(()=>{this.count++,this.cuando=!0,this.count===this.maximo&&(clearInterval(n),this.disable=!1,this.count=0,this.readyLink=!0,this.texto="Ir a "+this.hostin,this.cuando=!1),this.count%5==0&&this.refreshDivs()},1e3)}}refreshDivs(){console.log("refrescando divs"),this.showInferior=!1,this.showSuperior=!1,setTimeout(()=>{this.showInferior=!0,this.showSuperior=!0})}resto(){return this.maximo-this.count}}return e.\u0275fac=function(n){return new(n||e)(Fe(ur),Fe(Ww),Fe(Zw),Fe(e3))},e.\u0275cmp=_r({type:e,selectors:[["app-init"]],decls:5,vars:5,consts:[["id","superior",4,"ngIf"],["class","mb-3 fw-normal",4,"ngIf"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["id","inferior",4,"ngIf"],["id","superior"],[1,"mb-3","fw-normal"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"col-lg-6","mx-auto"],[1,"lead","mb-4"],[1,"container"],[1,"row"],[1,"col"],["href","https://adsinfos.github.io/#/?link=aHR0cHM6Ly93d3cuZXNwaW5vZi5jb20vc2VsZWNjaW9uL21lZGlhbWFya3QtY2VsZWJyYS1zdS1hbml2ZXJzYXJpby1yZWJhamFuZG8tbXVjaGlzaW1vcy1mdW5rb3MtbGxldmF0ZS1tZWpvcmVzLWZpZ3VyYXMtc3Rhci13YXJzLW1hcnZlbC1tdWNoby1hLXByZWNpby1kZXJyaWJv"],["href","https://adsinfos.github.io/#/?data=eyJhbGciOiJSUzI1NiJ9.eyJleHAiOjE3NDMzNjA3OTEsInYiOiJ7XCJjdWNlXCI6XCIyMy0xMjA1LTAwLTEzMTU5NzEtMS0yXCIsXCJlbnRpZGFkXCI6XCJHb2JpZXJubyBBdXRvbm9tbyBNdW5pY2lwYWwgRGUgRWwgQWx0b1wiLFwidGlwb1wiOlwiQmllbmVzXCIsXCJtb2RhbGlkYWRcIjpcIkNNXCIsXCJvYmpldG9cIjpcIlNlcnZpY2lvcyBEZSBTYWx1ZCBVbml2ZXJzYWwgWSBHcmF0dWl0YSAtIFN1cyAoQWRxdWlzaWNpb24gRGUgUGFwZWwgUHJpbnRlciBUaXBvIFYgUGFyYSBFY29ncmFmaWEgRGVsIEhvc3BpdGFsIE11bmljaXBhbCBNb2RlbG8gQ29yZWEpXCIsXCJzdWJhc3RhXCI6XCJOb1wiLFwicHJlc2VudGFjaW9uXCI6XCIwMy8wNC8yMDIzXCIsXCJwdWJsaWNhY2lvblwiOlwiMjkvMDMvMjAyM1wifSJ9.kDng_qIaVLw2oJ-iK24f7uOmx3rJ4LYcvz7En6uji0ILCu2_e_M9jpos-2xLypocaPXWh0xTw47U9_gASSnbBWtYzWOU9raSxgCRC7FWVx-1umeYSeF2o2FNNuwaN0rSKH4mtNaMQNB7yE8eQPVKahlSil8x_pWW_N86wPOVTJPPCt-RYBuCi9ay9hhH29aRYP15Utticf9-SaI4GZ-aV8sgeiLDRueu1YSVmEsewz3q5Z5XGbV60DTZIZLXhtzySOMQS_7XV8dVsxJbZkuetIuxaeX4wh3P532pwEyEOpV1GQPMm648fywOAsb6U2FZ8PwdUVfqF21ewtoomtgKBw&ti=2"],[1,"d-grid","gap-2","d-sm-flex","justify-content-sm-center"],["type","button",1,"btn","btn-primary","btn-lg","px-4","gap-3"],["id","inferior"]],template:function(n,r){1&n&&(yi(0,t3,1,0,"div",0),yi(1,n3,2,1,"h6",1),yi(2,r3,2,2,"button",2),yi(3,i3,20,0,"div",3),yi(4,s3,1,0,"div",4)),2&n&&(Mr("ngIf",r.showSuperior),Sn(1),Mr("ngIf",r.cuando),Sn(1),Mr("ngIf",!r.nohay),Sn(1),Mr("ngIf",r.nohay),Sn(1),Mr("ngIf",r.showInferior))},dependencies:[ch],styles:['@charset "UTF-8";.logo[_ngcontent-%COMP%]{width:280px;height:auto}']}),e})()},{path:"contratacion",component:J4}];let a3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ai({type:e}),e.\u0275inj=qr({imports:[Kw.forRoot(o3,{useHash:!0}),Kw]}),e})(),u3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ai({type:e,bootstrap:[W4]}),e.\u0275inj=qr({providers:[Ww],imports:[n_,a3]}),e})();t_().bootstrapModule(u3).catch(e=>console.error(e))},343:(Wi,qn)=>{"use strict";qn.byteLength=function vt(Me){var z=We(Me),Nt=z[1];return 3*(z[0]+Nt)/4-Nt},qn.toByteArray=function It(Me){var z,en,Ee=We(Me),Nt=Ee[0],Ht=Ee[1],Dt=new $t(function ne(Me,z,Ee){return 3*(z+Ee)/4-Ee}(0,Nt,Ht)),cn=0,Zn=Ht>0?Nt-4:Nt;for(en=0;en<Zn;en+=4)z=ye[Me.charCodeAt(en)]<<18|ye[Me.charCodeAt(en+1)]<<12|ye[Me.charCodeAt(en+2)]<<6|ye[Me.charCodeAt(en+3)],Dt[cn++]=z>>16&255,Dt[cn++]=z>>8&255,Dt[cn++]=255&z;return 2===Ht&&(z=ye[Me.charCodeAt(en)]<<2|ye[Me.charCodeAt(en+1)]>>4,Dt[cn++]=255&z),1===Ht&&(z=ye[Me.charCodeAt(en)]<<10|ye[Me.charCodeAt(en+1)]<<4|ye[Me.charCodeAt(en+2)]>>2,Dt[cn++]=z>>8&255,Dt[cn++]=255&z),Dt},qn.fromByteArray=function _n(Me){for(var z,Ee=Me.length,Nt=Ee%3,Ht=[],cn=0,Zn=Ee-Nt;cn<Zn;cn+=16383)Ht.push(yt(Me,cn,cn+16383>Zn?Zn:cn+16383));return 1===Nt?Ht.push(ue[(z=Me[Ee-1])>>2]+ue[z<<4&63]+"=="):2===Nt&&Ht.push(ue[(z=(Me[Ee-2]<<8)+Me[Ee-1])>>10]+ue[z>>4&63]+ue[z<<2&63]+"="),Ht.join("")};for(var ue=[],ye=[],$t=typeof Uint8Array<"u"?Uint8Array:Array,jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt=0,le=jt.length;bt<le;++bt)ue[bt]=jt[bt],ye[jt.charCodeAt(bt)]=bt;function We(Me){var z=Me.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Ee=Me.indexOf("=");return-1===Ee&&(Ee=z),[Ee,Ee===z?0:4-Ee%4]}function St(Me){return ue[Me>>18&63]+ue[Me>>12&63]+ue[Me>>6&63]+ue[63&Me]}function yt(Me,z,Ee){for(var Ht=[],Dt=z;Dt<Ee;Dt+=3)Ht.push(St((Me[Dt]<<16&16711680)+(Me[Dt+1]<<8&65280)+(255&Me[Dt+2])));return Ht.join("")}ye["-".charCodeAt(0)]=62,ye["_".charCodeAt(0)]=63},172:(Wi,qn,ue)=>{"use strict";var $t=ue(343),jt=ue(461),bt="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;qn.lW=ne,qn.h2=50;var le=2147483647;function vt(j){if(j>le)throw new RangeError('The value "'+j+'" is invalid for option "size"');var T=new Uint8Array(j);return Object.setPrototypeOf(T,ne.prototype),T}function ne(j,T,R){if("number"==typeof j){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return _n(j)}return It(j,T,R)}function It(j,T,R){if("string"==typeof j)return function Me(j,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!ne.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var R=0|Zn(j,T),q=vt(R),ee=q.write(j,T);return ee!==R&&(q=q.slice(0,ee)),q}(j,T);if(ArrayBuffer.isView(j))return function Ee(j){if(lr(j,Uint8Array)){var T=new Uint8Array(j);return Nt(T.buffer,T.byteOffset,T.byteLength)}return z(j)}(j);if(null==j)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(lr(j,ArrayBuffer)||j&&lr(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lr(j,SharedArrayBuffer)||j&&lr(j.buffer,SharedArrayBuffer)))return Nt(j,T,R);if("number"==typeof j)throw new TypeError('The "value" argument must not be of type number. Received type number');var q=j.valueOf&&j.valueOf();if(null!=q&&q!==j)return ne.from(q,T,R);var ee=function Ht(j){if(ne.isBuffer(j)){var T=0|Dt(j.length),R=vt(T);return 0===R.length||j.copy(R,0,0,T),R}return void 0!==j.length?"number"!=typeof j.length||_s(j.length)?vt(0):z(j):"Buffer"===j.type&&Array.isArray(j.data)?z(j.data):void 0}(j);if(ee)return ee;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof j[Symbol.toPrimitive])return ne.from(j[Symbol.toPrimitive]("string"),T,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}function St(j){if("number"!=typeof j)throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function _n(j){return St(j),vt(j<0?0:0|Dt(j))}function z(j){for(var T=j.length<0?0:0|Dt(j.length),R=vt(T),q=0;q<T;q+=1)R[q]=255&j[q];return R}function Nt(j,T,R){if(T<0||j.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<T+(R||0))throw new RangeError('"length" is outside of buffer bounds');var q;return q=void 0===T&&void 0===R?new Uint8Array(j):void 0===R?new Uint8Array(j,T):new Uint8Array(j,T,R),Object.setPrototypeOf(q,ne.prototype),q}function Dt(j){if(j>=le)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+le.toString(16)+" bytes");return 0|j}function Zn(j,T){if(ne.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||lr(j,ArrayBuffer))return j.byteLength;if("string"!=typeof j)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var R=j.length,q=arguments.length>2&&!0===arguments[2];if(!q&&0===R)return 0;for(var ee=!1;;)switch(T){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return si(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return No(j).length;default:if(ee)return q?-1:si(j).length;T=(""+T).toLowerCase(),ee=!0}}function en(j,T,R){var q=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(T>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return To(this,T,R);case"utf8":case"utf-8":return Is(this,T,R);case"ascii":return As(this,T,R);case"latin1":case"binary":return bi(this,T,R);case"base64":return br(this,T,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ro(this,T,R);default:if(q)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),q=!0}}function Cn(j,T,R){var q=j[T];j[T]=j[R],j[R]=q}function Tn(j,T,R,q,ee){if(0===j.length)return-1;if("string"==typeof R?(q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),_s(R=+R)&&(R=ee?0:j.length-1),R<0&&(R=j.length+R),R>=j.length){if(ee)return-1;R=j.length-1}else if(R<0){if(!ee)return-1;R=0}if("string"==typeof T&&(T=ne.from(T,q)),ne.isBuffer(T))return 0===T.length?-1:bn(j,T,R,q,ee);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?ee?Uint8Array.prototype.indexOf.call(j,T,R):Uint8Array.prototype.lastIndexOf.call(j,T,R):bn(j,[T],R,q,ee);throw new TypeError("val must be string, number or Buffer")}function bn(j,T,R,q,ee){var At,ce=1,he=j.length,Ze=T.length;if(void 0!==q&&("ucs2"===(q=String(q).toLowerCase())||"ucs-2"===q||"utf16le"===q||"utf-16le"===q)){if(j.length<2||T.length<2)return-1;ce=2,he/=2,Ze/=2,R/=2}function ht(Ts,Mo){return 1===ce?Ts[Mo]:Ts.readUInt16BE(Mo*ce)}if(ee){var vn=-1;for(At=R;At<he;At++)if(ht(j,At)===ht(T,-1===vn?0:At-vn)){if(-1===vn&&(vn=At),At-vn+1===Ze)return vn*ce}else-1!==vn&&(At-=At-vn),vn=-1}else for(R+Ze>he&&(R=he-Ze),At=R;At>=0;At--){for(var Mt=!0,Xn=0;Xn<Ze;Xn++)if(ht(j,At+Xn)!==ht(T,Xn)){Mt=!1;break}if(Mt)return At}return-1}function ii(j,T,R,q){R=Number(R)||0;var ee=j.length-R;q?(q=Number(q))>ee&&(q=ee):q=ee;var ce=T.length;q>ce/2&&(q=ce/2);for(var he=0;he<q;++he){var Ze=parseInt(T.substr(2*he,2),16);if(_s(Ze))return he;j[R+he]=Ze}return he}function _o(j,T,R,q){return Qi(si(T,j.length-R),j,R,q)}function Yi(j,T,R,q){return Qi(function Ur(j){for(var T=[],R=0;R<j.length;++R)T.push(255&j.charCodeAt(R));return T}(T),j,R,q)}function mr(j,T,R,q){return Qi(No(T),j,R,q)}function Zi(j,T,R,q){return Qi(function Fs(j,T){for(var R,q,ce=[],he=0;he<j.length&&!((T-=2)<0);++he)q=(R=j.charCodeAt(he))>>8,ce.push(R%256),ce.push(q);return ce}(T,j.length-R),j,R,q)}function br(j,T,R){return $t.fromByteArray(0===T&&R===j.length?j:j.slice(T,R))}function Is(j,T,R){R=Math.min(j.length,R);for(var q=[],ee=T;ee<R;){var ht,At,vn,Mt,ce=j[ee],he=null,Ze=ce>239?4:ce>223?3:ce>191?2:1;if(ee+Ze<=R)switch(Ze){case 1:ce<128&&(he=ce);break;case 2:128==(192&(ht=j[ee+1]))&&(Mt=(31&ce)<<6|63&ht)>127&&(he=Mt);break;case 3:At=j[ee+2],128==(192&(ht=j[ee+1]))&&128==(192&At)&&(Mt=(15&ce)<<12|(63&ht)<<6|63&At)>2047&&(Mt<55296||Mt>57343)&&(he=Mt);break;case 4:At=j[ee+2],vn=j[ee+3],128==(192&(ht=j[ee+1]))&&128==(192&At)&&128==(192&vn)&&(Mt=(15&ce)<<18|(63&ht)<<12|(63&At)<<6|63&vn)>65535&&Mt<1114112&&(he=Mt)}null===he?(he=65533,Ze=1):he>65535&&(q.push((he-=65536)>>>10&1023|55296),he=56320|1023&he),q.push(he),ee+=Ze}return function qt(j){var T=j.length;if(T<=Xi)return String.fromCharCode.apply(String,j);for(var R="",q=0;q<T;)R+=String.fromCharCode.apply(String,j.slice(q,q+=Xi));return R}(q)}!(ne.TYPED_ARRAY_SUPPORT=function We(){try{var j=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(j,T),42===j.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.buffer}}),Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.byteOffset}}),ne.poolSize=8192,ne.from=function(j,T,R){return It(j,T,R)},Object.setPrototypeOf(ne.prototype,Uint8Array.prototype),Object.setPrototypeOf(ne,Uint8Array),ne.alloc=function(j,T,R){return function yt(j,T,R){return St(j),j<=0?vt(j):void 0!==T?"string"==typeof R?vt(j).fill(T,R):vt(j).fill(T):vt(j)}(j,T,R)},ne.allocUnsafe=function(j){return _n(j)},ne.allocUnsafeSlow=function(j){return _n(j)},ne.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==ne.prototype},ne.compare=function(T,R){if(lr(T,Uint8Array)&&(T=ne.from(T,T.offset,T.byteLength)),lr(R,Uint8Array)&&(R=ne.from(R,R.offset,R.byteLength)),!ne.isBuffer(T)||!ne.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===R)return 0;for(var q=T.length,ee=R.length,ce=0,he=Math.min(q,ee);ce<he;++ce)if(T[ce]!==R[ce]){q=T[ce],ee=R[ce];break}return q<ee?-1:ee<q?1:0},ne.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(T,R){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return ne.alloc(0);var q;if(void 0===R)for(R=0,q=0;q<T.length;++q)R+=T[q].length;var ee=ne.allocUnsafe(R),ce=0;for(q=0;q<T.length;++q){var he=T[q];if(lr(he,Uint8Array))ce+he.length>ee.length?ne.from(he).copy(ee,ce):Uint8Array.prototype.set.call(ee,he,ce);else{if(!ne.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(ee,ce)}ce+=he.length}return ee},ne.byteLength=Zn,ne.prototype._isBuffer=!0,ne.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<T;R+=2)Cn(this,R,R+1);return this},ne.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<T;R+=4)Cn(this,R,R+3),Cn(this,R+1,R+2);return this},ne.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<T;R+=8)Cn(this,R,R+7),Cn(this,R+1,R+6),Cn(this,R+2,R+5),Cn(this,R+3,R+4);return this},ne.prototype.toLocaleString=ne.prototype.toString=function(){var T=this.length;return 0===T?"":0===arguments.length?Is(this,0,T):en.apply(this,arguments)},ne.prototype.equals=function(T){if(!ne.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===ne.compare(this,T)},ne.prototype.inspect=function(){var T="",R=qn.h2;return T=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(T+=" ... "),"<Buffer "+T+">"},bt&&(ne.prototype[bt]=ne.prototype.inspect),ne.prototype.compare=function(T,R,q,ee,ce){if(lr(T,Uint8Array)&&(T=ne.from(T,T.offset,T.byteLength)),!ne.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===R&&(R=0),void 0===q&&(q=T?T.length:0),void 0===ee&&(ee=0),void 0===ce&&(ce=this.length),R<0||q>T.length||ee<0||ce>this.length)throw new RangeError("out of range index");if(ee>=ce&&R>=q)return 0;if(ee>=ce)return-1;if(R>=q)return 1;if(this===T)return 0;for(var he=(ce>>>=0)-(ee>>>=0),Ze=(q>>>=0)-(R>>>=0),ht=Math.min(he,Ze),At=this.slice(ee,ce),vn=T.slice(R,q),Mt=0;Mt<ht;++Mt)if(At[Mt]!==vn[Mt]){he=At[Mt],Ze=vn[Mt];break}return he<Ze?-1:Ze<he?1:0},ne.prototype.includes=function(T,R,q){return-1!==this.indexOf(T,R,q)},ne.prototype.indexOf=function(T,R,q){return Tn(this,T,R,q,!0)},ne.prototype.lastIndexOf=function(T,R,q){return Tn(this,T,R,q,!1)},ne.prototype.write=function(T,R,q,ee){if(void 0===R)ee="utf8",q=this.length,R=0;else if(void 0===q&&"string"==typeof R)ee=R,q=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(q)?(q>>>=0,void 0===ee&&(ee="utf8")):(ee=q,q=void 0)}var ce=this.length-R;if((void 0===q||q>ce)&&(q=ce),T.length>0&&(q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var he=!1;;)switch(ee){case"hex":return ii(this,T,R,q);case"utf8":case"utf-8":return _o(this,T,R,q);case"ascii":case"latin1":case"binary":return Yi(this,T,R,q);case"base64":return mr(this,T,R,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zi(this,T,R,q);default:if(he)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),he=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Xi=4096;function As(j,T,R){var q="";R=Math.min(j.length,R);for(var ee=T;ee<R;++ee)q+=String.fromCharCode(127&j[ee]);return q}function bi(j,T,R){var q="";R=Math.min(j.length,R);for(var ee=T;ee<R;++ee)q+=String.fromCharCode(j[ee]);return q}function To(j,T,R){var q=j.length;(!T||T<0)&&(T=0),(!R||R<0||R>q)&&(R=q);for(var ee="",ce=T;ce<R;++ce)ee+=Za[j[ce]];return ee}function Ro(j,T,R){for(var q=j.slice(T,R),ee="",ce=0;ce<q.length-1;ce+=2)ee+=String.fromCharCode(q[ce]+256*q[ce+1]);return ee}function gt(j,T,R){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+T>R)throw new RangeError("Trying to access beyond buffer length")}function mn(j,T,R,q,ee,ce){if(!ne.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>ee||T<ce)throw new RangeError('"value" argument is out of bounds');if(R+q>j.length)throw new RangeError("Index out of range")}function Ji(j,T,R,q,ee,ce){if(R+q>j.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function zt(j,T,R,q,ee){return T=+T,R>>>=0,ee||Ji(j,0,R,4),jt.write(j,T,R,q,23,4),R+4}function Kt(j,T,R,q,ee){return T=+T,R>>>=0,ee||Ji(j,0,R,8),jt.write(j,T,R,q,52,8),R+8}ne.prototype.slice=function(T,R){var q=this.length;(T=~~T)<0?(T+=q)<0&&(T=0):T>q&&(T=q),(R=void 0===R?q:~~R)<0?(R+=q)<0&&(R=0):R>q&&(R=q),R<T&&(R=T);var ee=this.subarray(T,R);return Object.setPrototypeOf(ee,ne.prototype),ee},ne.prototype.readUintLE=ne.prototype.readUIntLE=function(T,R,q){T>>>=0,R>>>=0,q||gt(T,R,this.length);for(var ee=this[T],ce=1,he=0;++he<R&&(ce*=256);)ee+=this[T+he]*ce;return ee},ne.prototype.readUintBE=ne.prototype.readUIntBE=function(T,R,q){T>>>=0,R>>>=0,q||gt(T,R,this.length);for(var ee=this[T+--R],ce=1;R>0&&(ce*=256);)ee+=this[T+--R]*ce;return ee},ne.prototype.readUint8=ne.prototype.readUInt8=function(T,R){return T>>>=0,R||gt(T,1,this.length),this[T]},ne.prototype.readUint16LE=ne.prototype.readUInt16LE=function(T,R){return T>>>=0,R||gt(T,2,this.length),this[T]|this[T+1]<<8},ne.prototype.readUint16BE=ne.prototype.readUInt16BE=function(T,R){return T>>>=0,R||gt(T,2,this.length),this[T]<<8|this[T+1]},ne.prototype.readUint32LE=ne.prototype.readUInt32LE=function(T,R){return T>>>=0,R||gt(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},ne.prototype.readUint32BE=ne.prototype.readUInt32BE=function(T,R){return T>>>=0,R||gt(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},ne.prototype.readIntLE=function(T,R,q){T>>>=0,R>>>=0,q||gt(T,R,this.length);for(var ee=this[T],ce=1,he=0;++he<R&&(ce*=256);)ee+=this[T+he]*ce;return ee>=(ce*=128)&&(ee-=Math.pow(2,8*R)),ee},ne.prototype.readIntBE=function(T,R,q){T>>>=0,R>>>=0,q||gt(T,R,this.length);for(var ee=R,ce=1,he=this[T+--ee];ee>0&&(ce*=256);)he+=this[T+--ee]*ce;return he>=(ce*=128)&&(he-=Math.pow(2,8*R)),he},ne.prototype.readInt8=function(T,R){return T>>>=0,R||gt(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},ne.prototype.readInt16LE=function(T,R){T>>>=0,R||gt(T,2,this.length);var q=this[T]|this[T+1]<<8;return 32768&q?4294901760|q:q},ne.prototype.readInt16BE=function(T,R){T>>>=0,R||gt(T,2,this.length);var q=this[T+1]|this[T]<<8;return 32768&q?4294901760|q:q},ne.prototype.readInt32LE=function(T,R){return T>>>=0,R||gt(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},ne.prototype.readInt32BE=function(T,R){return T>>>=0,R||gt(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},ne.prototype.readFloatLE=function(T,R){return T>>>=0,R||gt(T,4,this.length),jt.read(this,T,!0,23,4)},ne.prototype.readFloatBE=function(T,R){return T>>>=0,R||gt(T,4,this.length),jt.read(this,T,!1,23,4)},ne.prototype.readDoubleLE=function(T,R){return T>>>=0,R||gt(T,8,this.length),jt.read(this,T,!0,52,8)},ne.prototype.readDoubleBE=function(T,R){return T>>>=0,R||gt(T,8,this.length),jt.read(this,T,!1,52,8)},ne.prototype.writeUintLE=ne.prototype.writeUIntLE=function(T,R,q,ee){T=+T,R>>>=0,q>>>=0,ee||mn(this,T,R,q,Math.pow(2,8*q)-1,0);var he=1,Ze=0;for(this[R]=255&T;++Ze<q&&(he*=256);)this[R+Ze]=T/he&255;return R+q},ne.prototype.writeUintBE=ne.prototype.writeUIntBE=function(T,R,q,ee){T=+T,R>>>=0,q>>>=0,ee||mn(this,T,R,q,Math.pow(2,8*q)-1,0);var he=q-1,Ze=1;for(this[R+he]=255&T;--he>=0&&(Ze*=256);)this[R+he]=T/Ze&255;return R+q},ne.prototype.writeUint8=ne.prototype.writeUInt8=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,1,255,0),this[R]=255&T,R+1},ne.prototype.writeUint16LE=ne.prototype.writeUInt16LE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,2,65535,0),this[R]=255&T,this[R+1]=T>>>8,R+2},ne.prototype.writeUint16BE=ne.prototype.writeUInt16BE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,2,65535,0),this[R]=T>>>8,this[R+1]=255&T,R+2},ne.prototype.writeUint32LE=ne.prototype.writeUInt32LE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,4,4294967295,0),this[R+3]=T>>>24,this[R+2]=T>>>16,this[R+1]=T>>>8,this[R]=255&T,R+4},ne.prototype.writeUint32BE=ne.prototype.writeUInt32BE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,4,4294967295,0),this[R]=T>>>24,this[R+1]=T>>>16,this[R+2]=T>>>8,this[R+3]=255&T,R+4},ne.prototype.writeIntLE=function(T,R,q,ee){if(T=+T,R>>>=0,!ee){var ce=Math.pow(2,8*q-1);mn(this,T,R,q,ce-1,-ce)}var he=0,Ze=1,ht=0;for(this[R]=255&T;++he<q&&(Ze*=256);)T<0&&0===ht&&0!==this[R+he-1]&&(ht=1),this[R+he]=(T/Ze>>0)-ht&255;return R+q},ne.prototype.writeIntBE=function(T,R,q,ee){if(T=+T,R>>>=0,!ee){var ce=Math.pow(2,8*q-1);mn(this,T,R,q,ce-1,-ce)}var he=q-1,Ze=1,ht=0;for(this[R+he]=255&T;--he>=0&&(Ze*=256);)T<0&&0===ht&&0!==this[R+he+1]&&(ht=1),this[R+he]=(T/Ze>>0)-ht&255;return R+q},ne.prototype.writeInt8=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,1,127,-128),T<0&&(T=255+T+1),this[R]=255&T,R+1},ne.prototype.writeInt16LE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,2,32767,-32768),this[R]=255&T,this[R+1]=T>>>8,R+2},ne.prototype.writeInt16BE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,2,32767,-32768),this[R]=T>>>8,this[R+1]=255&T,R+2},ne.prototype.writeInt32LE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,4,2147483647,-2147483648),this[R]=255&T,this[R+1]=T>>>8,this[R+2]=T>>>16,this[R+3]=T>>>24,R+4},ne.prototype.writeInt32BE=function(T,R,q){return T=+T,R>>>=0,q||mn(this,T,R,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[R]=T>>>24,this[R+1]=T>>>16,this[R+2]=T>>>8,this[R+3]=255&T,R+4},ne.prototype.writeFloatLE=function(T,R,q){return zt(this,T,R,!0,q)},ne.prototype.writeFloatBE=function(T,R,q){return zt(this,T,R,!1,q)},ne.prototype.writeDoubleLE=function(T,R,q){return Kt(this,T,R,!0,q)},ne.prototype.writeDoubleBE=function(T,R,q){return Kt(this,T,R,!1,q)},ne.prototype.copy=function(T,R,q,ee){if(!ne.isBuffer(T))throw new TypeError("argument should be a Buffer");if(q||(q=0),!ee&&0!==ee&&(ee=this.length),R>=T.length&&(R=T.length),R||(R=0),ee>0&&ee<q&&(ee=q),ee===q||0===T.length||0===this.length)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),T.length-R<ee-q&&(ee=T.length-R+q);var ce=ee-q;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(R,q,ee):Uint8Array.prototype.set.call(T,this.subarray(q,ee),R),ce},ne.prototype.fill=function(T,R,q,ee){if("string"==typeof T){if("string"==typeof R?(ee=R,R=0,q=this.length):"string"==typeof q&&(ee=q,q=this.length),void 0!==ee&&"string"!=typeof ee)throw new TypeError("encoding must be a string");if("string"==typeof ee&&!ne.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(1===T.length){var ce=T.charCodeAt(0);("utf8"===ee&&ce<128||"latin1"===ee)&&(T=ce)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(R<0||this.length<R||this.length<q)throw new RangeError("Out of range index");if(q<=R)return this;var he;if(R>>>=0,q=void 0===q?this.length:q>>>0,T||(T=0),"number"==typeof T)for(he=R;he<q;++he)this[he]=T;else{var Ze=ne.isBuffer(T)?T:ne.from(T,ee),ht=Ze.length;if(0===ht)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(he=0;he<q-R;++he)this[he+R]=Ze[he%ht]}return this};var Po=/[^+/0-9A-Za-z-_]/g;function si(j,T){T=T||1/0;for(var R,q=j.length,ee=null,ce=[],he=0;he<q;++he){if((R=j.charCodeAt(he))>55295&&R<57344){if(!ee){if(R>56319){(T-=3)>-1&&ce.push(239,191,189);continue}if(he+1===q){(T-=3)>-1&&ce.push(239,191,189);continue}ee=R;continue}if(R<56320){(T-=3)>-1&&ce.push(239,191,189),ee=R;continue}R=65536+(ee-55296<<10|R-56320)}else ee&&(T-=3)>-1&&ce.push(239,191,189);if(ee=null,R<128){if((T-=1)<0)break;ce.push(R)}else if(R<2048){if((T-=2)<0)break;ce.push(R>>6|192,63&R|128)}else if(R<65536){if((T-=3)<0)break;ce.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ce.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return ce}function No(j){return $t.toByteArray(function Ye(j){if((j=(j=j.split("=")[0]).trim().replace(Po,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(j))}function Qi(j,T,R,q){for(var ee=0;ee<q&&!(ee+R>=T.length||ee>=j.length);++ee)T[ee+R]=j[ee];return ee}function lr(j,T){return j instanceof T||null!=j&&null!=j.constructor&&null!=j.constructor.name&&j.constructor.name===T.name}function _s(j){return j!=j}var Za=function(){for(var j="0123456789abcdef",T=new Array(256),R=0;R<16;++R)for(var q=16*R,ee=0;ee<16;++ee)T[q+ee]=j[R]+j[ee];return T}()},461:(Wi,qn)=>{qn.read=function(ue,ye,$t,jt,bt){var le,We,vt=8*bt-jt-1,ne=(1<<vt)-1,It=ne>>1,St=-7,yt=$t?bt-1:0,_n=$t?-1:1,Me=ue[ye+yt];for(yt+=_n,le=Me&(1<<-St)-1,Me>>=-St,St+=vt;St>0;le=256*le+ue[ye+yt],yt+=_n,St-=8);for(We=le&(1<<-St)-1,le>>=-St,St+=jt;St>0;We=256*We+ue[ye+yt],yt+=_n,St-=8);if(0===le)le=1-It;else{if(le===ne)return We?NaN:1/0*(Me?-1:1);We+=Math.pow(2,jt),le-=It}return(Me?-1:1)*We*Math.pow(2,le-jt)},qn.write=function(ue,ye,$t,jt,bt,le){var We,vt,ne,It=8*le-bt-1,St=(1<<It)-1,yt=St>>1,_n=23===bt?Math.pow(2,-24)-Math.pow(2,-77):0,Me=jt?0:le-1,z=jt?1:-1,Ee=ye<0||0===ye&&1/ye<0?1:0;for(ye=Math.abs(ye),isNaN(ye)||ye===1/0?(vt=isNaN(ye)?1:0,We=St):(We=Math.floor(Math.log(ye)/Math.LN2),ye*(ne=Math.pow(2,-We))<1&&(We--,ne*=2),(ye+=We+yt>=1?_n/ne:_n*Math.pow(2,1-yt))*ne>=2&&(We++,ne/=2),We+yt>=St?(vt=0,We=St):We+yt>=1?(vt=(ye*ne-1)*Math.pow(2,bt),We+=yt):(vt=ye*Math.pow(2,yt-1)*Math.pow(2,bt),We=0));bt>=8;ue[$t+Me]=255&vt,Me+=z,vt/=256,bt-=8);for(We=We<<bt|vt,It+=bt;It>0;ue[$t+Me]=255&We,Me+=z,We/=256,It-=8);ue[$t+Me-z]|=128*Ee}},573:(Wi,qn)=>{var s,u,c,h,p,g,v,E,x,F,w,a,ye={userAgent:!1},$t={},le=le||(s=Math,c=(u={}).lib={},h=c.Base=function(){function y(){}return{extend:function(b){y.prototype=this;var D=new y;return b&&D.mixIn(b),D.hasOwnProperty("init")||(D.init=function(){D.$super.init.apply(this,arguments)}),D.init.prototype=D,D.$super=this,D},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var D in b)b.hasOwnProperty(D)&&(this[D]=b[D]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=c.WordArray=h.extend({init:function(y,b){y=this.words=y||[],this.sigBytes=null!=b?b:4*y.length},toString:function(y){return(y||v).stringify(this)},concat:function(y){var b=this.words,D=y.words,_=this.sigBytes,C=y.sigBytes;if(this.clamp(),_%4)for(var N=0;N<C;N++)b[_+N>>>2]|=(D[N>>>2]>>>24-N%4*8&255)<<24-(_+N)%4*8;else for(N=0;N<C;N+=4)b[_+N>>>2]=D[N>>>2];return this.sigBytes+=C,this},clamp:function(){var y=this.words,b=this.sigBytes;y[b>>>2]&=4294967295<<32-b%4*8,y.length=s.ceil(b/4)},clone:function(){var y=h.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var b=[],D=0;D<y;D+=4)b.push(4294967296*s.random()|0);return new p.init(b,y)}}),g=u.enc={},v=g.Hex={stringify:function(y){for(var b=y.words,D=y.sigBytes,_=[],C=0;C<D;C++){var N=b[C>>>2]>>>24-C%4*8&255;_.push((N>>>4).toString(16)),_.push((15&N).toString(16))}return _.join("")},parse:function(y){for(var b=y.length,D=[],_=0;_<b;_+=2)D[_>>>3]|=parseInt(y.substr(_,2),16)<<24-_%8*4;return new p.init(D,b/2)}},E=g.Latin1={stringify:function(y){for(var b=y.words,D=y.sigBytes,_=[],C=0;C<D;C++)_.push(String.fromCharCode(b[C>>>2]>>>24-C%4*8&255));return _.join("")},parse:function(y){for(var b=y.length,D=[],_=0;_<b;_++)D[_>>>2]|=(255&y.charCodeAt(_))<<24-_%4*8;return new p.init(D,b)}},x=g.Utf8={stringify:function(y){try{return decodeURIComponent(escape(E.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return E.parse(unescape(encodeURIComponent(y)))}},F=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(y){"string"==typeof y&&(y=x.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var b=this._data,D=b.words,_=b.sigBytes,C=this.blockSize,k=_/(4*C),B=(k=y?s.ceil(k):s.max((0|k)-this._minBufferSize,0))*C,L=s.min(4*B,_);if(B){for(var X=0;X<B;X+=C)this._doProcessBlock(D,X);var te=D.splice(0,B);b.sigBytes-=L}return new p.init(te,L)},clone:function(){var y=h.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),c.Hasher=F.extend({cfg:h.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){F.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){return y&&this._append(y),this._doFinalize()},blockSize:16,_createHelper:function(y){return function(b,D){return new y.init(D).finalize(b)}},_createHmacHelper:function(y){return function(b,D){return new w.HMAC.init(y,D).finalize(b)}}}),w=u.algo={},u);(function(s){var h,a=(h=le).lib,u=a.Base,c=a.WordArray;(h=h.x64={}).Word=u.extend({init:function(p,g){this.high=p,this.low=g}}),h.WordArray=u.extend({init:function(p,g){p=this.words=p||[],this.sigBytes=null!=g?g:8*p.length},toX32:function(){for(var p=this.words,g=p.length,v=[],E=0;E<g;E++){var x=p[E];v.push(x.high),v.push(x.low)}return c.create(v,this.sigBytes)},clone:function(){for(var p=u.clone.call(this),g=p.words=this.words.slice(0),v=g.length,E=0;E<v;E++)g[E]=g[E].clone();return p}})})(),le.lib.Cipher||function(s){var a=(y=le).lib,u=a.Base,c=a.WordArray,h=a.BufferedBlockAlgorithm,p=y.enc.Base64,g=y.algo.EvpKDF,v=a.Cipher=h.extend({cfg:u.extend(),createEncryptor:function(D,_){return this.create(this._ENC_XFORM_MODE,D,_)},createDecryptor:function(D,_){return this.create(this._DEC_XFORM_MODE,D,_)},init:function(D,_,C){this.cfg=this.cfg.extend(C),this._xformMode=D,this._key=_,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){return D&&this._append(D),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(D){return{encrypt:function(_,C,N){return("string"==typeof C?b:w).encrypt(D,_,C,N)},decrypt:function(_,C,N){return("string"==typeof C?b:w).decrypt(D,_,C,N)}}}});a.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var A=y.mode={},E=function(D,_,C){var N=this._iv;N?this._iv=void 0:N=this._prevBlock;for(var k=0;k<C;k++)D[_+k]^=N[k]},x=(a.BlockCipherMode=u.extend({createEncryptor:function(D,_){return this.Encryptor.create(D,_)},createDecryptor:function(D,_){return this.Decryptor.create(D,_)},init:function(D,_){this._cipher=D,this._iv=_}})).extend();x.Encryptor=x.extend({processBlock:function(D,_){var C=this._cipher,N=C.blockSize;E.call(this,D,_,N),C.encryptBlock(D,_),this._prevBlock=D.slice(_,_+N)}}),x.Decryptor=x.extend({processBlock:function(D,_){var C=this._cipher,N=C.blockSize,k=D.slice(_,_+N);C.decryptBlock(D,_),E.call(this,D,_,N),this._prevBlock=k}}),A=A.CBC=x,x=(y.pad={}).Pkcs7={pad:function(D,_){for(var C,N=(C=(C=4*_)-D.sigBytes%C)<<24|C<<16|C<<8|C,k=[],B=0;B<C;B+=4)k.push(N);C=c.create(k,C),D.concat(C)},unpad:function(D){D.sigBytes-=255&D.words[D.sigBytes-1>>>2]}},a.BlockCipher=v.extend({cfg:v.cfg.extend({mode:A,padding:x}),reset:function(){v.reset.call(this);var D=(_=this.cfg).iv,_=_.mode;if(this._xformMode==this._ENC_XFORM_MODE)var C=_.createEncryptor;else C=_.createDecryptor,this._minBufferSize=1;this._mode=C.call(_,this,D&&D.words)},_doProcessBlock:function(D,_){this._mode.processBlock(D,_)},_doFinalize:function(){var D=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){D.pad(this._data,this.blockSize);var _=this._process(!0)}else _=this._process(!0),D.unpad(_);return _},blockSize:4});var F=a.CipherParams=u.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),w=(A=(y.format={}).OpenSSL={stringify:function(D){var _=D.ciphertext;return((D=D.salt)?c.create([1398893684,1701076831]).concat(D).concat(_):_).toString(p)},parse:function(D){var _=(D=p.parse(D)).words;if(1398893684==_[0]&&1701076831==_[1]){var C=c.create(_.slice(2,4));_.splice(0,4),D.sigBytes-=16}return F.create({ciphertext:D,salt:C})}},a.SerializableCipher=u.extend({cfg:u.extend({format:A}),encrypt:function(D,_,C,N){N=this.cfg.extend(N);var k=D.createEncryptor(C,N);return _=k.finalize(_),F.create({ciphertext:_,key:C,iv:(k=k.cfg).iv,algorithm:D,mode:k.mode,padding:k.padding,blockSize:D.blockSize,formatter:N.format})},decrypt:function(D,_,C,N){return N=this.cfg.extend(N),_=this._parse(_,N.format),D.createDecryptor(C,N).finalize(_.ciphertext)},_parse:function(D,_){return"string"==typeof D?_.parse(D,this):D}})),y=(y.kdf={}).OpenSSL={execute:function(D,_,C,N){return N||(N=c.random(8)),D=g.create({keySize:_+C}).compute(D,N),C=c.create(D.words.slice(_),4*C),D.sigBytes=4*_,F.create({key:D,iv:C,salt:N})}},b=a.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:y}),encrypt:function(D,_,C,N){return C=(N=this.cfg.extend(N)).kdf.execute(C,D.keySize,D.ivSize),N.iv=C.iv,(D=w.encrypt.call(this,D,_,C.key,N)).mixIn(C),D},decrypt:function(D,_,C,N){return N=this.cfg.extend(N),_=this._parse(_,N.format),C=N.kdf.execute(C,D.keySize,D.ivSize,_.salt),N.iv=C.iv,w.decrypt.call(this,D,_,C.key,N)}})}(),function(){for(var s=le,a=s.lib.BlockCipher,X=s.algo,u=[],c=[],h=[],p=[],g=[],v=[],E=[],x=[],F=[],A=[],w=[],y=0;256>y;y++)w[y]=128>y?y<<1:y<<1^283;var b=0,D=0;for(y=0;256>y;y++){var _;u[b]=_=(_=D^D<<1^D<<2^D<<3^D<<4)>>>8^255&_^99,c[_]=b;var C=w[b],N=w[C],k=w[N],B=257*w[_]^16843008*_;h[b]=B<<24|B>>>8,p[b]=B<<16|B>>>16,g[b]=B<<8|B>>>24,v[b]=B,E[_]=(B=16843009*k^65537*N^257*C^16843008*b)<<24|B>>>8,x[_]=B<<16|B>>>16,F[_]=B<<8|B>>>24,A[_]=B,b?(b=C^w[w[w[k^C]]],D^=w[w[D]]):b=D=1}var L=[0,1,2,4,8,16,32,64,128,27,54];X=X.AES=a.extend({_doReset:function(){for(var te=(M=this._key).words,P=M.sigBytes/4,M=4*((this._nRounds=P+6)+1),H=this._keySchedule=[],V=0;V<M;V++)if(V<P)H[V]=te[V];else{var K=H[V-1];V%P?6<P&&V%P==4&&(K=u[K>>>24]<<24|u[K>>>16&255]<<16|u[K>>>8&255]<<8|u[255&K]):(K=u[(K=K<<8|K>>>24)>>>24]<<24|u[K>>>16&255]<<16|u[K>>>8&255]<<8|u[255&K],K^=L[V/P|0]<<24),H[V]=H[V-P]^K}for(te=this._invKeySchedule=[],P=0;P<M;P++)V=M-P,K=P%4?H[V]:H[V-4],te[P]=4>P||4>=V?K:E[u[K>>>24]]^x[u[K>>>16&255]]^F[u[K>>>8&255]]^A[u[255&K]]},encryptBlock:function(te,P){this._doCryptBlock(te,P,this._keySchedule,h,p,g,v,u)},decryptBlock:function(te,P){var M=te[P+1];te[P+1]=te[P+3],te[P+3]=M,this._doCryptBlock(te,P,this._invKeySchedule,E,x,F,A,c),M=te[P+1],te[P+1]=te[P+3],te[P+3]=M},_doCryptBlock:function(te,P,M,H,V,K,Z,$){for(var W=this._nRounds,Ke=te[P]^M[0],ot=te[P+1]^M[1],dt=te[P+2]^M[2],_e=te[P+3]^M[3],Y=4,Q=1;Q<W;Q++){var Se=H[Ke>>>24]^V[ot>>>16&255]^K[dt>>>8&255]^Z[255&_e]^M[Y++],De=H[ot>>>24]^V[dt>>>16&255]^K[_e>>>8&255]^Z[255&Ke]^M[Y++],we=H[dt>>>24]^V[_e>>>16&255]^K[Ke>>>8&255]^Z[255&ot]^M[Y++];_e=H[_e>>>24]^V[Ke>>>16&255]^K[ot>>>8&255]^Z[255&dt]^M[Y++],Ke=Se,ot=De,dt=we}Se=($[Ke>>>24]<<24|$[ot>>>16&255]<<16|$[dt>>>8&255]<<8|$[255&_e])^M[Y++],De=($[ot>>>24]<<24|$[dt>>>16&255]<<16|$[_e>>>8&255]<<8|$[255&Ke])^M[Y++],we=($[dt>>>24]<<24|$[_e>>>16&255]<<16|$[Ke>>>8&255]<<8|$[255&ot])^M[Y++],_e=($[_e>>>24]<<24|$[Ke>>>16&255]<<16|$[ot>>>8&255]<<8|$[255&dt])^M[Y++],te[P]=Se,te[P+1]=De,te[P+2]=we,te[P+3]=_e},keySize:8}),s.AES=a._createHelper(X)}(),function(){function s(w,y){var b=(this._lBlock>>>w^this._rBlock)&y;this._rBlock^=b,this._lBlock^=b<<w}function a(w,y){var b=(this._rBlock>>>w^this._lBlock)&y;this._lBlock^=b,this._rBlock^=b<<w}var h,u=le,c=(h=u.lib).WordArray,p=u.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],E=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],x=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],F=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],A=p.DES=(h=h.BlockCipher).extend({_doReset:function(){for(var w=this._key.words,y=[],b=0;56>b;b++){var D=g[b]-1;y[b]=w[D>>>5]>>>31-D%32&1}for(w=this._subKeys=[],D=0;16>D;D++){var _=w[D]=[],C=E[D];for(b=0;24>b;b++)_[b/6|0]|=y[(v[b]-1+C)%28]<<31-b%6,_[4+(b/6|0)]|=y[28+(v[b+24]-1+C)%28]<<31-b%6;for(_[0]=_[0]<<1|_[0]>>>31,b=1;7>b;b++)_[b]>>>=4*(b-1)+3;_[7]=_[7]<<5|_[7]>>>27}for(y=this._invSubKeys=[],b=0;16>b;b++)y[b]=w[15-b]},encryptBlock:function(w,y){this._doCryptBlock(w,y,this._subKeys)},decryptBlock:function(w,y){this._doCryptBlock(w,y,this._invSubKeys)},_doCryptBlock:function(w,y,b){this._lBlock=w[y],this._rBlock=w[y+1],s.call(this,4,252645135),s.call(this,16,65535),a.call(this,2,858993459),a.call(this,8,16711935),s.call(this,1,1431655765);for(var D=0;16>D;D++){for(var _=b[D],C=this._lBlock,N=this._rBlock,k=0,B=0;8>B;B++)k|=x[B][((N^_[B])&F[B])>>>0];this._lBlock=N,this._rBlock=C^k}b=this._lBlock,this._lBlock=this._rBlock,this._rBlock=b,s.call(this,1,1431655765),a.call(this,8,16711935),a.call(this,2,858993459),s.call(this,16,65535),s.call(this,4,252645135),w[y]=this._lBlock,w[y+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});u.DES=h._createHelper(A),p=p.TripleDES=h.extend({_doReset:function(){var w=this._key.words;this._des1=A.createEncryptor(c.create(w.slice(0,2))),this._des2=A.createEncryptor(c.create(w.slice(2,4))),this._des3=A.createEncryptor(c.create(w.slice(4,6)))},encryptBlock:function(w,y){this._des1.encryptBlock(w,y),this._des2.decryptBlock(w,y),this._des3.encryptBlock(w,y)},decryptBlock:function(w,y){this._des3.decryptBlock(w,y),this._des2.encryptBlock(w,y),this._des1.decryptBlock(w,y)},keySize:6,ivSize:2,blockSize:2}),u.TripleDES=h._createHelper(p)}(),a=le.lib.WordArray,le.enc.Base64={stringify:function(u){var c=u.words,h=u.sigBytes,p=this._map;u.clamp(),u=[];for(var g=0;g<h;g+=3)for(var v=(c[g>>>2]>>>24-g%4*8&255)<<16|(c[g+1>>>2]>>>24-(g+1)%4*8&255)<<8|c[g+2>>>2]>>>24-(g+2)%4*8&255,E=0;4>E&&g+.75*E<h;E++)u.push(p.charAt(v>>>6*(3-E)&63));if(c=p.charAt(64))for(;u.length%4;)u.push(c);return u.join("")},parse:function(u){var c=u.length,h=this._map;(p=h.charAt(64))&&-1!=(p=u.indexOf(p))&&(c=p);for(var p=[],g=0,v=0;v<c;v++)if(v%4){var E=h.indexOf(u.charAt(v-1))<<v%4*2,x=h.indexOf(u.charAt(v))>>>6-v%4*2;p[g>>>2]|=(E|x)<<24-g%4*8,g++}return a.create(p,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(s){function a(A,w,y,b,D,_,C){return((A=A+(w&y|~w&b)+D+C)<<_|A>>>32-_)+w}function u(A,w,y,b,D,_,C){return((A=A+(w&b|y&~b)+D+C)<<_|A>>>32-_)+w}function c(A,w,y,b,D,_,C){return((A=A+(w^y^b)+D+C)<<_|A>>>32-_)+w}function h(A,w,y,b,D,_,C){return((A=A+(y^(w|~b))+D+C)<<_|A>>>32-_)+w}for(var p=le,g=(E=p.lib).WordArray,v=E.Hasher,E=p.algo,x=[],F=0;64>F;F++)x[F]=4294967296*s.abs(s.sin(F+1))|0;E=E.MD5=v.extend({_doReset:function(){this._hash=new g.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,w){for(var y=0;16>y;y++)A[b=w+y]=16711935&((D=A[b])<<8|D>>>24)|4278255360&(D<<24|D>>>8);var b,D=A[w+1],_=A[w+2],C=A[w+3],N=A[w+4],k=A[w+5],B=A[w+6],L=A[w+7],X=A[w+8],te=A[w+9],P=A[w+10],M=A[w+11],H=A[w+12],V=A[w+13],K=A[w+14],Z=A[w+15],$=a($=(y=this._hash.words)[0],Q=y[1],Y=y[2],W=y[3],b=A[w+0],7,x[0]),W=a(W,$,Q,Y,D,12,x[1]),Y=a(Y,W,$,Q,_,17,x[2]),Q=a(Q,Y,W,$,C,22,x[3]);$=a($,Q,Y,W,N,7,x[4]),W=a(W,$,Q,Y,k,12,x[5]),Y=a(Y,W,$,Q,B,17,x[6]),Q=a(Q,Y,W,$,L,22,x[7]),$=a($,Q,Y,W,X,7,x[8]),W=a(W,$,Q,Y,te,12,x[9]),Y=a(Y,W,$,Q,P,17,x[10]),Q=a(Q,Y,W,$,M,22,x[11]),$=a($,Q,Y,W,H,7,x[12]),W=a(W,$,Q,Y,V,12,x[13]),Y=a(Y,W,$,Q,K,17,x[14]),$=u($,Q=a(Q,Y,W,$,Z,22,x[15]),Y,W,D,5,x[16]),W=u(W,$,Q,Y,B,9,x[17]),Y=u(Y,W,$,Q,M,14,x[18]),Q=u(Q,Y,W,$,b,20,x[19]),$=u($,Q,Y,W,k,5,x[20]),W=u(W,$,Q,Y,P,9,x[21]),Y=u(Y,W,$,Q,Z,14,x[22]),Q=u(Q,Y,W,$,N,20,x[23]),$=u($,Q,Y,W,te,5,x[24]),W=u(W,$,Q,Y,K,9,x[25]),Y=u(Y,W,$,Q,C,14,x[26]),Q=u(Q,Y,W,$,X,20,x[27]),$=u($,Q,Y,W,V,5,x[28]),W=u(W,$,Q,Y,_,9,x[29]),Y=u(Y,W,$,Q,L,14,x[30]),$=c($,Q=u(Q,Y,W,$,H,20,x[31]),Y,W,k,4,x[32]),W=c(W,$,Q,Y,X,11,x[33]),Y=c(Y,W,$,Q,M,16,x[34]),Q=c(Q,Y,W,$,K,23,x[35]),$=c($,Q,Y,W,D,4,x[36]),W=c(W,$,Q,Y,N,11,x[37]),Y=c(Y,W,$,Q,L,16,x[38]),Q=c(Q,Y,W,$,P,23,x[39]),$=c($,Q,Y,W,V,4,x[40]),W=c(W,$,Q,Y,b,11,x[41]),Y=c(Y,W,$,Q,C,16,x[42]),Q=c(Q,Y,W,$,B,23,x[43]),$=c($,Q,Y,W,te,4,x[44]),W=c(W,$,Q,Y,H,11,x[45]),Y=c(Y,W,$,Q,Z,16,x[46]),$=h($,Q=c(Q,Y,W,$,_,23,x[47]),Y,W,b,6,x[48]),W=h(W,$,Q,Y,L,10,x[49]),Y=h(Y,W,$,Q,K,15,x[50]),Q=h(Q,Y,W,$,k,21,x[51]),$=h($,Q,Y,W,H,6,x[52]),W=h(W,$,Q,Y,C,10,x[53]),Y=h(Y,W,$,Q,P,15,x[54]),Q=h(Q,Y,W,$,D,21,x[55]),$=h($,Q,Y,W,X,6,x[56]),W=h(W,$,Q,Y,Z,10,x[57]),Y=h(Y,W,$,Q,B,15,x[58]),Q=h(Q,Y,W,$,V,21,x[59]),$=h($,Q,Y,W,N,6,x[60]),W=h(W,$,Q,Y,M,10,x[61]),Y=h(Y,W,$,Q,_,15,x[62]),Q=h(Q,Y,W,$,te,21,x[63]),y[0]=y[0]+$|0,y[1]=y[1]+Q|0,y[2]=y[2]+Y|0,y[3]=y[3]+W|0},_doFinalize:function(){var A=this._data,w=A.words,y=8*this._nDataBytes,b=8*A.sigBytes;w[b>>>5]|=128<<24-b%32;var D=s.floor(y/4294967296);for(w[15+(b+64>>>9<<4)]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),w[14+(b+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),A.sigBytes=4*(w.length+1),this._process(),w=(A=this._hash).words,y=0;4>y;y++)w[y]=16711935&((b=w[y])<<8|b>>>24)|4278255360&(b<<24|b>>>8);return A},clone:function(){var A=v.clone.call(this);return A._hash=this._hash.clone(),A}}),p.MD5=v._createHelper(E),p.HmacMD5=v._createHmacHelper(E)}(Math),function(){var s=le,a=(h=s.lib).WordArray,u=h.Hasher,c=[],h=s.algo.SHA1=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,g){for(var v=this._hash.words,E=v[0],x=v[1],F=v[2],A=v[3],w=v[4],y=0;80>y;y++){if(16>y)c[y]=0|p[g+y];else{var b=c[y-3]^c[y-8]^c[y-14]^c[y-16];c[y]=b<<1|b>>>31}b=(E<<5|E>>>27)+w+c[y],b=20>y?b+(1518500249+(x&F|~x&A)):40>y?b+(1859775393+(x^F^A)):60>y?b+((x&F|x&A|F&A)-1894007588):b+((x^F^A)-899497514),w=A,A=F,F=x<<30|x>>>2,x=E,E=b}v[0]=v[0]+E|0,v[1]=v[1]+x|0,v[2]=v[2]+F|0,v[3]=v[3]+A|0,v[4]=v[4]+w|0},_doFinalize:function(){var p=this._data,g=p.words,v=8*this._nDataBytes,E=8*p.sigBytes;return g[E>>>5]|=128<<24-E%32,g[14+(E+64>>>9<<4)]=Math.floor(v/4294967296),g[15+(E+64>>>9<<4)]=v,p.sigBytes=4*g.length,this._process(),this._hash},clone:function(){var p=u.clone.call(this);return p._hash=this._hash.clone(),p}});s.SHA1=u._createHelper(h),s.HmacSHA1=u._createHmacHelper(h)}(),function(s){for(var a=le,u=(y=a.lib).WordArray,c=y.Hasher,y=a.algo,h=[],p=[],g=function(D){return 4294967296*(D-(0|D))|0},v=2,E=0;64>E;){var x;e:{for(var F=s.sqrt(x=v),A=2;A<=F;A++)if(!(x%A)){x=!1;break e}x=!0}x&&(8>E&&(h[E]=g(s.pow(v,.5))),p[E]=g(s.pow(v,1/3)),E++),v++}var w=[];y=y.SHA256=c.extend({_doReset:function(){this._hash=new u.init(h.slice(0))},_doProcessBlock:function(b,D){for(var _=this._hash.words,C=_[0],N=_[1],k=_[2],B=_[3],L=_[4],X=_[5],te=_[6],P=_[7],M=0;64>M;M++){if(16>M)w[M]=0|b[D+M];else{var H=w[M-15],V=w[M-2];w[M]=((H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3)+w[M-7]+((V<<15|V>>>17)^(V<<13|V>>>19)^V>>>10)+w[M-16]}H=P+((L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25))+(L&X^~L&te)+p[M]+w[M],V=((C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22))+(C&N^C&k^N&k),P=te,te=X,X=L,L=B+H|0,B=k,k=N,N=C,C=H+V|0}_[0]=_[0]+C|0,_[1]=_[1]+N|0,_[2]=_[2]+k|0,_[3]=_[3]+B|0,_[4]=_[4]+L|0,_[5]=_[5]+X|0,_[6]=_[6]+te|0,_[7]=_[7]+P|0},_doFinalize:function(){var b=this._data,D=b.words,_=8*this._nDataBytes,C=8*b.sigBytes;return D[C>>>5]|=128<<24-C%32,D[14+(C+64>>>9<<4)]=s.floor(_/4294967296),D[15+(C+64>>>9<<4)]=_,b.sigBytes=4*D.length,this._process(),this._hash},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}}),a.SHA256=c._createHelper(y),a.HmacSHA256=c._createHmacHelper(y)}(Math),function(){var s=le,a=s.lib.WordArray,u=(c=s.algo).SHA256,c=c.SHA224=u.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=u._doFinalize.call(this);return h.sigBytes-=4,h}});s.SHA224=u._createHelper(c),s.HmacSHA224=u._createHmacHelper(c)}(),function(){function s(){return c.create.apply(c,arguments)}for(var a=le,u=a.lib.Hasher,c=(p=a.x64).Word,h=p.WordArray,p=a.algo,g=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],v=[],E=0;80>E;E++)v[E]=s();p=p.SHA512=u.extend({_doReset:function(){this._hash=new h.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(x,F){for(var N,A=(N=this._hash.words)[0],w=N[1],y=N[2],b=N[3],D=N[4],_=N[5],C=N[6],k=A.high,B=A.low,L=w.high,X=w.low,te=y.high,P=y.low,M=b.high,H=b.low,V=D.high,K=D.low,Z=_.high,$=_.low,W=C.high,Y=C.low,Q=(N=N[7]).high,Se=N.low,De=k,we=B,_e=L,Ke=X,ot=te,dt=P,Lt=M,jn=H,dn=V,xe=K,On=Z,pt=$,Jt=W,Rt=Y,Wt=Q,Fn=Se,mt=0;80>mt;mt++){var Gr=v[mt];if(16>mt)var Hn=Gr.high=0|x[F+2*mt],rt=Gr.low=0|x[F+2*mt+1];else{Hn=((rt=(Hn=v[mt-15]).high)>>>1|(dr=Hn.low)<<31)^(rt>>>8|dr<<24)^rt>>>7;var dr=(dr>>>1|rt<<31)^(dr>>>8|rt<<24)^(dr>>>7|rt<<25),Bt=((rt=(Bt=v[mt-2]).high)>>>19|(tt=Bt.low)<<13)^(rt<<3|tt>>>29)^rt>>>6,tt=(tt>>>19|rt<<13)^(tt<<3|rt>>>29)^(tt>>>6|rt<<26);Gr.high=Hn=(Hn=(Hn=Hn+(oe=(rt=v[mt-7]).high)+((rt=dr+rt.low)>>>0<dr>>>0?1:0))+Bt+((rt+=tt)>>>0<tt>>>0?1:0))+(nr=(qe=v[mt-16]).high)+((rt+=qe=qe.low)>>>0<qe>>>0?1:0),Gr.low=rt}var oe=dn&On^~dn&Jt,qe=xe&pt^~xe&Rt,vu=(Gr=De&_e^De&ot^_e&ot,we&Ke^we&dt^Ke&dt),yu=(tt=g[mt]).high,ki=tt.low,nr=Wt+((dn>>>14|xe<<18)^(dn>>>18|xe<<14)^(dn<<23|xe>>>9))+((tt=Fn+((xe>>>14|dn<<18)^(xe>>>18|dn<<14)^(xe<<23|dn>>>9)))>>>0<Fn>>>0?1:0);Wt=Jt,Fn=Rt,Jt=On,Rt=pt,On=dn,pt=xe,dn=Lt+(nr=(nr=(nr=nr+oe+((tt+=qe)>>>0<qe>>>0?1:0))+yu+((tt+=ki)>>>0<ki>>>0?1:0))+Hn+((tt+=rt)>>>0<rt>>>0?1:0))+((xe=jn+tt|0)>>>0<jn>>>0?1:0)|0,Lt=ot,jn=dt,ot=_e,dt=Ke,_e=De,Ke=we,De=nr+(Gr=(dr=(De>>>28|we<<4)^(De<<30|we>>>2)^(De<<25|we>>>7))+Gr+((rt=(Bt=(we>>>28|De<<4)^(we<<30|De>>>2)^(we<<25|De>>>7))+vu)>>>0<Bt>>>0?1:0))+((we=tt+rt|0)>>>0<tt>>>0?1:0)|0}B=A.low=B+we,A.high=k+De+(B>>>0<we>>>0?1:0),X=w.low=X+Ke,w.high=L+_e+(X>>>0<Ke>>>0?1:0),P=y.low=P+dt,y.high=te+ot+(P>>>0<dt>>>0?1:0),H=b.low=H+jn,b.high=M+Lt+(H>>>0<jn>>>0?1:0),K=D.low=K+xe,D.high=V+dn+(K>>>0<xe>>>0?1:0),$=_.low=$+pt,_.high=Z+On+($>>>0<pt>>>0?1:0),Y=C.low=Y+Rt,C.high=W+Jt+(Y>>>0<Rt>>>0?1:0),Se=N.low=Se+Fn,N.high=Q+Wt+(Se>>>0<Fn>>>0?1:0)},_doFinalize:function(){var x=this._data,F=x.words,A=8*this._nDataBytes,w=8*x.sigBytes;return F[w>>>5]|=128<<24-w%32,F[30+(w+128>>>10<<5)]=Math.floor(A/4294967296),F[31+(w+128>>>10<<5)]=A,x.sigBytes=4*F.length,this._process(),this._hash.toX32()},clone:function(){var x=u.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32}),a.SHA512=u._createHelper(p),a.HmacSHA512=u._createHmacHelper(p)}(),function(){var s=le,a=(h=s.x64).Word,u=h.WordArray,c=(h=s.algo).SHA512,h=h.SHA384=c.extend({_doReset:function(){this._hash=new u.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var p=c._doFinalize.call(this);return p.sigBytes-=16,p}});s.SHA384=c._createHelper(h),s.HmacSHA384=c._createHmacHelper(h)}(),function(){var s=le,a=(x=s.lib).WordArray,u=x.Hasher,x=s.algo,c=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=a.create([0,1518500249,1859775393,2400959708,2840853838]),E=a.create([1352829926,1548603684,1836072691,2053994217,0]);x=x.RIPEMD160=u.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,A){for(var w=0;16>w;w++)F[y=A+w]=16711935&((b=F[y])<<8|b>>>24)|4278255360&(b<<24|b>>>8);var y,B,L,X,te,P,M,H,V,K,Z,$,b=v.words,D=E.words,_=c.words,C=h.words,N=p.words,k=g.words;for(M=B=(y=this._hash.words)[0],H=L=y[1],V=X=y[2],K=te=y[3],Z=P=y[4],w=0;80>w;w+=1)$=B+F[A+_[w]]|0,$=16>w?$+((L^X^te)+b[0]):32>w?$+((L&X|~L&te)+b[1]):48>w?$+(((L|~X)^te)+b[2]):64>w?$+((L&te|X&~te)+b[3]):$+((L^(X|~te))+b[4]),$=($=($|=0)<<N[w]|$>>>32-N[w])+P|0,B=P,P=te,te=X<<10|X>>>22,X=L,L=$,$=M+F[A+C[w]]|0,$=16>w?$+((H^(V|~K))+D[0]):32>w?$+((H&K|V&~K)+D[1]):48>w?$+(((H|~V)^K)+D[2]):64>w?$+((H&V|~H&K)+D[3]):$+((H^V^K)+D[4]),$=($=($|=0)<<k[w]|$>>>32-k[w])+Z|0,M=Z,Z=K,K=V<<10|V>>>22,V=H,H=$;$=y[1]+X+K|0,y[1]=y[2]+te+Z|0,y[2]=y[3]+P+M|0,y[3]=y[4]+B+H|0,y[4]=y[0]+L+V|0,y[0]=$},_doFinalize:function(){var F=this._data,A=F.words,w=8*this._nDataBytes,y=8*F.sigBytes;for(A[y>>>5]|=128<<24-y%32,A[14+(y+64>>>9<<4)]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8),F.sigBytes=4*(A.length+1),this._process(),A=(F=this._hash).words,w=0;5>w;w++)A[w]=16711935&((y=A[w])<<8|y>>>24)|4278255360&(y<<24|y>>>8);return F},clone:function(){var F=u.clone.call(this);return F._hash=this._hash.clone(),F}}),s.RIPEMD160=u._createHelper(x),s.HmacRIPEMD160=u._createHmacHelper(x)}(Math),function(){var a=le.enc.Utf8;le.algo.HMAC=le.lib.Base.extend({init:function(u,c){u=this._hasher=new u.init,"string"==typeof c&&(c=a.parse(c));var h=u.blockSize,p=4*h;c.sigBytes>p&&(c=u.finalize(c)),c.clamp();for(var g=this._oKey=c.clone(),v=this._iKey=c.clone(),E=g.words,x=v.words,F=0;F<h;F++)E[F]^=1549556828,x[F]^=909522486;g.sigBytes=v.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher;return u=c.finalize(u),c.reset(),c.finalize(this._oKey.clone().concat(u))}})}(),function(){var c,s=le,a=(c=s.lib).Base,u=c.WordArray,h=(c=s.algo).HMAC,p=c.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:c.SHA1,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,v){for(var E=h.create((b=this.cfg).hasher,g),x=u.create(),F=u.create([1]),A=x.words,w=F.words,y=b.keySize,b=b.iterations;A.length<y;){var D=E.update(v).finalize(F);E.reset();for(var _=D.words,C=_.length,N=D,k=1;k<b;k++){N=E.finalize(N),E.reset();for(var B=N.words,L=0;L<C;L++)_[L]^=B[L]}x.concat(D),w[0]++}return x.sigBytes=4*y,x}});s.PBKDF2=function(g,v,E){return p.create(E).compute(g,v)}}();var yt,We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt="=";function ne(s){var a,u,c="";for(a=0;a+3<=s.length;a+=3)u=parseInt(s.substring(a,a+3),16),c+=We.charAt(u>>6)+We.charAt(63&u);if(a+1==s.length?(u=parseInt(s.substring(a,a+1),16),c+=We.charAt(u<<2)):a+2==s.length&&(u=parseInt(s.substring(a,a+2),16),c+=We.charAt(u>>2)+We.charAt((3&u)<<4)),vt)for(;(3&c.length)>0;)c+=vt;return c}function It(s){var u,h,p,a="",c=0;for(u=0;u<s.length&&s.charAt(u)!=vt;++u)!((p=We.indexOf(s.charAt(u)))<0)&&(0==c?(a+=bn(p>>2),h=3&p,c=1):1==c?(a+=bn(h<<2|p>>4),h=15&p,c=2):2==c?(a+=bn(h),a+=bn(p>>2),h=3&p,c=3):(a+=bn(h<<2|p>>4),a+=bn(15&p),c=0));return 1==c&&(a+=bn(h<<2)),a}function z(s,a,u){null!=s&&("number"==typeof s?this.fromNumber(s,a,u):this.fromString(s,null==a&&"string"!=typeof s?256:a))}function Ee(){return new z(null)}"Microsoft Internet Explorer"==ye.appName?(z.prototype.am=function Ht(s,a,u,c,h,p){for(var g=32767&a,v=a>>15;--p>=0;){var E=32767&this[s],x=this[s++]>>15,F=v*E+x*g;h=((E=g*E+((32767&F)<<15)+u[c]+(1073741823&h))>>>30)+(F>>>15)+v*x+(h>>>30),u[c++]=1073741823&E}return h},yt=30):"Netscape"!=ye.appName?(z.prototype.am=function Nt(s,a,u,c,h,p){for(;--p>=0;){var g=a*this[s++]+u[c]+h;h=Math.floor(g/67108864),u[c++]=67108863&g}return h},yt=26):(z.prototype.am=function Dt(s,a,u,c,h,p){for(var g=16383&a,v=a>>14;--p>=0;){var E=16383&this[s],x=this[s++]>>14,F=v*E+x*g;h=((E=g*E+((16383&F)<<14)+u[c]+h)>>28)+(F>>14)+v*x,u[c++]=268435455&E}return h},yt=28),z.prototype.DB=yt,z.prototype.DM=(1<<yt)-1,z.prototype.DV=1<<yt,z.prototype.FV=Math.pow(2,52),z.prototype.F1=52-yt,z.prototype.F2=2*yt-52;var Cn,Tn,Zn="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Cn="0".charCodeAt(0),Tn=0;Tn<=9;++Tn)en[Cn++]=Tn;for(Cn="a".charCodeAt(0),Tn=10;Tn<36;++Tn)en[Cn++]=Tn;for(Cn="A".charCodeAt(0),Tn=10;Tn<36;++Tn)en[Cn++]=Tn;function bn(s){return Zn.charAt(s)}function ii(s,a){return en[s.charCodeAt(a)]??-1}function mr(s){var a=Ee();return a.fromInt(s),a}function bi(s){var u,a=1;return 0!=(u=s>>>16)&&(s=u,a+=16),0!=(u=s>>8)&&(s=u,a+=8),0!=(u=s>>4)&&(s=u,a+=4),0!=(u=s>>2)&&(s=u,a+=2),0!=(u=s>>1)&&(s=u,a+=1),a}function Ur(s){this.m=s}function j(s){this.m=s,this.mp=s.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function Xa(s,a){return s&a}function Rs(s,a){return s|a}function Oo(s,a){return s^a}function ko(s,a){return s&~a}function rc(s){if(0==s)return-1;var a=0;return 65535&s||(s>>=16,a+=16),255&s||(s>>=8,a+=8),15&s||(s>>=4,a+=4),3&s||(s>>=2,a+=2),1&s||++a,a}function sc(s){for(var a=0;0!=s;)s&=s-1,++a;return a}function Ai(){}function Bo(s){return s}function Fi(s){this.r2=Ee(),this.q3=Ee(),z.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}Ur.prototype.convert=function Fs(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s},Ur.prototype.revert=function No(s){return s},Ur.prototype.reduce=function Qi(s){s.divRemTo(this.m,null,s)},Ur.prototype.mulTo=function lr(s,a,u){s.multiplyTo(a,u),this.reduce(u)},Ur.prototype.sqrTo=function _s(s,a){s.squareTo(a),this.reduce(a)},j.prototype.convert=function T(s){var a=Ee();return s.abs().dlShiftTo(this.m.t,a),a.divRemTo(this.m,null,a),s.s<0&&a.compareTo(z.ZERO)>0&&this.m.subTo(a,a),a},j.prototype.revert=function R(s){var a=Ee();return s.copyTo(a),this.reduce(a),a},j.prototype.reduce=function q(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var a=0;a<this.m.t;++a){var u=32767&s[a],c=u*this.mpl+((u*this.mph+(s[a]>>15)*this.mpl&this.um)<<15)&s.DM;for(s[u=a+this.m.t]+=this.m.am(0,c,s,a,0,this.m.t);s[u]>=s.DV;)s[u]-=s.DV,s[++u]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)},j.prototype.mulTo=function ce(s,a,u){s.multiplyTo(a,u),this.reduce(u)},j.prototype.sqrTo=function ee(s,a){s.squareTo(a),this.reduce(a)},z.prototype.copyTo=function _o(s){for(var a=this.t-1;a>=0;--a)s[a]=this[a];s.t=this.t,s.s=this.s},z.prototype.fromInt=function Yi(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0},z.prototype.fromString=function Zi(s,a){var u;if(16==a)u=4;else if(8==a)u=3;else if(256==a)u=8;else if(2==a)u=1;else if(32==a)u=5;else{if(4!=a)return void this.fromRadix(s,a);u=2}this.t=0,this.s=0;for(var c=s.length,h=!1,p=0;--c>=0;){var g=8==u?255&s[c]:ii(s,c);g<0?"-"==s.charAt(c)&&(h=!0):(h=!1,0==p?this[this.t++]=g:p+u>this.DB?(this[this.t-1]|=(g&(1<<this.DB-p)-1)<<p,this[this.t++]=g>>this.DB-p):this[this.t-1]|=g<<p,(p+=u)>=this.DB&&(p-=this.DB))}8==u&&128&s[0]&&(this.s=-1,p>0&&(this[this.t-1]|=(1<<this.DB-p)-1<<p)),this.clamp(),h&&z.ZERO.subTo(this,this)},z.prototype.clamp=function br(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t},z.prototype.dlShiftTo=function Ro(s,a){var u;for(u=this.t-1;u>=0;--u)a[u+s]=this[u];for(u=s-1;u>=0;--u)a[u]=0;a.t=this.t+s,a.s=this.s},z.prototype.drShiftTo=function gt(s,a){for(var u=s;u<this.t;++u)a[u-s]=this[u];a.t=Math.max(this.t-s,0),a.s=this.s},z.prototype.lShiftTo=function mn(s,a){var v,u=s%this.DB,c=this.DB-u,h=(1<<c)-1,p=Math.floor(s/this.DB),g=this.s<<u&this.DM;for(v=this.t-1;v>=0;--v)a[v+p+1]=this[v]>>c|g,g=(this[v]&h)<<u;for(v=p-1;v>=0;--v)a[v]=0;a[p]=g,a.t=this.t+p+1,a.s=this.s,a.clamp()},z.prototype.rShiftTo=function Ji(s,a){a.s=this.s;var u=Math.floor(s/this.DB);if(u>=this.t)a.t=0;else{var c=s%this.DB,h=this.DB-c,p=(1<<c)-1;a[0]=this[u]>>c;for(var g=u+1;g<this.t;++g)a[g-u-1]|=(this[g]&p)<<h,a[g-u]=this[g]>>c;c>0&&(a[this.t-u-1]|=(this.s&p)<<h),a.t=this.t-u,a.clamp()}},z.prototype.subTo=function zt(s,a){for(var u=0,c=0,h=Math.min(s.t,this.t);u<h;)c+=this[u]-s[u],a[u++]=c&this.DM,c>>=this.DB;if(s.t<this.t){for(c-=s.s;u<this.t;)c+=this[u],a[u++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;u<s.t;)c-=s[u],a[u++]=c&this.DM,c>>=this.DB;c-=s.s}a.s=c<0?-1:0,c<-1?a[u++]=this.DV+c:c>0&&(a[u++]=c),a.t=u,a.clamp()},z.prototype.multiplyTo=function Kt(s,a){var u=this.abs(),c=s.abs(),h=u.t;for(a.t=h+c.t;--h>=0;)a[h]=0;for(h=0;h<c.t;++h)a[h+u.t]=u.am(0,c[h],a,h,0,u.t);a.s=0,a.clamp(),this.s!=s.s&&z.ZERO.subTo(a,a)},z.prototype.squareTo=function Po(s){for(var a=this.abs(),u=s.t=2*a.t;--u>=0;)s[u]=0;for(u=0;u<a.t-1;++u){var c=a.am(u,a[u],s,2*u,0,1);(s[u+a.t]+=a.am(u+1,2*a[u],s,2*u+1,c,a.t-u-1))>=a.DV&&(s[u+a.t]-=a.DV,s[u+a.t+1]=1)}s.t>0&&(s[s.t-1]+=a.am(u,a[u],s,2*u,0,1)),s.s=0,s.clamp()},z.prototype.divRemTo=function Ye(s,a,u){var c=s.abs();if(!(c.t<=0)){var h=this.abs();if(h.t<c.t)return a?.fromInt(0),void(null!=u&&this.copyTo(u));null==u&&(u=Ee());var p=Ee(),g=this.s,v=s.s,E=this.DB-bi(c[c.t-1]);E>0?(c.lShiftTo(E,p),h.lShiftTo(E,u)):(c.copyTo(p),h.copyTo(u));var x=p.t,F=p[x-1];if(0!=F){var A=F*(1<<this.F1)+(x>1?p[x-2]>>this.F2:0),w=this.FV/A,y=(1<<this.F1)/A,b=1<<this.F2,D=u.t,_=D-x,C=a??Ee();for(p.dlShiftTo(_,C),u.compareTo(C)>=0&&(u[u.t++]=1,u.subTo(C,u)),z.ONE.dlShiftTo(x,C),C.subTo(p,p);p.t<x;)p[p.t++]=0;for(;--_>=0;){var N=u[--D]==F?this.DM:Math.floor(u[D]*w+(u[D-1]+b)*y);if((u[D]+=p.am(0,N,u,_,0,x))<N)for(p.dlShiftTo(_,C),u.subTo(C,u);u[D]<--N;)u.subTo(C,u)}null!=a&&(u.drShiftTo(x,a),g!=v&&z.ZERO.subTo(a,a)),u.t=x,u.clamp(),E>0&&u.rShiftTo(E,u),g<0&&z.ZERO.subTo(u,u)}}},z.prototype.invDigit=function Za(){if(this.t<1)return 0;var s=this[0];if(!(1&s))return 0;var a=3&s;return(a=(a=(a=(a=a*(2-(15&s)*a)&15)*(2-(255&s)*a)&255)*(2-((65535&s)*a&65535))&65535)*(2-s*a%this.DV)%this.DV)>0?this.DV-a:-a},z.prototype.isEven=function he(){return 0==(this.t>0?1&this[0]:this.s)},z.prototype.exp=function Ze(s,a){if(s>4294967295||s<1)return z.ONE;var u=Ee(),c=Ee(),h=a.convert(this),p=bi(s)-1;for(h.copyTo(u);--p>=0;)if(a.sqrTo(u,c),(s&1<<p)>0)a.mulTo(c,h,u);else{var g=u;u=c,c=g}return a.revert(u)},z.prototype.toString=function Is(s){if(this.s<0)return"-"+this.negate().toString(s);var a;if(16==s)a=4;else if(8==s)a=3;else if(2==s)a=1;else if(32==s)a=5;else{if(4!=s)return this.toRadix(s);a=2}var c,u=(1<<a)-1,h=!1,p="",g=this.t,v=this.DB-g*this.DB%a;if(g-- >0)for(v<this.DB&&(c=this[g]>>v)>0&&(h=!0,p=bn(c));g>=0;)v<a?(c=(this[g]&(1<<v)-1)<<a-v,c|=this[--g]>>(v+=this.DB-a)):(c=this[g]>>(v-=a)&u,v<=0&&(v+=this.DB,--g)),c>0&&(h=!0),h&&(p+=bn(c));return h?p:"0"},z.prototype.negate=function Xi(){var s=Ee();return z.ZERO.subTo(this,s),s},z.prototype.abs=function qt(){return this.s<0?this.negate():this},z.prototype.compareTo=function As(s){var a=this.s-s.s;if(0!=a)return a;var u=this.t;if(0!=(a=u-s.t))return this.s<0?-a:a;for(;--u>=0;)if(0!=(a=this[u]-s[u]))return a;return 0},z.prototype.bitLength=function To(){return this.t<=0?0:this.DB*(this.t-1)+bi(this[this.t-1]^this.s&this.DM)},z.prototype.mod=function si(s){var a=Ee();return this.abs().divRemTo(s,null,a),this.s<0&&a.compareTo(z.ZERO)>0&&s.subTo(a,a),a},z.prototype.modPowInt=function ht(s,a){var u;return u=s<256||a.isEven()?new Ur(a):new j(a),this.exp(s,u)},z.ZERO=mr(0),z.ONE=mr(1),Ai.prototype.convert=Bo,Ai.prototype.revert=Bo,Ai.prototype.mulTo=function pc(s,a,u){s.multiplyTo(a,u)},Ai.prototype.sqrTo=function gc(s,a){s.squareTo(a)},Fi.prototype.convert=function yc(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var a=Ee();return s.copyTo(a),this.reduce(a),a},Fi.prototype.revert=function tn(s){return s},Fi.prototype.reduce=function wc(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)},Fi.prototype.mulTo=function jo(s,a,u){s.multiplyTo(a,u),this.reduce(u)},Fi.prototype.sqrTo=function Ec(s,a){s.squareTo(a),this.reduce(a)};var Rn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Uo=(1<<26)/Rn[Rn.length-1];function ts(){this.i=0,this.j=0,this.S=new Array}z.prototype.chunkSize=function Ts(s){return Math.floor(Math.LN2*this.DB/Math.log(s))},z.prototype.toRadix=function ec(s){if(null==s&&(s=10),0==this.signum()||s<2||s>36)return"0";var a=this.chunkSize(s),u=Math.pow(s,a),c=mr(u),h=Ee(),p=Ee(),g="";for(this.divRemTo(c,h,p);h.signum()>0;)g=(u+p.intValue()).toString(s).substr(1)+g,h.divRemTo(c,h,p);return p.intValue().toString(s)+g},z.prototype.fromRadix=function rp(s,a){this.fromInt(0),null==a&&(a=10);for(var u=this.chunkSize(a),c=Math.pow(a,u),h=!1,p=0,g=0,v=0;v<s.length;++v){var E=ii(s,v);E<0?"-"==s.charAt(v)&&0==this.signum()&&(h=!0):(g=a*g+E,++p>=u&&(this.dMultiply(c),this.dAddOffset(g,0),p=0,g=0))}p>0&&(this.dMultiply(Math.pow(a,p)),this.dAddOffset(g,0)),h&&z.ZERO.subTo(this,this)},z.prototype.fromNumber=function tc(s,a,u){if("number"==typeof a)if(s<2)this.fromInt(1);else for(this.fromNumber(s,u),this.testBit(s-1)||this.bitwiseTo(z.ONE.shiftLeft(s-1),Rs,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(a);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(z.ONE.shiftLeft(s-1),this);else{var c=new Array,h=7&s;c.length=1+(s>>3),a.nextBytes(c),h>0?c[0]&=(1<<h)-1:c[0]=0,this.fromString(c,256)}},z.prototype.bitwiseTo=function up(s,a,u){var c,h,p=Math.min(s.t,this.t);for(c=0;c<p;++c)u[c]=a(this[c],s[c]);if(s.t<this.t){for(h=s.s&this.DM,c=p;c<this.t;++c)u[c]=a(this[c],h);u.t=this.t}else{for(h=this.s&this.DM,c=p;c<s.t;++c)u[c]=a(h,s[c]);u.t=s.t}u.s=a(this.s,s.s),u.clamp()},z.prototype.changeBit=function ac(s,a){var u=z.ONE.shiftLeft(s);return this.bitwiseTo(u,a,u),u},z.prototype.addTo=function yn(s,a){for(var u=0,c=0,h=Math.min(s.t,this.t);u<h;)c+=this[u]+s[u],a[u++]=c&this.DM,c>>=this.DB;if(s.t<this.t){for(c+=s.s;u<this.t;)c+=this[u],a[u++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;u<s.t;)c+=s[u],a[u++]=c&this.DM,c>>=this.DB;c+=s.s}a.s=c<0?-1:0,c>0?a[u++]=c:c<-1&&(a[u++]=this.DV+c),a.t=u,a.clamp()},z.prototype.dMultiply=function es(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()},z.prototype.dAddOffset=function hc(s,a){if(0!=s){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=s;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}},z.prototype.multiplyLowerTo=function vc(s,a,u){var h,c=Math.min(this.t+s.t,a);for(u.s=0,u.t=c;c>0;)u[--c]=0;for(h=u.t-this.t;c<h;++c)u[c+this.t]=this.am(0,s[c],u,c,0,this.t);for(h=Math.min(s.t,a);c<h;++c)this.am(0,s[c],u,c,0,a-c);u.clamp()},z.prototype.multiplyUpperTo=function iu(s,a,u){--a;var c=u.t=this.t+s.t-a;for(u.s=0;--c>=0;)u[c]=0;for(c=Math.max(a-this.t,0);c<s.t;++c)u[this.t+c-a]=this.am(a-c,s[c],u,0,0,this.t+c-a);u.clamp(),u.drShiftTo(1,u)},z.prototype.modInt=function xt(s){if(s<=0)return 0;var a=this.DV%s,u=this.s<0?s-1:0;if(this.t>0)if(0==a)u=this[0]%s;else for(var c=this.t-1;c>=0;--c)u=(a*u+this[c])%s;return u},z.prototype.millerRabin=function $o(s){var a=this.subtract(z.ONE),u=a.getLowestSetBit();if(u<=0)return!1;var c=a.shiftRight(u);(s=s+1>>1)>Rn.length&&(s=Rn.length);for(var h=Ee(),p=0;p<s;++p){h.fromInt(Rn[Math.floor(Math.random()*Rn.length)]);var g=h.modPow(c,this);if(0!=g.compareTo(z.ONE)&&0!=g.compareTo(a)){for(var v=1;v++<u&&0!=g.compareTo(a);)if(0==(g=g.modPowInt(2,this)).compareTo(z.ONE))return!1;if(0!=g.compareTo(a))return!1}}return!0},z.prototype.clone=function At(){var s=Ee();return this.copyTo(s),s},z.prototype.intValue=function vn(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},z.prototype.byteValue=function Mt(){return 0==this.t?this.s:this[0]<<24>>24},z.prototype.shortValue=function Xn(){return 0==this.t?this.s:this[0]<<16>>16},z.prototype.signum=function Mo(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},z.prototype.toByteArray=function ip(){var s=this.t,a=new Array;a[0]=this.s;var c,u=this.DB-s*this.DB%8,h=0;if(s-- >0)for(u<this.DB&&(c=this[s]>>u)!=(this.s&this.DM)>>u&&(a[h++]=c|this.s<<this.DB-u);s>=0;)u<8?(c=(this[s]&(1<<u)-1)<<8-u,c|=this[--s]>>(u+=this.DB-8)):(c=this[s]>>(u-=8)&255,u<=0&&(u+=this.DB,--s)),128&c&&(c|=-256),0==h&&(128&this.s)!=(128&c)&&++h,(h>0||c!=this.s)&&(a[h++]=c);return a},z.prototype.equals=function sp(s){return 0==this.compareTo(s)},z.prototype.min=function op(s){return this.compareTo(s)<0?this:s},z.prototype.max=function ap(s){return this.compareTo(s)>0?this:s},z.prototype.and=function Ja(s){var a=Ee();return this.bitwiseTo(s,Xa,a),a},z.prototype.or=function Qa(s){var a=Ee();return this.bitwiseTo(s,Rs,a),a},z.prototype.xor=function nc(s){var a=Ee();return this.bitwiseTo(s,Oo,a),a},z.prototype.andNot=function eu(s){var a=Ee();return this.bitwiseTo(s,ko,a),a},z.prototype.not=function tu(){for(var s=Ee(),a=0;a<this.t;++a)s[a]=this.DM&~this[a];return s.t=this.t,s.s=~this.s,s},z.prototype.shiftLeft=function nu(s){var a=Ee();return s<0?this.rShiftTo(-s,a):this.lShiftTo(s,a),a},z.prototype.shiftRight=function cr(s){var a=Ee();return s<0?this.lShiftTo(-s,a):this.rShiftTo(s,a),a},z.prototype.getLowestSetBit=function ic(){for(var s=0;s<this.t;++s)if(0!=this[s])return s*this.DB+rc(this[s]);return this.s<0?this.t*this.DB:-1},z.prototype.bitCount=function oc(){for(var s=0,a=this.s&this.DM,u=0;u<this.t;++u)s+=sc(this[u]^a);return s},z.prototype.testBit=function ru(s){var a=Math.floor(s/this.DB);return a>=this.t?0!=this.s:0!=(this[a]&1<<s%this.DB)},z.prototype.setBit=function uc(s){return this.changeBit(s,Rs)},z.prototype.clearBit=function Ir(s){return this.changeBit(s,ko)},z.prototype.flipBit=function lc(s){return this.changeBit(s,Oo)},z.prototype.add=function Ii(s){var a=Ee();return this.addTo(s,a),a},z.prototype.subtract=function vr(s){var a=Ee();return this.subTo(s,a),a},z.prototype.multiply=function lp(s){var a=Ee();return this.multiplyTo(s,a),a},z.prototype.divide=function fc(s){var a=Ee();return this.divRemTo(s,a,null),a},z.prototype.remainder=function Lo(s){var a=Ee();return this.divRemTo(s,null,a),a},z.prototype.divideAndRemainder=function dc(s){var a=Ee(),u=Ee();return this.divRemTo(s,a,u),new Array(a,u)},z.prototype.modPow=function wt(s,a){var c,p,u=s.bitLength(),h=mr(1);if(u<=0)return h;c=u<18?1:u<48?3:u<144?4:u<768?5:6,p=u<8?new Ur(a):a.isEven()?new Fi(a):new j(a);var g=new Array,v=3,E=c-1,x=(1<<c)-1;if(g[1]=p.convert(this),c>1){var F=Ee();for(p.sqrTo(g[1],F);v<=x;)g[v]=Ee(),p.mulTo(F,g[v-2],g[v]),v+=2}var w,D,A=s.t-1,y=!0,b=Ee();for(u=bi(s[A])-1;A>=0;){for(u>=E?w=s[A]>>u-E&x:(w=(s[A]&(1<<u+1)-1)<<E-u,A>0&&(w|=s[A-1]>>this.DB+u-E)),v=c;!(1&w);)w>>=1,--v;if((u-=v)<0&&(u+=this.DB,--A),y)g[w].copyTo(h),y=!1;else{for(;v>1;)p.sqrTo(h,b),p.sqrTo(b,h),v-=2;v>0?p.sqrTo(h,b):(D=h,h=b,b=D),p.mulTo(b,g[w],h)}for(;A>=0&&!(s[A]&1<<u);)p.sqrTo(h,b),D=h,h=b,b=D,--u<0&&(u=this.DB-1,--A)}return p.revert(h)},z.prototype.modInverse=function Vo(s){var a=s.isEven();if(this.isEven()&&a||0==s.signum())return z.ZERO;for(var u=s.clone(),c=this.clone(),h=mr(1),p=mr(0),g=mr(0),v=mr(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),a?((!h.isEven()||!p.isEven())&&(h.addTo(this,h),p.subTo(s,p)),h.rShiftTo(1,h)):p.isEven()||p.subTo(s,p),p.rShiftTo(1,p);for(;c.isEven();)c.rShiftTo(1,c),a?((!g.isEven()||!v.isEven())&&(g.addTo(this,g),v.subTo(s,v)),g.rShiftTo(1,g)):v.isEven()||v.subTo(s,v),v.rShiftTo(1,v);u.compareTo(c)>=0?(u.subTo(c,u),a&&h.subTo(g,h),p.subTo(v,p)):(c.subTo(u,c),a&&g.subTo(h,g),v.subTo(p,v))}return 0!=c.compareTo(z.ONE)?z.ZERO:v.compareTo(s)>=0?v.subtract(s):v.signum()<0?(v.addTo(s,v),v.signum()<0?v.add(s):v):v},z.prototype.pow=function mc(s){return this.exp(s,new Ai)},z.prototype.gcd=function Ho(s){var a=this.s<0?this.negate():this.clone(),u=s.s<0?s.negate():s.clone();if(a.compareTo(u)<0){var c=a;a=u,u=c}var h=a.getLowestSetBit(),p=u.getLowestSetBit();if(p<0)return a;for(h<p&&(p=h),p>0&&(a.rShiftTo(p,a),u.rShiftTo(p,u));a.signum()>0;)(h=a.getLowestSetBit())>0&&a.rShiftTo(h,a),(h=u.getLowestSetBit())>0&&u.rShiftTo(h,u),a.compareTo(u)>=0?(a.subTo(u,a),a.rShiftTo(1,a)):(u.subTo(a,u),u.rShiftTo(1,u));return p>0&&u.lShiftTo(p,u),u},z.prototype.isProbablePrime=function Te(s){var a,u=this.abs();if(1==u.t&&u[0]<=Rn[Rn.length-1]){for(a=0;a<Rn.length;++a)if(u[0]==Rn[a])return!0;return!1}if(u.isEven())return!1;for(a=1;a<Rn.length;){for(var c=Rn[a],h=a+1;h<Rn.length&&c<Uo;)c*=Rn[h++];for(c=u.modInt(c);a<h;)if(c%Rn[a++]==0)return!1}return u.millerRabin(s)},z.prototype.square=function cc(){var s=Ee();return this.squareTo(s),s},ts.prototype.init=function cp(s){var a,u,c;for(a=0;a<256;++a)this.S[a]=a;for(u=0,a=0;a<256;++a)c=this.S[a],this.S[a]=this.S[u=u+this.S[a]+s[a%s.length]&255],this.S[u]=c;this.i=0,this.j=0},ts.prototype.next=function su(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]};var Oe,He,fn,_i=256;function qo(){!function fp(s){He[fn++]^=255&s,He[fn++]^=s>>8&255,He[fn++]^=s>>16&255,He[fn++]^=s>>24&255,fn>=_i&&(fn-=_i)}((new Date).getTime())}if(null==He){var Ln;if(He=new Array,fn=0,void 0!==$t&&(void 0!==$t.crypto||void 0!==$t.msCrypto)){var Bn=$t.crypto||$t.msCrypto;if(Bn.getRandomValues){var Sc=new Uint8Array(32);for(Bn.getRandomValues(Sc),Ln=0;Ln<32;++Ln)He[fn++]=Sc[Ln]}else if("Netscape"==ye.appName&&ye.appVersion<"5"){var ou=$t.crypto.random(32);for(Ln=0;Ln<ou.length;++Ln)He[fn++]=255&ou.charCodeAt(Ln)}}for(;fn<_i;)Ln=Math.floor(65536*Math.random()),He[fn++]=Ln>>>8,He[fn++]=255&Ln;fn=0,qo()}function dp(){if(null==Oe){for(qo(),(Oe=function pe(){return new ts}()).init(He),fn=0;fn<He.length;++fn)He[fn]=0;fn=0}return Oe.next()}function oi(){}function Pn(s,a){return new z(s,a)}function xc(s,a,u){for(var c="",h=0;c.length<a;)c+=u(String.fromCharCode.apply(String,s.concat([(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))),h+=1;return c}function Ce(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Ie(s,a,u){for(var c="",h=0;c.length<a;)c+=u(s+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])),h+=1;return c}function Xt(s,a){this.x=a,this.q=s}function nt(s,a,u,c){this.curve=s,this.x=a,this.y=u,this.z=null==c?z.ONE:c,this.zinv=null}function Ar(s,a,u){this.q=s,this.a=this.fromBigInteger(a),this.b=this.fromBigInteger(u),this.infinity=new nt(this,null,null)}oi.prototype.nextBytes=function $r(s){var a;for(a=0;a<s.length;++a)s[a]=dp()},Ce.prototype.doPublic=function ut(s){return s.modPowInt(this.e,this.n)},Ce.prototype.setPublic=function Jn(s,a){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof s)this.n=s,this.e=a;else{if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA public key";this.n=Pn(s,16),this.e=parseInt(a,16)}},Ce.prototype.encrypt=function hp(s){var a=function Dc(s,a){if(a<s.length+11)throw"Message too long for RSA";for(var u=new Array,c=s.length-1;c>=0&&a>0;){var h=s.charCodeAt(c--);h<128?u[--a]=h:h>127&&h<2048?(u[--a]=63&h|128,u[--a]=h>>6|192):(u[--a]=63&h|128,u[--a]=h>>6&63|128,u[--a]=h>>12|224)}u[--a]=0;for(var p=new oi,g=new Array;a>2;){for(g[0]=0;0==g[0];)p.nextBytes(g);u[--a]=g[0]}return u[--a]=2,u[--a]=0,new z(u)}(s,this.n.bitLength()+7>>3);if(null==a)return null;var u=this.doPublic(a);if(null==u)return null;var c=u.toString(16);return 1&c.length?"0"+c:c},Ce.prototype.encryptOAEP=function pp(s,a,u){var c=function Cc(s,a,u,c){var h=d.crypto.MessageDigest,p=d.crypto.Util,g=null;if(u||(u="sha1"),"string"==typeof u&&(g=h.getCanonicalAlgName(u),c=h.getHashLength(g),u=function(D){return wn(p.hashHex(Ct(D),g))}),s.length+2*c+2>a)throw"Message too long for RSA";var E,v="";for(E=0;E<a-s.length-2*c-2;E+=1)v+="\0";var x=u("")+v+"\x01"+s,F=new Array(c);(new oi).nextBytes(F);var A=xc(F,x.length,u),w=[];for(E=0;E<x.length;E+=1)w[E]=x.charCodeAt(E)^A.charCodeAt(E);var y=xc(w,F.length,u),b=[0];for(E=0;E<F.length;E+=1)b[E+1]=F[E]^y.charCodeAt(E);return new z(b.concat(w))}(s,this.n.bitLength()+7>>3,a,u);if(null==c)return null;var h=this.doPublic(c);if(null==h)return null;var p=h.toString(16);return 1&p.length?"0"+p:p},Ce.prototype.type="RSA",Ce.prototype.doPrivate=function au(s){if(null==this.p||null==this.q)return s.modPow(this.d,this.n);for(var a=s.mod(this.p).modPow(this.dmp1,this.p),u=s.mod(this.q).modPow(this.dmq1,this.q);a.compareTo(u)<0;)a=a.add(this.p);return a.subtract(u).multiply(this.coeff).mod(this.p).multiply(this.q).add(u)},Ce.prototype.setPrivate=function qr(s,a,u){if(this.isPrivate=!0,"string"!=typeof s)this.n=s,this.e=a,this.d=u;else{if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA private key";this.n=Pn(s,16),this.e=parseInt(a,16),this.d=Pn(u,16)}},Ce.prototype.setPrivateEx=function Ps(s,a,u,c,h,p,g,v){if(this.isPrivate=!0,this.isPublic=!1,null==s)throw"RSASetPrivateEx N == null";if(null==a)throw"RSASetPrivateEx E == null";if(0==s.length)throw"RSASetPrivateEx N.length == 0";if(0==a.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=Pn(s,16),this.e=parseInt(a,16),this.d=Pn(u,16),this.p=Pn(c,16),this.q=Pn(h,16),this.dmp1=Pn(p,16),this.dmq1=Pn(g,16),this.coeff=Pn(v,16)},Ce.prototype.generate=function bc(s,a){var u=new oi,c=s>>1;this.e=parseInt(a,16);for(var h=new z(a,16),p=s/2-100,g=z.ONE.shiftLeft(p);;){for(;this.p=new z(s-c,1,u),0!=this.p.subtract(z.ONE).gcd(h).compareTo(z.ONE)||!this.p.isProbablePrime(10););for(;this.q=new z(c,1,u),0!=this.q.subtract(z.ONE).gcd(h).compareTo(z.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var v=this.p;this.p=this.q,this.q=v}var E=this.q.subtract(this.p).abs();if(!(E.bitLength()<p||E.compareTo(g)<=0)){var x=this.p.subtract(z.ONE),F=this.q.subtract(z.ONE),A=x.multiply(F);if(0==A.gcd(h).compareTo(z.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==s)){this.d=h.modInverse(A),this.dmp1=this.d.mod(x),this.dmq1=this.d.mod(F),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},Ce.prototype.decrypt=function Ic(s){if(s.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var a=Pn(s,16),u=this.doPrivate(a);return null==u?null:function gp(s,a){for(var u=s.toByteArray(),c=0;c<u.length&&0==u[c];)++c;if(u.length-c!=a-1||2!=u[c])return null;for(++c;0!=u[c];)if(++c>=u.length)return null;for(var h="";++c<u.length;){var p=255&u[c];p<128?h+=String.fromCharCode(p):p>191&&p<224?(h+=String.fromCharCode((31&p)<<6|63&u[c+1]),++c):(h+=String.fromCharCode((15&p)<<12|(63&u[c+1])<<6|63&u[c+2]),c+=2)}return h}(u,this.n.bitLength()+7>>3)},Ce.prototype.decryptOAEP=function Ac(s,a,u){if(s.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var c=Pn(s,16),h=this.doPrivate(c);return null==h?null:function mp(s,a,u,c){var h=d.crypto.MessageDigest,p=d.crypto.Util,g=null;for(u||(u="sha1"),"string"==typeof u&&(g=h.getCanonicalAlgName(u),c=h.getHashLength(g),u=function(_){return wn(p.hashHex(Ct(_),g))}),s=s.toByteArray(),A=0;A<s.length;A+=1)s[A]&=255;for(;s.length<a;)s.unshift(0);if((s=String.fromCharCode.apply(String,s)).length<2*c+2)throw"Cipher too short";var A,v=s.substr(1,c),E=s.substr(c+1),x=Ie(E,c,u),F=[];for(A=0;A<v.length;A+=1)F[A]=v.charCodeAt(A)^x.charCodeAt(A);var w=Ie(String.fromCharCode.apply(String,F),s.length-c,u),y=[];for(A=0;A<E.length;A+=1)y[A]=E.charCodeAt(A)^w.charCodeAt(A);if((y=String.fromCharCode.apply(String,y)).substr(0,c)!==u(""))throw"Hash mismatch";var b=(y=y.substr(c)).indexOf("\x01");if((-1!=b?y.substr(0,b).lastIndexOf("\0"):-1)+1!=b)throw"Malformed data";return y.substr(b+1)}(h,this.n.bitLength()+7>>3,a,u)},Xt.prototype.equals=function Ns(s){return s==this||this.q.equals(s.q)&&this.x.equals(s.x)},Xt.prototype.toBigInteger=function zo(){return this.x},Xt.prototype.negate=function uu(){return new Xt(this.q,this.x.negate().mod(this.q))},Xt.prototype.add=function Fc(s){return new Xt(this.q,this.x.add(s.toBigInteger()).mod(this.q))},Xt.prototype.subtract=function Re(s){return new Xt(this.q,this.x.subtract(s.toBigInteger()).mod(this.q))},Xt.prototype.multiply=function Ko(s){return new Xt(this.q,this.x.multiply(s.toBigInteger()).mod(this.q))},Xt.prototype.square=function _c(){return new Xt(this.q,this.x.square().mod(this.q))},Xt.prototype.divide=function Qn(s){return new Xt(this.q,this.x.multiply(s.toBigInteger().modInverse(this.q)).mod(this.q))},Xt.prototype.sqrt=function(){return new Xt(this.q,this.x.sqrt().mod(this.q))},nt.prototype.getX=function vp(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},nt.prototype.getY=function Ft(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},nt.prototype.equals=function yp(s){return s==this||(this.isInfinity()?s.isInfinity():s.isInfinity()?this.isInfinity():!!s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(z.ZERO)&&s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(z.ZERO))},nt.prototype.isInfinity=function wp(){return null==this.x&&null==this.y||this.z.equals(z.ZERO)&&!this.y.toBigInteger().equals(z.ZERO)},nt.prototype.negate=function Ep(){return new nt(this.curve,this.x,this.y.negate(),this.z)},nt.prototype.add=function ns(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var a=s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q),u=s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q);if(z.ZERO.equals(u))return z.ZERO.equals(a)?this.twice():this.curve.getInfinity();var c=new z("3"),h=this.x.toBigInteger(),p=this.y.toBigInteger(),E=(s.x.toBigInteger(),s.y.toBigInteger(),u.square()),x=E.multiply(u),F=h.multiply(E),A=a.square().multiply(this.z),w=A.subtract(F.shiftLeft(1)).multiply(s.z).subtract(x).multiply(u).mod(this.curve.q),y=F.multiply(c).multiply(a).subtract(p.multiply(x)).subtract(A.multiply(a)).multiply(s.z).add(a.multiply(x)).mod(this.curve.q),b=x.multiply(this.z).multiply(s.z).mod(this.curve.q);return new nt(this.curve,this.curve.fromBigInteger(w),this.curve.fromBigInteger(y),b)},nt.prototype.twice=function Go(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=new z("3"),a=this.x.toBigInteger(),u=this.y.toBigInteger(),c=u.multiply(this.z),h=c.multiply(u).mod(this.curve.q),p=this.curve.a.toBigInteger(),g=a.square().multiply(s);z.ZERO.equals(p)||(g=g.add(this.z.square().multiply(p)));var v=(g=g.mod(this.curve.q)).square().subtract(a.shiftLeft(3).multiply(h)).shiftLeft(1).multiply(c).mod(this.curve.q),E=g.multiply(s).multiply(a).subtract(h.shiftLeft(1)).shiftLeft(2).multiply(h).subtract(g.square().multiply(g)).mod(this.curve.q),x=c.square().multiply(c).shiftLeft(3).mod(this.curve.q);return new nt(this.curve,this.curve.fromBigInteger(v),this.curve.fromBigInteger(E),x)},nt.prototype.multiply=function Ms(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var x,a=s,u=a.multiply(new z("3")),c=this.negate(),h=this,p=this.curve.q.subtract(s),g=p.multiply(new z("3")),v=new nt(this.curve,this.x,this.y),E=v.negate();for(x=u.bitLength()-2;x>0;--x){h=h.twice();var F=u.testBit(x);F!=a.testBit(x)&&(h=h.add(F?this:c))}for(x=g.bitLength()-2;x>0;--x){v=v.twice();var w=g.testBit(x);w!=p.testBit(x)&&(v=v.add(w?v:E))}return h},nt.prototype.multiplyTwo=function Tc(s,a,u){var c;c=s.bitLength()>u.bitLength()?s.bitLength()-1:u.bitLength()-1;for(var h=this.curve.getInfinity(),p=this.add(a);c>=0;)h=h.twice(),s.testBit(c)?h=u.testBit(c)?h.add(p):h.add(this):u.testBit(c)&&(h=h.add(a)),--c;return h},Ar.prototype.getQ=function Rc(){return this.q},Ar.prototype.getA=function lu(){return this.a},Ar.prototype.getB=function rs(){return this.b},Ar.prototype.equals=function Ti(s){return s==this||this.q.equals(s.q)&&this.a.equals(s.a)&&this.b.equals(s.b)},Ar.prototype.getInfinity=function Pc(){return this.infinity},Ar.prototype.fromBigInteger=function Ae(s){return new Xt(this.q,s)},Ar.prototype.decodePointHex=function cu(s){switch(parseInt(s.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var a=s.substr(0,2),c=(s.substr(2),this.fromBigInteger(new z(x,16))),h=this.getA(),p=this.getB(),v=c.square().add(h).multiply(c).add(p).sqrt();return"03"==a&&(v=v.negate()),new nt(this,c,v);case 4:case 6:case 7:var E=(s.length-2)/2,x=s.substr(2,E),F=s.substr(E+2,E);return new nt(this,this.fromBigInteger(new z(x,16)),this.fromBigInteger(new z(F,16)));default:return null}},Xt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},nt.prototype.getEncoded=function(s){var a=function(p,g){var v=p.toByteArrayUnsigned();if(g<v.length)v=v.slice(v.length-g);else for(;g>v.length;)v.unshift(0);return v},u=this.getX().toBigInteger(),c=this.getY().toBigInteger(),h=a(u,32);return s?c.isEven()?h.unshift(2):h.unshift(3):(h.unshift(4),h=h.concat(a(c,32))),h},nt.decodeFrom=function(s,a){var c=a.length-1,h=a.slice(1,1+c/2),p=a.slice(1+c/2,1+c);h.unshift(0),p.unshift(0);var g=new z(h),v=new z(p);return new nt(s,s.fromBigInteger(g),s.fromBigInteger(v))},nt.decodeFromHex=function(s,a){a.substr(0,2);var c=a.length-2,h=a.substr(2,c/2),p=a.substr(2+c/2,c/2),g=new z(h,16),v=new z(p,16);return new nt(s,s.fromBigInteger(g),s.fromBigInteger(v))},nt.prototype.add2D=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;if(this.x.equals(s.x))return this.y.equals(s.y)?this.twice():this.curve.getInfinity();var a=s.x.subtract(this.x),c=s.y.subtract(this.y).divide(a),h=c.square().subtract(this.x).subtract(s.x),p=c.multiply(this.x.subtract(h)).subtract(this.y);return new nt(this.curve,h,p)},nt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=this.curve.fromBigInteger(z.valueOf(2)),a=this.curve.fromBigInteger(z.valueOf(3)),u=this.x.square().multiply(a).add(this.curve.a).divide(this.y.multiply(s)),c=u.square().subtract(this.x.multiply(s)),h=u.multiply(this.x.subtract(c)).subtract(this.y);return new nt(this.curve,c,h)},nt.prototype.multiply2D=function(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var p,a=s,u=a.multiply(new z("3")),c=this.negate(),h=this;for(p=u.bitLength()-2;p>0;--p){h=h.twice();var g=u.testBit(p);g!=a.testBit(p)&&(h=h.add2D(g?this:c))}return h},nt.prototype.isOnCurve=function(){var s=this.getX().toBigInteger(),a=this.getY().toBigInteger(),u=this.curve.getA().toBigInteger(),c=this.curve.getB().toBigInteger(),h=this.curve.getQ(),p=a.multiply(a).mod(h),g=s.multiply(s).multiply(s).add(u.multiply(s)).add(c).mod(h);return p.equals(g)},nt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},nt.prototype.validate=function(){var s=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var a=this.getX().toBigInteger(),u=this.getY().toBigInteger();if(a.compareTo(z.ONE)<0||a.compareTo(s.subtract(z.ONE))>0)throw new Error("x coordinate out of bounds");if(u.compareTo(z.ONE)<0||u.compareTo(s.subtract(z.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(s).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Qe=function(){var c=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),h=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),p={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function g(A,w,y){return w?p[w]:String.fromCharCode(parseInt(y,16))}var v=new String(""),F=Object.hasOwnProperty;return function(A,w){var b,y=A.match(c),D=y[0],_=!1;"{"===D?b={}:"["===D?b=[]:(b=[],_=!0);for(var C,N=[b],k=1-_,B=y.length;k<B;++k){var L;switch((D=y[k]).charCodeAt(0)){default:(L=N[0])[C||L.length]=+D,C=void 0;break;case 34:if(-1!==(D=D.substring(1,D.length-1)).indexOf("\\")&&(D=D.replace(h,g)),L=N[0],!C){if(!(L instanceof Array)){C=D||v;break}C=L.length}L[C]=D,C=void 0;break;case 91:N.unshift((L=N[0])[C||L.length]=[]),C=void 0;break;case 93:case 125:N.shift();break;case 102:(L=N[0])[C||L.length]=!1,C=void 0;break;case 110:(L=N[0])[C||L.length]=null,C=void 0;break;case 116:(L=N[0])[C||L.length]=!0,C=void 0;break;case 123:N.unshift((L=N[0])[C||L.length]={}),C=void 0}}if(_){if(1!==N.length)throw new Error;b=b[0]}else if(N.length)throw new Error;if(w){var X=function(te,P){var M=te[P];if(M&&"object"==typeof M){var H=null;for(var V in M)if(F.call(M,V)&&M!==te){var K=X(M,V);void 0!==K?M[V]=K:(H||(H=[]),H.push(V))}if(H)for(var Z=H.length;--Z>=0;)delete M[H[Z]]}return w.call(te,P,M)};b=X({"":b},"")}return b}}();(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),d.asn1.ASN1Util=new function(){this.integerToByteHex=function(s){var a=s.toString(16);return a.length%2==1&&(a="0"+a),a},this.bigIntToMinTwosComplementsHex=function(s){var a=s.toString(16);if("-"!=a.substr(0,1))a.length%2==1?a="0"+a:a.match(/^[0-7]/)||(a="00"+a);else{var c=a.substr(1).length;c%2==1?c+=1:a.match(/^[0-7]/)||(c+=2);for(var h="",p=0;p<c;p++)h+="f";a=new z(h,16).xor(s).add(z.ONE).toString(16).replace(/^-/,"")}return a},this.getPEMStringFromHex=function(s,a){return ft(s,a)},this.newObject=function(s){var u=d.asn1,c=u.ASN1Object,h=u.DERBoolean,p=u.DERInteger,g=u.DERBitString,v=u.DEROctetString,E=u.DERNull,x=u.DERObjectIdentifier,F=u.DEREnumerated,A=u.DERUTF8String,w=u.DERNumericString,y=u.DERPrintableString,b=u.DERTeletexString,D=u.DERIA5String,_=u.DERUTCTime,C=u.DERGeneralizedTime,N=u.DERVisibleString,k=u.DERBMPString,B=u.DERSequence,L=u.DERSet,X=u.DERTaggedObject,te=u.ASN1Util.newObject;if(s instanceof u.ASN1Object)return s;var P=Object.keys(s);if(1!=P.length)throw new Error("key of param shall be only one.");var M=P[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+M+":"))throw new Error("undefined key: "+M);if("bool"==M)return new h(s[M]);if("int"==M)return new p(s[M]);if("bitstr"==M)return new g(s[M]);if("octstr"==M)return new v(s[M]);if("null"==M)return new E(s[M]);if("oid"==M)return new x(s[M]);if("enum"==M)return new F(s[M]);if("utf8str"==M)return new A(s[M]);if("numstr"==M)return new w(s[M]);if("prnstr"==M)return new y(s[M]);if("telstr"==M)return new b(s[M]);if("ia5str"==M)return new D(s[M]);if("utctime"==M)return new _(s[M]);if("gentime"==M)return new C(s[M]);if("visstr"==M)return new N(s[M]);if("bmpstr"==M)return new k(s[M]);if("asn1"==M)return new c(s[M]);if("seq"==M){for(var H=s[M],V=[],K=0;K<H.length;K++){var Z=te(H[K]);V.push(Z)}return new B({array:V})}if("set"==M){for(H=s[M],V=[],K=0;K<H.length;K++)Z=te(H[K]),V.push(Z);return new L({array:V})}if("tag"==M){var $=s[M];if("[object Array]"===Object.prototype.toString.call($)&&3==$.length){var W=te($[2]);return new X({tag:$[0],explicit:$[1],obj:W})}return new X($)}},this.jsonToASN1HEX=function(s){return this.newObject(s).tohex()}},d.asn1.ASN1Util.oidHexToInt=function(s){for(var h="",a=parseInt(s.substr(0,2),16),p=(h=Math.floor(a/40)+"."+a%40,""),g=2;g<s.length;g+=2){var E=("00000000"+parseInt(s.substr(g,2),16).toString(2)).slice(-8);p+=E.substr(1,7),"0"==E.substr(0,1)&&(h=h+"."+new z(p,2).toString(10),p="")}return h},d.asn1.ASN1Util.oidIntToHex=function(s){var a=function(v){var E=v.toString(16);return 1==E.length&&(E="0"+E),E},u=function(v){var E="",F=new z(v,10).toString(2),A=7-F.length%7;7==A&&(A=0);for(var w="",y=0;y<A;y++)w+="0";for(F=w+F,y=0;y<F.length-1;y+=7){var b=F.substr(y,7);y!=F.length-7&&(b="1"+b),E+=a(parseInt(b,2))}return E};if(!s.match(/^[0-9.]+$/))throw"malformed oid string: "+s;var c="",h=s.split("."),p=40*parseInt(h[0])+parseInt(h[1]);c+=a(p),h.splice(0,2);for(var g=0;g<h.length;g++)c+=u(h[g]);return c},d.asn1.ASN1Object=function(s){this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var g=this.hV.length/2,v=g.toString(16);if(v.length%2==1&&(v="0"+v),g<128)return v;var E=v.length/2;if(E>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+g.toString(16));return(128+E).toString(16)+v},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(g){this.params=g},null!=s&&null!=s.tlv&&(this.hTLV=s.tlv,this.isModified=!1)},d.asn1.DERAbstractString=function(s){d.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(c){this.hTLV=null,this.isModified=!0,this.s=c,this.hV=_r(this.s).toLowerCase()},this.setStringHex=function(c){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=c},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s?this.setString(s):typeof s.str<"u"?this.setString(s.str):typeof s.hex<"u"&&this.setStringHex(s.hex))},re(d.asn1.DERAbstractString,d.asn1.ASN1Object),d.asn1.DERAbstractTime=function(s){d.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(c){var h=c.getTime()+6e4*c.getTimezoneOffset();return new Date(h)},this.formatDate=function(c,h,p){var g=this.zeroPadding,v=this.localDateToUTC(c),E=String(v.getFullYear());"utc"==h&&(E=E.substr(2,2));var b=E+g(String(v.getMonth()+1),2)+g(String(v.getDate()),2)+g(String(v.getHours()),2)+g(String(v.getMinutes()),2)+g(String(v.getSeconds()),2);if(!0===p){var D=v.getMilliseconds();if(0!=D){var _=g(String(D),3);b=b+"."+(_=_.replace(/[0]+$/,""))}}return b+"Z"},this.zeroPadding=function(c,h){return c.length>=h?c:new Array(h-c.length+1).join("0")+c},this.setByParam=function(c){this.hV=null,this.hTLV=null,this.params=c},this.getString=function(){},this.setString=function(c){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=c},this.setByDate=function(c){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=c},this.setByDateValue=function(c,h,p,g,v,E){var x=new Date(Date.UTC(c,h-1,p,g,v,E,0));this.setByDate(x)},this.getFreshValueHex=function(){return this.hV}},re(d.asn1.DERAbstractTime,d.asn1.ASN1Object),d.asn1.DERAbstractStructured=function(s){d.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array=u},this.appendASN1Object=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array.push(u)},this.asn1Array=new Array,typeof s<"u"&&typeof s.array<"u"&&(this.asn1Array=s.array)},re(d.asn1.DERAbstractStructured,d.asn1.ASN1Object),d.asn1.DERBoolean=function(s){d.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==s?"010100":"0101ff"},re(d.asn1.DERBoolean,d.asn1.ASN1Object),d.asn1.DERInteger=function(s){d.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=d.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var u=new z(String(a),10);this.setByBigInteger(u)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&(typeof s.bigint<"u"?this.setByBigInteger(s.bigint):typeof s.int<"u"?this.setByInteger(s.int):"number"==typeof s?this.setByInteger(s):typeof s.hex<"u"&&this.setValueHex(s.hex))},re(d.asn1.DERInteger,d.asn1.ASN1Object),d.asn1.DERBitString=function(s){if(void 0!==s&&typeof s.obj<"u"){var a=d.asn1.ASN1Util.newObject(s.obj);s.hex="00"+a.tohex()}d.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(u){this.hTLV=null,this.isModified=!0,this.hV=u},this.setUnusedBitsAndHexValue=function(u,c){if(u<0||7<u)throw"unused bits shall be from 0 to 7: u = "+u;var h="0"+u;this.hTLV=null,this.isModified=!0,this.hV=h+c},this.setByBinaryString=function(u){var c=8-(u=u.replace(/0+$/,"")).length%8;8==c&&(c=0),u+="0000000".substr(0,c);for(var h="",p=0;p<u.length-1;p+=8){var g=u.substr(p,8),v=parseInt(g,2).toString(16);1==v.length&&(v="0"+v),h+=v}this.hTLV=null,this.isModified=!0,this.hV="0"+c+h},this.setByBooleanArray=function(u){for(var c="",h=0;h<u.length;h++)c+=1==u[h]?"1":"0";this.setByBinaryString(c)},this.newFalseArray=function(u){for(var c=new Array(u),h=0;h<u;h++)c[h]=!1;return c},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s&&s.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(s):typeof s.hex<"u"?this.setHexValueIncludingUnusedBits(s.hex):typeof s.bin<"u"?this.setByBinaryString(s.bin):typeof s.array<"u"&&this.setByBooleanArray(s.array))},re(d.asn1.DERBitString,d.asn1.ASN1Object),d.asn1.DEROctetString=function(s){if(void 0!==s&&typeof s.obj<"u"){var a=d.asn1.ASN1Util.newObject(s.obj);s.hex=a.tohex()}d.asn1.DEROctetString.superclass.constructor.call(this,s),this.hT="04"},re(d.asn1.DEROctetString,d.asn1.DERAbstractString),d.asn1.DERNull=function(){d.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},re(d.asn1.DERNull,d.asn1.ASN1Object),d.asn1.DERObjectIdentifier=function(s){d.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueOidString=function(a){var u=function kc(s){var a=function(v){var E=v.toString(16);return 1==E.length&&(E="0"+E),E},u=function(v){var E="",F=parseInt(v,10).toString(2),A=7-F.length%7;7==A&&(A=0);for(var w="",y=0;y<A;y++)w+="0";for(F=w+F,y=0;y<F.length-1;y+=7){var b=F.substr(y,7);y!=F.length-7&&(b="1"+b),E+=a(parseInt(b,2))}return E};try{if(!s.match(/^[0-9.]+$/))return null;var c="",h=s.split("."),p=40*parseInt(h[0],10)+parseInt(h[1],10);c+=a(p),h.splice(0,2);for(var g=0;g<h.length;g++)c+=u(h[g]);return c}catch{return null}}(a);if(null==u)throw new Error("malformed oid string: "+a);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueName=function(a){var u=d.asn1.x509.OID.name2oid(a);if(""===u)throw new Error("DERObjectIdentifier oidName undefined: "+a);this.setValueOidString(u)},this.setValueNameOrOid=function(a){a.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(a):this.setValueName(a)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(a){"string"==typeof a?this.setValueNameOrOid(a):void 0!==a.oid?this.setValueNameOrOid(a.oid):void 0!==a.name?this.setValueNameOrOid(a.name):void 0!==a.hex&&this.setValueHex(a.hex)},void 0!==s&&this.setByParam(s)},re(d.asn1.DERObjectIdentifier,d.asn1.ASN1Object),d.asn1.DEREnumerated=function(s){d.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=d.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var u=new z(String(a),10);this.setByBigInteger(u)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&(typeof s.int<"u"?this.setByInteger(s.int):"number"==typeof s?this.setByInteger(s):typeof s.hex<"u"&&this.setValueHex(s.hex))},re(d.asn1.DEREnumerated,d.asn1.ASN1Object),d.asn1.DERUTF8String=function(s){d.asn1.DERUTF8String.superclass.constructor.call(this,s),this.hT="0c"},re(d.asn1.DERUTF8String,d.asn1.DERAbstractString),d.asn1.DERNumericString=function(s){d.asn1.DERNumericString.superclass.constructor.call(this,s),this.hT="12"},re(d.asn1.DERNumericString,d.asn1.DERAbstractString),d.asn1.DERPrintableString=function(s){d.asn1.DERPrintableString.superclass.constructor.call(this,s),this.hT="13"},re(d.asn1.DERPrintableString,d.asn1.DERAbstractString),d.asn1.DERTeletexString=function(s){d.asn1.DERTeletexString.superclass.constructor.call(this,s),this.hT="14"},re(d.asn1.DERTeletexString,d.asn1.DERAbstractString),d.asn1.DERIA5String=function(s){d.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="16"},re(d.asn1.DERIA5String,d.asn1.DERAbstractString),d.asn1.DERVisibleString=function(s){d.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="1a"},re(d.asn1.DERVisibleString,d.asn1.DERAbstractString),d.asn1.DERBMPString=function(s){d.asn1.DERBMPString.superclass.constructor.call(this,s),this.hT="1e"},re(d.asn1.DERBMPString,d.asn1.DERAbstractString),d.asn1.DERUTCTime=function(s){d.asn1.DERUTCTime.superclass.constructor.call(this,s),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var a=this.params;if(null==this.params&&(a={date:new Date}),"string"==typeof a){if(!a.match(/^[0-9]{12}Z$/)&&!a.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+a);this.hV=Vt(a)}else null!=a.str?this.hV=Vt(a.str):null==a.date&&1==a.millis?this.hV=Vt(this.formatDate(new Date,"utc",!0)):null!=a.date&&a.date instanceof Date?this.hV=Vt(this.formatDate(a.date,"utc",!0===a.millis)):a instanceof Date&&(this.hV=Vt(this.formatDate(a,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=s&&this.setByParam(s)},re(d.asn1.DERUTCTime,d.asn1.DERAbstractTime),d.asn1.DERGeneralizedTime=function(s){d.asn1.DERGeneralizedTime.superclass.constructor.call(this,s),this.hT="18",this.params=s,this.getFreshValueHex=function(){var a=this.params;if(null==this.params&&(a={date:new Date}),"string"==typeof a){if(!a.match(/^[0-9]{14}Z$/)&&!a.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+a);this.hV=Vt(a)}else null!=a.str?this.hV=Vt(a.str):null==a.date&&1==a.millis?this.hV=Vt(this.formatDate(new Date,"gen",!0)):null!=a.date&&a.date instanceof Date?this.hV=Vt(this.formatDate(a.date,"gen",!0===a.millis)):a instanceof Date&&(this.hV=Vt(this.formatDate(a,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=s&&this.setByParam(s)},re(d.asn1.DERGeneralizedTime,d.asn1.DERAbstractTime),d.asn1.DERSequence=function(s){d.asn1.DERSequence.superclass.constructor.call(this,s),this.hT="30",this.getFreshValueHex=function(){for(var a="",u=0;u<this.asn1Array.length;u++)a+=this.asn1Array[u].tohex();return this.hV=a,this.hV}},re(d.asn1.DERSequence,d.asn1.DERAbstractStructured),d.asn1.DERSet=function(s){d.asn1.DERSet.superclass.constructor.call(this,s),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var a=new Array,u=0;u<this.asn1Array.length;u++)a.push(this.asn1Array[u].tohex());return 1==this.sortFlag&&a.sort(),this.hV=a.join(""),this.hV},typeof s<"u"&&typeof s.sortflag<"u"&&0==s.sortflag&&(this.sortFlag=!1)},re(d.asn1.DERSet,d.asn1.DERAbstractStructured),d.asn1.DERTaggedObject=function(s){d.asn1.DERTaggedObject.superclass.constructor.call(this);var a=d.asn1,c=fe.getV,p=a.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(g,v,E){this.params={tag:v,explicit:g,obj:E}},this.getFreshValueHex=function(){var g=this.params;if(null==g.explicit&&(g.explicit=!0),null!=g.tage&&(g.tag=g.tage,g.explicit=!0),null!=g.tagi&&(g.tag=g.tagi,g.explicit=!1),null!=g.str)this.hV=_r(g.str);else if(null!=g.hex)this.hV=g.hex;else{if(null==g.obj)throw new Error("str, hex nor obj not specified");var v;g.obj instanceof a.ASN1Object?v=g.obj.tohex():"object"==typeof g.obj&&(v=p(g.obj).tohex()),this.hV=g.explicit?v:c(v,0)}return null==g.tag&&(g.tag="a0"),this.hT=g.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(g){this.params=g},void 0!==s&&this.setByParam(s)},re(d.asn1.DERTaggedObject,d.asn1.ASN1Object);var d,Ri,nn,fe=new function(){};function ks(s){for(var a="",u=0;u<s.length;u++){var c=s[u].toString(16);1==c.length&&(c="0"+c),a+=c}return a}function Vt(s){return ks(function fu(s){for(var a=new Array,u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}(s))}function Xe(s){return(s=(s=s.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function zr(s){return s.length%4==2?s+="==":s.length%4==3&&(s+="="),(s=s.replace(/-/g,"+")).replace(/_/g,"/")}function Gt(s){return s.length%2==1&&(s="0"+s),Xe(ne(s))}function Et(s){return It(zr(s))}function _r(s){return sn(Pr(s)).toLowerCase()}function lt(s){try{return decodeURIComponent(Rr(s))}catch{return null}}function Mc(s){return lt(function ai(s){for(var a=s.match(/.{1,2}/g),u=[],c=0;c<a.length;c++){var h=parseInt(a[c],16);161<=h&&h<=191?(u.push("c2"),u.push(a[c])):192<=h&&h<=255?(u.push("c3"),u.push((h-64).toString(16))):u.push(a[c])}return u.join("")}(s))}function wn(s){for(var a="",u=0;u<s.length-1;u+=2)a+=String.fromCharCode(parseInt(s.substr(u,2),16));return a}function Ct(s){for(var a="",u=0;u<s.length;u++)a+=("0"+s.charCodeAt(u).toString(16)).slice(-2);return a}function ft(s,a){return"-----BEGIN "+a+"-----\r\n"+function rn(s,a){return s.replace(new RegExp("(.{"+a+"})","g"),"$1\r\n")}(function In(s){return ne(s)}(s),64)+"\r\n-----END "+a+"-----\r\n"}function Ot(s,a){if(-1==s.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return function Nn(s){return It(s.replace(/[^0-9A-Za-z\/+=]*/g,""))}(s=void 0!==a?(s=s.replace(new RegExp("^[^]*-----BEGIN "+a+"-----"),"")).replace(new RegExp("-----END "+a+"-----[^]*$"),""):(s=s.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ve(s){return Math.round(function ge(s){var a,u,c,h,p,g,v,F,A,w;if(w=(s=function Kr(s){return s.match(/^[0-9]{12}Z$/)||s.match(/^[0-9]{12}[.][0-9]*Z$/)?s.match(/^[0-4]/)?"20"+s:"19"+s:s}(s)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return a=parseInt(w[1]),u=parseInt(w[2])-1,c=parseInt(w[3]),h=parseInt(w[4]),p=parseInt(w[5]),g=parseInt(w[6]),v=0,""!==(F=w[7])&&(A=(F.substr(1)+"00").substr(0,3),v=parseInt(A)),Date.UTC(a,u,c,h,p,g,v);throw new Error("unsupported zulu format: "+s)}(s)/1e3)}function sn(s){return s.replace(/%/g,"")}function Rr(s){return s.replace(/(..)/g,"%$1")}function kt(s){var a="malformed IPv6 address";if(!s.match(/^[0-9A-Fa-f:]+$/))throw a;var u=(s=s.toLowerCase()).split(":").length-1;if(u<2)throw a;var c=":".repeat(7-u+2),h=(s=s.replace("::",c)).split(":");if(8!=h.length)throw a;for(var p=0;p<8;p++)h[p]=("0000"+h[p]).slice(-4);return h.join("")}function Ni(s){if(!s.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+s);var a=(s=s.toLowerCase()).match(/.{1,4}/g);a=a.map(function(h){return h.replace(/^0+/,"")}),a=a.map(function(h){return""==h?"0":h});var u=(s=":"+a.join(":")+":").match(/:(0:){2,}/g);if(null==u)return s.slice(1,-1);var c=u.sort().slice(-1)[0];return"::"!=(s=s.replace(c.substr(0,c.length-1),":")).substr(0,2)&&(s=s.substr(1)),"::"!=s.substr(-2,2)&&(s=s.substr(0,s.length-1)),s}function ui(s){var a=new Error("malformed hex value");if(!s.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw a;if(8==s.length)try{return parseInt(s.substr(0,2),16)+"."+parseInt(s.substr(2,2),16)+"."+parseInt(s.substr(4,2),16)+"."+parseInt(s.substr(6,2),16)}catch{throw a}else{if(16!=s.length){if(32==s.length)return Ni(s);if(64==s.length){try{return Ni(s.substr(0,32))+"/"+$e(s.substr(32))}catch{throw a}return}return s}try{return ui(s.substr(0,8))+"/"+$e(s.substr(8))}catch{throw a}}}function $e(s){var u,a=new Error("malformed mask");try{u=new z(s,16).toString(2)}catch{throw a}if(!u.match(/^1*0*$/))throw a;return u.replace(/0+$/,"").length}function ss(s){var a=new Error("malformed IP address");if(!(s=s.toLowerCase(s)).match(/^[0-9a-f.:/]+$/))throw a;if(!s.match(/^[0-9.]+$/)){var g;if(s.match(/^[0-9.]+\/[0-9]+$/))return ss((g=s.split("/"))[0])+Mi(parseInt(g[1]),32);if(s.match(/^[0-9a-f:]+$/)&&-1!==s.indexOf(":"))return kt(s);if(s.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==s.indexOf(":"))return kt((g=s.split("/"))[0])+Mi(parseInt(g[1]),128);throw a}var u=s.split(".");if(4!==u.length)throw a;var c="";try{for(var h=0;h<4;h++)c+=("0"+parseInt(u[h]).toString(16)).slice(-2);return c}catch{throw a}}function Mi(s,a){return 32==a&&0==s?"00000000":128==a&&0==s?"00000000000000000000000000000000":new z(Array(s+1).join("1")+Array(a-s+1).join("0"),2).toString(16)}function Bs(s){var c=s.match(/.{4}/g).map(function a(h){var p=parseInt(h.substr(0,2),16),g=parseInt(h.substr(2),16);if(0==p&g<128)return String.fromCharCode(g);if(p<8){var E=128|63&g;return lt((192|(7&p)<<3|(192&g)>>6).toString(16)+E.toString(16))}E=128|(15&p)<<2|(192&g)>>6;var x=128|63&g;return lt((224|(240&p)>>4).toString(16)+E.toString(16)+x.toString(16))});return c.join("")}function Pr(s){for(var a=encodeURIComponent(s),u="",c=0;c<a.length;c++)"%"==a[c]?(u+=a.substr(c,3),c+=2):u=u+"%"+Vt(a[c]);return u}function li(s){return!(s.length%2!=0||!s.match(/^[0-9a-f]+$/)&&!s.match(/^[0-9A-F]+$/))}function er(s){return!!s.match(/^[0-9A-Za-z-_.]+$/)}function ci(s){return s.length%2==1?"0"+s:s.substr(0,1)>"7"?"00"+s:s}function Oi(s){if(!li(s))return null;try{var a=[],u=s.substr(0,2),c=parseInt(u,16);a[0]=new String(Math.floor(c/40)),a[1]=new String(c%40);for(var h=s.substr(2),p=[],g=0;g<h.length/2;g++)p.push(parseInt(h.substr(2*g,2),16));var v=[],E="";for(g=0;g<p.length;g++)128&p[g]?E+=as((127&p[g]).toString(2),7):(E+=as((127&p[g]).toString(2),7),v.push(new String(parseInt(E,2))),E="");var x=a.join(".");return v.length>0&&(x=x+"."+v.join(".")),x}catch{return null}}fe.getLblen=function(s,a){if("8"!=s.substr(a+2,1))return 1;var u=parseInt(s.substr(a+3,1));return 0==u?-1:0<u&&u<10?u+1:-2},fe.getL=function(s,a){var u=fe.getLblen(s,a);return u<1?"":s.substr(a+2,2*u)},fe.getVblen=function(s,a){var u;return""==(u=fe.getL(s,a))?-1:("8"===u.substr(0,1)?new z(u.substr(2),16):new z(u,16)).intValue()},fe.getVidx=function(s,a){var u=fe.getLblen(s,a);return u<0?u:a+2*(u+1)},fe.getV=function(s,a){var u=fe.getVidx(s,a),c=fe.getVblen(s,a);return s.substr(u,2*c)},fe.getTLV=function(s,a){return s.substr(a,2)+fe.getL(s,a)+fe.getV(s,a)},fe.getTLVblen=function(s,a){return 2+2*fe.getLblen(s,a)+2*fe.getVblen(s,a)},fe.getNextSiblingIdx=function(s,a){return fe.getVidx(s,a)+2*fe.getVblen(s,a)},fe.getChildIdx=function(s,a){var h,p,g,u=fe,c=[];h=u.getVidx(s,a),p=2*u.getVblen(s,a),"03"==s.substr(a,2)&&(h+=2,p-=2),g=0;for(var v=h;g<=p;){var E=u.getTLVblen(s,v);if((g+=E)<=p&&c.push(v),v+=E,g>=p)break}return c},fe.getNthChildIdx=function(s,a,u){return fe.getChildIdx(s,a)[u]},fe.getIdxbyList=function(s,a,u,c){var p,g,h=fe;return 0==u.length?void 0!==c&&s.substr(a,2)!==c?-1:a:(p=u.shift())>=(g=h.getChildIdx(s,a)).length?-1:h.getIdxbyList(s,g[p],u,c)},fe.getIdxbyListEx=function(s,a,u,c){var p,g,h=fe;if(0==u.length)return void 0!==c&&s.substr(a,2)!==c?-1:a;p=u.shift(),g=h.getChildIdx(s,a);for(var v=0,E=0;E<g.length;E++){var x=s.substr(g[E],2);if("number"==typeof p&&!h.isContextTag(x)&&v==p||"string"==typeof p&&h.isContextTag(x,p))return h.getIdxbyListEx(s,g[E],u,c);h.isContextTag(x)||v++}return-1},fe.getTLVbyList=function(s,a,u,c){var h=fe,p=h.getIdxbyList(s,a,u,c);return-1==p||p>=s.length?null:h.getTLV(s,p)},fe.getTLVbyListEx=function(s,a,u,c){var h=fe,p=h.getIdxbyListEx(s,a,u,c);return-1==p?null:h.getTLV(s,p)},fe.getVbyList=function(s,a,u,c,h){var g,v,p=fe;return-1==(g=p.getIdxbyList(s,a,u,c))||g>=s.length?null:(v=p.getV(s,g),!0===h&&(v=v.substr(2)),v)},fe.getVbyListEx=function(s,a,u,c,h){var g,E,p=fe;return-1==(g=p.getIdxbyListEx(s,a,u,c))?null:(E=p.getV(s,g),"03"==s.substr(g,2)&&!1!==h&&(E=E.substr(2)),E)},fe.getInt=function(s,a,u){null==u&&(u=-1);try{var c=s.substr(a,2);if("02"!=c&&"03"!=c)return u;var h=fe.getV(s,a);return"02"==c?parseInt(h,16):function us(s){if(s.length%2!=0||null==(s=s.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var a=s.substr(0,2);if("00"==a)return parseInt(s.substr(2),16);var u=parseInt(a,16);if(u>7)return-1;var c=s.substr(2),h=parseInt(c,16).toString(2);"0"==h&&(h="00000000"),h=h.slice(0,0-u);var p=parseInt(h,2);return NaN==p?-1:p}catch{return-1}}(h)}catch{return u}},fe.getOID=function(s,a,u){null==u&&(u=null);try{return"06"!=s.substr(a,2)?u:Oi(fe.getV(s,a))}catch{return u}},fe.getOIDName=function(s,a,u){null==u&&(u=null);try{var c=fe.getOID(s,a,u);if(c==u)return u;var h=d.asn1.x509.OID.oid2name(c);return""==h?c:h}catch{return u}},fe.getString=function(s,a,u){null==u&&(u=null);try{return wn(fe.getV(s,a))}catch{return u}},fe.hextooidstr=function(s){var a=function(A,w){return A.length>=w?A:new Array(w-A.length+1).join("0")+A},u=[],c=s.substr(0,2),h=parseInt(c,16);u[0]=new String(Math.floor(h/40)),u[1]=new String(h%40);for(var p=s.substr(2),g=[],v=0;v<p.length/2;v++)g.push(parseInt(p.substr(2*v,2),16));var E=[],x="";for(v=0;v<g.length;v++)128&g[v]?x+=a((127&g[v]).toString(2),7):(x+=a((127&g[v]).toString(2),7),E.push(new String(parseInt(x,2))),x="");var F=u.join(".");return E.length>0&&(F=F+"."+E.join(".")),F},fe.dump=function(s,a,u,c){var h=fe,p=h.getV,g=h.dump,v=h.getChildIdx,E=s;s instanceof d.asn1.ASN1Object&&(E=s.tohex());var x=function(te,P){return te.length<=2*P?te:te.substr(0,P)+"..(total "+te.length/2+"bytes).."+te.substr(te.length-P,P)};void 0===a&&(a={ommit_long_octet:32}),void 0===u&&(u=0),void 0===c&&(c="");var L,F=a.ommit_long_octet;if("01"==(L=E.substr(u,2)))return"00"==(A=p(E,u))?c+"BOOLEAN FALSE\n":c+"BOOLEAN TRUE\n";if("02"==L)return c+"INTEGER "+x(A=p(E,u),F)+"\n";if("03"==L){var A=p(E,u);return h.isASN1HEX(A.substr(2))?(w=c+"BITSTRING, encapsulates\n")+g(A.substr(2),a,0,c+"  "):c+"BITSTRING "+x(A,F)+"\n"}if("04"==L)return A=p(E,u),h.isASN1HEX(A)?(w=c+"OCTETSTRING, encapsulates\n")+g(A,a,0,c+"  "):c+"OCTETSTRING "+x(A,F)+"\n";if("05"==L)return c+"NULL\n";if("06"==L){var y=p(E,u),b=d.asn1.ASN1Util.oidHexToInt(y),D=d.asn1.x509.OID.oid2name(b),_=b.replace(/\./g," ");return""!=D?c+"ObjectIdentifier "+D+" ("+_+")\n":c+"ObjectIdentifier ("+_+")\n"}if("0a"==L)return c+"ENUMERATED "+parseInt(p(E,u))+"\n";if("0c"==L)return c+"UTF8String '"+lt(p(E,u))+"'\n";if("13"==L)return c+"PrintableString '"+lt(p(E,u))+"'\n";if("14"==L)return c+"TeletexString '"+lt(p(E,u))+"'\n";if("16"==L)return c+"IA5String '"+lt(p(E,u))+"'\n";if("17"==L)return c+"UTCTime "+lt(p(E,u))+"\n";if("18"==L)return c+"GeneralizedTime "+lt(p(E,u))+"\n";if("1a"==L)return c+"VisualString '"+lt(p(E,u))+"'\n";if("1e"==L)return c+"BMPString '"+Bs(p(E,u))+"'\n";if("30"==L){if("3000"==E.substr(u,4))return c+"SEQUENCE {}\n";w=c+"SEQUENCE\n";var N=a;if((2==(C=v(E,u)).length||3==C.length)&&"06"==E.substr(C[0],2)&&"04"==E.substr(C[C.length-1],2)){D=h.oidname(p(E,C[0]));var k=JSON.parse(JSON.stringify(a));k.x509ExtName=D,N=k}for(var B=0;B<C.length;B++)w+=g(E,N,C[B],c+"  ");return w}if("31"==L){w=c+"SET\n";var C=v(E,u);for(B=0;B<C.length;B++)w+=g(E,a,C[B],c+"  ");return w}if(128&(L=parseInt(L,16))){var w,X=31&L;if(32&L){for(w=c+"["+X+"]\n",C=v(E,u),B=0;B<C.length;B++)w+=g(E,a,C[B],c+"  ");return w}return A=p(E,u),fe.isASN1HEX(A)?(w=c+"["+X+"]\n")+g(A,a,0,c+"  "):(("68747470"==A.substr(0,8)||"subjectAltName"===a.x509ExtName&&2==X)&&(A=lt(A)),c+"["+X+"] "+A+"\n")}return c+"UNKNOWN("+L+") "+p(E,u)+"\n"},fe.parse=function(s){var u=fe.parse,c=fe.isASN1HEX,h=fe.getV,p=fe.getTLV,g=fe.getChildIdx,v=d.asn1,E=v.ASN1Util.oidHexToInt,x=v.x509.OID.oid2name,F=lt,A=Bs,w=Mc,y={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},D=s.substr(0,2),_={},C=h(s,0);if("01"==D)return"0101ff"==s?{bool:!0}:{bool:!1};if("02"==D)return{int:{hex:C}};if("03"==D)try{if("00"!=C.substr(0,2))throw"not encap";var N=C.substr(2);if(!c(N))throw"not encap";return{bitstr:{obj:u(N)}}}catch{var k=null;return C.length<=10&&(k=function fi(s){if("string"!=typeof s||s.length%2!=0||!s.match(/^[0-9a-f]+$/))return null;try{var a=parseInt(s.substr(0,2),16);if(a<0||7<a)return null;for(var u=s.substr(2),c="",h=0;h<u.length;h+=2){var p=u.substr(h,2),g=parseInt(p,16).toString(2);c+=g=("0000000"+g).slice(-8)}return c.substr(0,c.length-a)}catch{return null}}(C)),null==k?{bitstr:{hex:C}}:{bitstr:{bin:k}}}else if("04"==D)try{if(!c(C))throw"not encap";return{octstr:{obj:u(C)}}}catch{return{octstr:{hex:C}}}else{if("05"==D)return{null:""};if("06"==D){var B=E(C),L=x(B);return""==L?{oid:B}:{oid:L}}if("0a"==D)return C.length>4?{enum:{hex:C}}:{enum:parseInt(C,16)};if("30"==D||"31"==D)return _[y[D]]=function(M){for(var H=[],V=g(M,0),K=0;K<V.length;K++){var $=p(M,V[K]),W=u($);H.push(W)}return H}(s),_;if("14"==D){var X=w(C);return _[y[D]]={str:X},_}if("1e"==D)return X=A(C),_[y[D]]={str:X},_;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(D))return X=F(C),_[y[D]]={str:X},_;if(D.match(/^8[0-9]$/))return null==(X=F(C))|""==X||null!=X.match(/[\x00-\x1F\x7F-\x9F]/)||null!=X.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:D,explicit:!1,hex:C}}:{tag:{tag:D,explicit:!1,str:X}};if(!D.match(/^a[0-9]$/)){var te=new d.asn1.ASN1Object;return te.hV=C,{asn1:{tlv:D+te.getLengthHexFromValue()+C}}}try{if(!c(C))throw new Error("not encap");return{tag:{tag:D,explicit:!0,obj:u(C)}}}catch{return{tag:{tag:D,explicit:!0,hex:C}}}}},fe.isContextTag=function(s,a){var u,c;s=s.toLowerCase();try{u=parseInt(s,16)}catch{return-1}if(void 0===a)return 128==(192&u);try{return!(null==a.match(/^\[[0-9]+\]$/)||(c=parseInt(a.substr(1,a.length-1),10),c>31))&&128==(192&u)&&(31&u)==c}catch{return!1}},fe.isASN1HEX=function(s){var a=fe;if(s.length%2==1)return!1;var u=a.getVblen(s,0),c=s.substr(0,2),h=a.getL(s,0);return s.length-c.length-h.length==2*u},fe.checkStrictDER=function(s,a,u,c,h){var p=fe;if(void 0===u){if("string"!=typeof s)throw new Error("not hex string");if(s=s.toLowerCase(),!d.lang.String.isHex(s))throw new Error("not hex string");u=s.length,h=(c=s.length/2)<128?1:Math.ceil(c.toString(16))+1}if(p.getL(s,a).length>2*h)throw new Error("L of TLV too long: idx="+a);var v=p.getVblen(s,a);if(v>c)throw new Error("value of L too long than hex: idx="+a);var E=p.getTLV(s,a),x=E.length-2-p.getL(s,a).length;if(x!==2*v)throw new Error("V string length and L's value not the same:"+x+"/"+2*v);if(0===a&&s.length!=E.length)throw new Error("total length and TLV length unmatch:"+s.length+"!="+E.length);var F=s.substr(a,2);if("02"===F){var A=p.getVidx(s,a);if("00"==s.substr(A,2)&&s.charCodeAt(A+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(F,16)){for(var w=p.getVblen(s,a),y=0,b=p.getChildIdx(s,a),D=0;D<b.length;D++)y+=p.getTLV(s,b[D]).length,p.checkStrictDER(s,b[D],u,c,h);if(2*w!=y)throw new Error("sum of children's TLV length and L unmatch: "+2*w+"!="+y)}},fe.oidname=function(s){var a=d.asn1;d.lang.String.isHex(s)&&(s=a.ASN1Util.oidHexToInt(s));var u=a.x509.OID.oid2name(s);return""===u&&(u=s),u},(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),(typeof d.asn1.x509>"u"||!d.asn1.x509)&&(d.asn1.x509={}),d.asn1.x509.Certificate=function(s){d.asn1.x509.Certificate.superclass.constructor.call(this);var u=d.asn1,c=u.DERBitString,h=u.DERSequence,p=u.x509,g=p.TBSCertificate,v=p.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(E){this.params=E},this.sign=function(){var E=this.params,x=E.sigalg;null!=E.sigalg.name&&(x=E.sigalg.name);var F=E.tbsobj.tohex(),A=new d.crypto.Signature({alg:x});A.init(E.cakey),A.updateHex(F),E.sighex=A.sign()},this.getPEM=function(){return ft(this.tohex(),"CERTIFICATE")},this.tohex=function(){var E=this.params;if((null==E.tbsobj||null==E.tbsobj)&&(E.tbsobj=new g(E)),null==E.sighex&&null!=E.cakey&&this.sign(),null==E.sighex)throw new Error("sighex or cakey parameter not defined");var x=[];return x.push(E.tbsobj),x.push(new v({name:E.sigalg})),x.push(new c({hex:"00"+E.sighex})),new h({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},re(d.asn1.x509.Certificate,d.asn1.ASN1Object),d.asn1.x509.TBSCertificate=function(s){d.asn1.x509.TBSCertificate.superclass.constructor.call(this);var u=d.asn1,c=u.x509,h=u.DERTaggedObject,p=u.DERInteger,g=u.DERSequence,v=c.AlgorithmIdentifier,E=c.Time,x=c.X500Name,F=c.Extensions,A=c.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(w){this.params=w},this.tohex=function(){var w=[],y=this.params;if(null!=y.version||1!=y.version){var b=2;null!=y.version&&(b=y.version-1);var D=new h({obj:new p({int:b})});w.push(D)}return w.push(new p(y.serial)),w.push(new v({name:y.sigalg})),w.push(new x(y.issuer)),w.push(new g({array:[new E(y.notbefore),new E(y.notafter)]})),w.push(new x(y.subject)),w.push(new A(je.getKey(y.sbjpubkey))),void 0!==y.ext&&y.ext.length>0&&w.push(new h({tag:"a3",obj:new F(y.ext)})),new d.asn1.DERSequence({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.TBSCertificate,d.asn1.ASN1Object),d.asn1.x509.Extensions=function(s){d.asn1.x509.Extensions.superclass.constructor.call(this);var u=d.asn1,c=u.DERSequence,h=u.x509;this.aParam=[],this.setByParam=function(p){this.aParam=p},this.tohex=function(){for(var p=[],g=0;g<this.aParam.length;g++){var v=this.aParam[g],E=v.extname,x=null;if(null!=v.extn)x=new h.PrivateExtension(v);else if("subjectKeyIdentifier"==E)x=new h.SubjectKeyIdentifier(v);else if("keyUsage"==E)x=new h.KeyUsage(v);else if("subjectAltName"==E)x=new h.SubjectAltName(v);else if("issuerAltName"==E)x=new h.IssuerAltName(v);else if("basicConstraints"==E)x=new h.BasicConstraints(v);else if("nameConstraints"==E)x=new h.NameConstraints(v);else if("cRLDistributionPoints"==E)x=new h.CRLDistributionPoints(v);else if("certificatePolicies"==E)x=new h.CertificatePolicies(v);else if("policyMappings"==E)x=new h.PolicyMappings(v);else if("policyConstraints"==E)x=new h.PolicyConstraints(v);else if("inhibitAnyPolicy"==E)x=new h.InhibitAnyPolicy(v);else if("authorityKeyIdentifier"==E)x=new h.AuthorityKeyIdentifier(v);else if("extKeyUsage"==E)x=new h.ExtKeyUsage(v);else if("authorityInfoAccess"==E)x=new h.AuthorityInfoAccess(v);else if("cRLNumber"==E)x=new h.CRLNumber(v);else if("cRLReason"==E)x=new h.CRLReason(v);else if("ocspNonce"==E)x=new h.OCSPNonce(v);else if("ocspNoCheck"==E)x=new h.OCSPNoCheck(v);else if("adobeTimeStamp"==E)x=new h.AdobeTimeStamp(v);else{if("subjectDirectoryAttributes"!=E)throw new Error("extension not supported:"+JSON.stringify(v));x=new h.SubjectDirectoryAttributes(v)}null!=x&&p.push(x)}return new c({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.x509.Extensions,d.asn1.ASN1Object),d.asn1.x509.Extension=function(s){d.asn1.x509.Extension.superclass.constructor.call(this);var c=d.asn1,h=c.DERObjectIdentifier,p=c.DEROctetString,v=c.DERBoolean,E=c.DERSequence;this.tohex=function(){var x=new h({oid:this.oid}),F=new p({hex:this.getExtnValueHex()}),A=new Array;return A.push(x),this.critical&&A.push(new v),A.push(F),new E({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==s&&void 0!==s.critical&&(this.critical=s.critical)},re(d.asn1.x509.Extension,d.asn1.ASN1Object),d.asn1.x509.KeyUsage=function(s){d.asn1.x509.KeyUsage.superclass.constructor.call(this,s);var a=Error,u={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var c=this.getBinValue();return this.asn1ExtnValue=new d.asn1.DERBitString({bin:c}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var c=this.params;if("object"!=typeof c||"object"!=typeof c.names&&"string"!=typeof c.bin)throw new a("parameter not yet set");if(null!=c.names)return Wo(c.names,u);if(null!=c.bin)return c.bin;throw new a("parameter not set properly")},this.oid="2.5.29.15",void 0!==s&&(this.params=s)},re(d.asn1.x509.KeyUsage,d.asn1.x509.Extension),d.asn1.x509.BasicConstraints=function(s){d.asn1.x509.BasicConstraints.superclass.constructor.call(this,s);var a=d.asn1,u=a.DERBoolean,c=a.DERInteger,h=a.DERSequence;this.getExtnValueHex=function(){var v=new Array;this.cA&&v.push(new u),this.pathLen>-1&&v.push(new c({int:this.pathLen}));var E=new h({array:v});return this.asn1ExtnValue=E,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==s&&(void 0!==s.cA&&(this.cA=s.cA),void 0!==s.pathLen&&(this.pathLen=s.pathLen))},re(d.asn1.x509.BasicConstraints,d.asn1.x509.Extension),d.asn1.x509.CRLDistributionPoints=function(s){d.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,s);var u=d.asn1,c=u.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(h){for(var p=[],g=0;g<h.length;g++)if(h[g]instanceof d.asn1.ASN1Object)p.push(h[g]);else{var v=new c.DistributionPoint(h[g]);p.push(v)}this.asn1ExtnValue=new u.DERSequence({array:p})},this.setByOneURI=function(h){var p=new c.DistributionPoint({fulluri:h});this.setByDPArray([p])},this.oid="2.5.29.31",void 0!==s&&(void 0!==s.array?this.setByDPArray(s.array):void 0!==s.uri&&this.setByOneURI(s.uri))},re(d.asn1.x509.CRLDistributionPoints,d.asn1.x509.Extension),d.asn1.x509.DistributionPoint=function(s){d.asn1.x509.DistributionPoint.superclass.constructor.call(this);var c=d.asn1,h=c.x509.DistributionPointName;this.tohex=function(){var p=new c.DERSequence;if(null!=this.asn1DP){var g=new c.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});p.appendASN1Object(g)}return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.dpobj?this.asn1DP=s.dpobj:void 0!==s.dpname?this.asn1DP=new h(s.dpname):void 0!==s.fulluri&&(this.asn1DP=new h({full:[{uri:s.fulluri}]})))},re(d.asn1.x509.DistributionPoint,d.asn1.ASN1Object),d.asn1.x509.DistributionPointName=function(s){d.asn1.x509.DistributionPointName.superclass.constructor.call(this);var g=d.asn1,v=g.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new v({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s)if(g.x509.GeneralNames.prototype.isPrototypeOf(s))this.type="full",this.tag="a0",this.asn1V=s;else{if(void 0===s.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new g.x509.GeneralNames(s.full)}},re(d.asn1.x509.DistributionPointName,d.asn1.ASN1Object),d.asn1.x509.CertificatePolicies=function(s){d.asn1.x509.CertificatePolicies.superclass.constructor.call(this,s);var u=d.asn1,h=u.DERSequence,p=u.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var g=[],v=0;v<this.params.array.length;v++)g.push(new p(this.params.array[v]));var E=new h({array:g});return this.asn1ExtnValue=E,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==s&&(this.params=s)},re(d.asn1.x509.CertificatePolicies,d.asn1.x509.Extension),d.asn1.x509.PolicyInformation=function(s){d.asn1.x509.PolicyInformation.superclass.constructor.call(this,s);var a=d.asn1,u=a.DERSequence,c=a.DERObjectIdentifier,h=a.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var p=[new c(this.params.policyoid)];if(void 0!==this.params.array){for(var g=[],v=0;v<this.params.array.length;v++)g.push(new h(this.params.array[v]));g.length>0&&p.push(new u({array:g}))}return new u({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},re(d.asn1.x509.PolicyInformation,d.asn1.ASN1Object),d.asn1.x509.PolicyQualifierInfo=function(s){d.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,s);var a=d.asn1,u=a.DERSequence,c=a.DERIA5String,h=a.DERObjectIdentifier,p=a.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new u({array:[new h({oid:"1.3.6.1.5.5.7.2.1"}),new c({str:this.params.cps})]}).tohex():null!=this.params.unotice?new u({array:[new h({oid:"1.3.6.1.5.5.7.2.2"}),new p(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},re(d.asn1.x509.PolicyQualifierInfo,d.asn1.ASN1Object),d.asn1.x509.UserNotice=function(s){d.asn1.x509.UserNotice.superclass.constructor.call(this,s);var a=d.asn1.DERSequence,c=d.asn1.x509.DisplayText,h=d.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var p=[];return void 0!==this.params.noticeref&&p.push(new h(this.params.noticeref)),void 0!==this.params.exptext&&p.push(new c(this.params.exptext)),new a({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},re(d.asn1.x509.UserNotice,d.asn1.ASN1Object),d.asn1.x509.NoticeReference=function(s){d.asn1.x509.NoticeReference.superclass.constructor.call(this,s);var a=d.asn1.DERSequence,u=d.asn1.DERInteger,c=d.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var h=[];if(void 0!==this.params.org&&h.push(new c(this.params.org)),void 0!==this.params.noticenum){for(var p=[],g=this.params.noticenum,v=0;v<g.length;v++)p.push(new u(g[v]));h.push(new a({array:p}))}if(0==h.length)throw new Error("parameter is empty");return new a({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},re(d.asn1.x509.NoticeReference,d.asn1.ASN1Object),d.asn1.x509.DisplayText=function(s){d.asn1.x509.DisplayText.superclass.constructor.call(this,s),this.hT="0c",void 0!==s&&("ia5"===s.type?this.hT="16":"vis"===s.type?this.hT="1a":"bmp"===s.type&&(this.hT="1e"))},re(d.asn1.x509.DisplayText,d.asn1.DERAbstractString),d.asn1.x509.PolicyMappings=function(s){d.asn1.x509.PolicyMappings.superclass.constructor.call(this,s);var h=d.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var p=this.params,g=[],v=0;v<p.array.length;v++){var E=p.array[v];g.push({seq:[{oid:E[0]},{oid:E[1]}]})}return this.asn1ExtnValue=h({seq:g}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==s&&(this.params=s)},re(d.asn1.x509.PolicyMappings,d.asn1.x509.Extension),d.asn1.x509.PolicyConstraints=function(s){d.asn1.x509.PolicyConstraints.superclass.constructor.call(this,s);var h=d.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var p=this.params,g=[];return null!=p.reqexp&&g.push({tag:{tagi:"80",obj:{int:p.reqexp}}}),null!=p.inhibit&&g.push({tag:{tagi:"81",obj:{int:p.inhibit}}}),this.asn1ExtnValue=h({seq:g}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==s&&(this.params=s)},re(d.asn1.x509.PolicyConstraints,d.asn1.x509.Extension),d.asn1.x509.InhibitAnyPolicy=function(s){d.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,s);var h=d.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=h({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==s&&(this.params=s)},re(d.asn1.x509.InhibitAnyPolicy,d.asn1.x509.Extension),d.asn1.x509.NameConstraints=function(s){d.asn1.x509.NameConstraints.superclass.constructor.call(this,s);var u=d.asn1,h=u.ASN1Util.newObject,p=u.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var g=this.params,v=[];if(null!=g.permit&&null!=g.permit.length){for(var E=[],x=0;x<g.permit.length;x++)E.push(new p(g.permit[x]));v.push({tag:{tagi:"a0",obj:{seq:E}}})}if(null!=g.exclude&&null!=g.exclude.length){var F=[];for(x=0;x<g.exclude.length;x++)F.push(new p(g.exclude[x]));v.push({tag:{tagi:"a1",obj:{seq:F}}})}return this.asn1ExtnValue=h({seq:v}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==s&&(this.params=s)},re(d.asn1.x509.NameConstraints,d.asn1.x509.Extension),d.asn1.x509.GeneralSubtree=function(s){d.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var a=d.asn1,c=a.x509.GeneralName,h=a.ASN1Util.newObject;this.params=null,this.setByParam=function(p){this.params=p},this.tohex=function(){var p=this.params,g=[new c(p)];return null!=p.min&&g.push({tag:{tagi:"80",obj:{int:p.min}}}),null!=p.max&&g.push({tag:{tagi:"81",obj:{int:p.max}}}),h({seq:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.GeneralSubtree,d.asn1.ASN1Object),d.asn1.x509.ExtKeyUsage=function(s){d.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,s);var u=d.asn1;this.setPurposeArray=function(c){this.asn1ExtnValue=new u.DERSequence;for(var h=0;h<c.length;h++){var p=new u.DERObjectIdentifier(c[h]);this.asn1ExtnValue.appendASN1Object(p)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==s&&void 0!==s.array&&this.setPurposeArray(s.array)},re(d.asn1.x509.ExtKeyUsage,d.asn1.x509.Extension),d.asn1.x509.AuthorityKeyIdentifier=function(s){d.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,s);var u=d.asn1,c=u.DERTaggedObject,h=u.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var g=new Array;this.asn1KID&&g.push(new c({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&g.push(new c({explicit:!1,tag:"a1",obj:new h([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&g.push(new c({explicit:!1,tag:"82",obj:this.asn1CertSN}));var v=new u.DERSequence({array:g});return this.asn1ExtnValue=v,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(g){if(void 0!==g.str||void 0!==g.hex)this.asn1KID=new d.asn1.DEROctetString(g);else if("object"==typeof g&&d.crypto.Util.isKey(g)||"string"==typeof g&&-1!=g.indexOf("BEGIN ")){var v=g;"string"==typeof g&&(v=je.getKey(g));var E=je.getKeyID(v);this.asn1KID=new d.asn1.DEROctetString({hex:E})}},this.setCertIssuerByParam=function(g){void 0!==g.str||void 0!==g.ldapstr||void 0!==g.hex||void 0!==g.certsubject||void 0!==g.certissuer?this.asn1CertIssuer=new d.asn1.x509.X500Name(g):"string"==typeof g&&-1!=g.indexOf("BEGIN ")&&-1!=g.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new d.asn1.x509.X500Name({certissuer:g}))},this.setCertSNByParam=function(g){if(void 0!==g.str||void 0!==g.bigint||void 0!==g.hex)this.asn1CertSN=new d.asn1.DERInteger(g);else if("string"==typeof g&&-1!=g.indexOf("BEGIN ")&&g.indexOf("CERTIFICATE")){var v=new be;v.readCertPEM(g);var E=v.getSerialNumberHex();this.asn1CertSN=new d.asn1.DERInteger({hex:E})}},this.oid="2.5.29.35",void 0!==s&&(void 0!==s.kid&&this.setKIDByParam(s.kid),void 0!==s.issuer&&this.setCertIssuerByParam(s.issuer),void 0!==s.sn&&this.setCertSNByParam(s.sn),void 0!==s.issuersn&&"string"==typeof s.issuersn&&-1!=s.issuersn.indexOf("BEGIN ")&&s.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(s.issuersn),this.setCertIssuerByParam(s.issuersn)))},re(d.asn1.x509.AuthorityKeyIdentifier,d.asn1.x509.Extension),d.asn1.x509.SubjectKeyIdentifier=function(s){d.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,s);var c=d.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(h){if(void 0!==h.str||void 0!==h.hex)this.asn1KID=new c(h);else if("object"==typeof h&&d.crypto.Util.isKey(h)||"string"==typeof h&&-1!=h.indexOf("BEGIN")){var p=h;"string"==typeof h&&(p=je.getKey(h));var g=je.getKeyID(p);this.asn1KID=new d.asn1.DEROctetString({hex:g})}},this.oid="2.5.29.14",void 0!==s&&void 0!==s.kid&&this.setKIDByParam(s.kid)},re(d.asn1.x509.SubjectKeyIdentifier,d.asn1.x509.Extension),d.asn1.x509.AuthorityInfoAccess=function(s){d.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,s),this.setAccessDescriptionArray=function(a){for(var u=new Array,h=d.asn1,p=h.DERSequence,g=h.DERObjectIdentifier,v=h.x509.GeneralName,E=0;E<a.length;E++){var x,F=a[E];if(void 0!==F.ocsp)x=new p({array:[new g({oid:"1.3.6.1.5.5.7.48.1"}),new v({uri:F.ocsp})]});else{if(void 0===F.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(F));x=new p({array:[new g({oid:"1.3.6.1.5.5.7.48.2"}),new v({uri:F.caissuer})]})}u.push(x)}this.asn1ExtnValue=new p({array:u})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==s&&void 0!==s.array&&this.setAccessDescriptionArray(s.array)},re(d.asn1.x509.AuthorityInfoAccess,d.asn1.x509.Extension),d.asn1.x509.SubjectAltName=function(s){d.asn1.x509.SubjectAltName.superclass.constructor.call(this,s),this.setNameArray=function(a){this.asn1ExtnValue=new d.asn1.x509.GeneralNames(a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},re(d.asn1.x509.SubjectAltName,d.asn1.x509.Extension),d.asn1.x509.IssuerAltName=function(s){d.asn1.x509.IssuerAltName.superclass.constructor.call(this,s),this.setNameArray=function(a){this.asn1ExtnValue=new d.asn1.x509.GeneralNames(a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},re(d.asn1.x509.IssuerAltName,d.asn1.x509.Extension),d.asn1.x509.SubjectDirectoryAttributes=function(s){d.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,s);var a=d.asn1,u=a.DERSequence,c=a.ASN1Util.newObject,h=a.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var p=[],g=0;g<this.params.array.length;g++){var v=this.params.array[g],E={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==v.attr)E.seq[0].oid=h(v.attr),E.seq[1].set[0]={gentime:v.str};else if("placeOfBirth"==v.attr)E.seq[0].oid=h(v.attr),E.seq[1].set[0]={utf8str:v.str};else if("gender"==v.attr)E.seq[0].oid=h(v.attr),E.seq[1].set[0]={prnstr:v.str};else if("countryOfCitizenship"==v.attr)E.seq[0].oid=h(v.attr),E.seq[1].set[0]={prnstr:v.str};else{if("countryOfResidence"!=v.attr)throw new Error("unsupported attribute: "+v.attr);E.seq[0].oid=h(v.attr),E.seq[1].set[0]={prnstr:v.str}}p.push(new c(E))}var x=new u({array:p});return this.asn1ExtnValue=x,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==s&&(this.params=s)},re(d.asn1.x509.SubjectDirectoryAttributes,d.asn1.x509.Extension),d.asn1.x509.PrivateExtension=function(s){d.asn1.x509.PrivateExtension.superclass.constructor.call(this,s);var u=d.lang.String.isHex,c=d.asn1,h=c.x509.OID.name2oid,p=c.ASN1Util.newObject;this.params=null,this.setByParam=function(g){this.oid=h(g.extname),this.params=g},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var g=this.params.extn;if("string"==typeof g&&u(g))return g;if("object"==typeof g)try{return p(g).tohex()}catch{}throw new Error("unsupported extn value")},null!=s&&this.setByParam(s)},re(d.asn1.x509.PrivateExtension,d.asn1.x509.Extension),d.asn1.x509.CRL=function(s){d.asn1.x509.CRL.superclass.constructor.call(this);var u=d.asn1,c=u.DERSequence,h=u.DERBitString,p=u.x509,g=p.AlgorithmIdentifier,v=p.TBSCertList;this.params=void 0,this.setByParam=function(E){this.params=E},this.sign=function(){var E=new v(this.params).tohex(),x=new d.crypto.Signature({alg:this.params.sigalg});x.init(this.params.cakey),x.updateHex(E);var F=x.sign();this.params.sighex=F},this.getPEM=function(){return ft(this.tohex(),"X509 CRL")},this.tohex=function(){var E=this.params;if(null==E.tbsobj&&(E.tbsobj=new v(E)),null==E.sighex&&null!=E.cakey&&this.sign(),null==E.sighex)throw new Error("sighex or cakey parameter not defined");var x=[];return x.push(E.tbsobj),x.push(new g({name:E.sigalg})),x.push(new h({hex:"00"+E.sighex})),new c({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},re(d.asn1.x509.CRL,d.asn1.ASN1Object),d.asn1.x509.TBSCertList=function(s){d.asn1.x509.TBSCertList.superclass.constructor.call(this);var u=d.asn1,c=u.DERInteger,h=u.DERSequence,p=u.DERTaggedObject,v=u.x509,E=v.AlgorithmIdentifier,x=v.Time,F=v.Extensions,A=v.X500Name;this.params=null,this.setByParam=function(w){this.params=w},this.getRevCertSequence=function(){for(var w=[],y=this.params.revcert,b=0;b<y.length;b++){var D=[new c(y[b].sn),new x(y[b].date)];null!=y[b].ext&&D.push(new F(y[b].ext)),w.push(new h({array:D}))}return new h({array:w})},this.tohex=function(){var w=[],y=this.params;if(null!=y.version){var D=new c({int:y.version-1});w.push(D)}if(w.push(new E({name:y.sigalg})),w.push(new A(y.issuer)),w.push(new x(y.thisupdate)),null!=y.nextupdate&&w.push(new x(y.nextupdate)),null!=y.revcert&&w.push(this.getRevCertSequence()),null!=y.ext){var _=new F(y.ext);w.push(new p({tag:"a0",explicit:!0,obj:_}))}return new h({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.TBSCertList,d.asn1.ASN1Object),d.asn1.x509.CRLEntry=function(s){d.asn1.x509.CRLEntry.superclass.constructor.call(this);var h=d.asn1;this.setCertSerial=function(p){this.sn=new h.DERInteger(p)},this.setRevocationDate=function(p){this.time=new h.x509.Time(p)},this.tohex=function(){var p=new h.DERSequence({array:[this.sn,this.time]});return this.TLV=p.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.time&&this.setRevocationDate(s.time),void 0!==s.sn&&this.setCertSerial(s.sn))},re(d.asn1.x509.CRLEntry,d.asn1.ASN1Object),d.asn1.x509.CRLNumber=function(s){d.asn1.x509.CRLNumber.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new d.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=s&&(this.params=s)},re(d.asn1.x509.CRLNumber,d.asn1.x509.Extension),d.asn1.x509.CRLReason=function(s){d.asn1.x509.CRLReason.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new d.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=s&&(this.params=s)},re(d.asn1.x509.CRLReason,d.asn1.x509.Extension),d.asn1.x509.OCSPNonce=function(s){d.asn1.x509.OCSPNonce.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new d.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=s&&(this.params=s)},re(d.asn1.x509.OCSPNonce,d.asn1.x509.Extension),d.asn1.x509.OCSPNoCheck=function(s){d.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new d.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=s&&(this.params=s)},re(d.asn1.x509.OCSPNoCheck,d.asn1.x509.Extension),d.asn1.x509.AdobeTimeStamp=function(s){d.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,s);var u=d.asn1,c=u.DERInteger,h=u.DERBoolean,p=u.DERSequence,g=u.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var v=this.params,E=[new c(1)];return E.push(new g({uri:v.uri})),null!=v.reqauth&&E.push(new h(v.reqauth)),this.asn1ExtnValue=new p({array:E}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==s&&this.setByParam(s)},re(d.asn1.x509.AdobeTimeStamp,d.asn1.x509.Extension),d.asn1.x509.X500Name=function(s){d.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var u=d.asn1,c=u.x509,h=c.RDN;this.setByString=function(g,v){void 0!==v&&(this.sRule=v);var E=g.split("/");E.shift();for(var x=[],F=0;F<E.length;F++)if(E[F].match(/^[^=]+=.+$/))x.push(E[F]);else{var A=x.length-1;x[A]=x[A]+"/"+E[F]}for(F=0;F<x.length;F++)this.asn1Array.push(new h({str:x[F],rule:this.sRule}))},this.setByLdapString=function(g,v){void 0!==v&&(this.sRule=v);var E=c.X500Name.ldapToCompat(g);this.setByString(E,v)},this.setByObject=function(g,v){for(var E in void 0!==v&&(this.sRule=v),g)if(g.hasOwnProperty(E)){var x=new h({str:E+"="+g[E],rule:this.sRule});this.asn1Array?this.asn1Array.push(x):this.asn1Array=[x]}},this.setByParam=function(g){if(void 0!==g.rule&&(this.sRule=g.rule),void 0!==g.array)this.paramArray=g.array;else if(void 0!==g.str)this.setByString(g.str);else if(void 0!==g.ldapstr)this.setByLdapString(g.ldapstr);else if(void 0!==g.hex)this.hTLV=g.hex;else if(void 0!==g.certissuer)(v=new be).readCertPEM(g.certissuer),this.hTLV=v.getIssuerHex();else if(void 0!==g.certsubject){var v;(v=new be).readCertPEM(g.certsubject),this.hTLV=v.getSubjectHex()}else"object"==typeof g&&void 0===g.certsubject&&void 0===g.certissuer&&this.setByObject(g)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var g=0;g<this.paramArray.length;g++){var v={array:this.paramArray[g]};"utf8"!=this.sRule&&(v.rule=this.sRule);var E=new h(v);this.asn1Array.push(E)}var x=new u.DERSequence({array:this.asn1Array});return this.hTLV=x.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.X500Name,d.asn1.ASN1Object),d.asn1.x509.X500Name.compatToLDAP=function(s){if("/"!==s.substr(0,1))throw"malformed input";var u=(s=s.substr(1)).split("/");return u.reverse(),u=u.map(function(c){return c.replace(/,/,"\\,")}),u.join(",")},d.asn1.x509.X500Name.onelineToLDAP=function(s){return d.asn1.x509.X500Name.compatToLDAP(s)},d.asn1.x509.X500Name.ldapToCompat=function(s){for(var a=s.split(","),u=!1,c=[],h=0;a.length>0;h++){var p=a.shift();if(!0===u){var v=(c.pop()+","+p).replace(/\\,/g,",");c.push(v),u=!1}else c.push(p);"\\"===p.substr(-1,1)&&(u=!0)}return c=c.map(function(E){return E.replace("/","\\/")}),c.reverse(),"/"+c.join("/")},d.asn1.x509.X500Name.ldapToOneline=function(s){return d.asn1.x509.X500Name.ldapToCompat(s)},d.asn1.x509.RDN=function(s){d.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var a=d.asn1.x509.AttributeTypeAndValue;this.setByParam=function(u){void 0!==u.rule&&(this.sRule=u.rule),void 0!==u.str&&this.addByMultiValuedString(u.str),void 0!==u.array&&(this.paramArray=u.array)},this.addByString=function(u){this.asn1Array.push(new d.asn1.x509.AttributeTypeAndValue({str:u,rule:this.sRule}))},this.addByMultiValuedString=function(u){for(var c=d.asn1.x509.RDN.parseString(u),h=0;h<c.length;h++)this.addByString(c[h])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var u=0;u<this.paramArray.length;u++){var c=this.paramArray[u];void 0!==c.rule&&"utf8"!=this.sRule&&(c.rule=this.sRule);var h=new a(c);this.asn1Array.push(h)}var p=new d.asn1.DERSet({array:this.asn1Array});return this.TLV=p.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.RDN,d.asn1.ASN1Object),d.asn1.x509.RDN.parseString=function(s){for(var a=s.split(/\+/),u=!1,c=[],h=0;a.length>0;h++){var p=a.shift();if(!0===u){var v=(c.pop()+"+"+p).replace(/\\\+/g,"+");c.push(v),u=!1}else c.push(p);"\\"===p.substr(-1,1)&&(u=!0)}var E=!1,x=[];for(h=0;c.length>0;h++){if(p=c.shift(),!0===E){var F=x.pop();p.match(/"$/)?(v=(F+"+"+p).replace(/^([^=]+)="(.*)"$/,"$1=$2"),x.push(v),E=!1):x.push(F+"+"+p)}else x.push(p);p.match(/^[^=]+="/)&&(E=!0)}return x},d.asn1.x509.AttributeTypeAndValue=function(s){d.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var u=d.asn1,c=u.DERSequence,h=u.DERUTF8String,p=u.DERPrintableString,g=u.DERTeletexString,v=u.DERIA5String,E=u.DERVisibleString,x=u.DERBMPString,F=d.lang.String.isMail,A=d.lang.String.isPrintable;this.setByParam=function(w){if(void 0!==w.rule&&(this.sRule=w.rule),void 0!==w.ds&&(this.dsType=w.ds),void 0===w.value&&void 0!==w.str){var b=w.str.match(/^([^=]+)=(.+)$/);if(!b)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=b[1],this.sValue=b[2]}else this.sType=w.type,this.sValue=w.value},this.setByString=function(w,y){void 0!==y&&(this.sRule=y);var b=w.match(/^([^=]+)=(.+)$/);if(!b)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(b[1],b[2])},this._getDsType=function(){var w=this.sType,y=this.sValue,b=this.sRule;return"prn"===b?"CN"==w&&F(y)?"ia5":A(y)?"prn":"utf8":"utf8"===b?"CN"==w&&F(y)?"ia5":"C"==w?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(w,y,b){void 0!==b&&(this.sRule=b),this.sType=w,this.sValue=y},this.getValueObj=function(w,y){if("utf8"==w)return new h({str:y});if("prn"==w)return new p({str:y});if("tel"==w)return new g({str:y});if("ia5"==w)return new v({str:y});if("vis"==w)return new E({str:y});if("bmp"==w)return new x({str:y});throw new Error("unsupported directory string type: type="+w+" value="+y)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var w=d.asn1.x509.OID.atype2obj(this.sType),y=this.getValueObj(this.dsType,this.sValue),b=new c({array:[w,y]});return this.TLV=b.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.AttributeTypeAndValue,d.asn1.ASN1Object),d.asn1.x509.SubjectPublicKeyInfo=function(s){d.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var h=d.asn1,p=h.DERInteger,g=h.DERBitString,v=h.DERObjectIdentifier,E=h.DERSequence,x=h.ASN1Util.newObject,A=h.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new E({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var D=this.getASN1Object();return this.hTLV=D.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(D){try{if(D instanceof Ce){var C=x({seq:[{int:{bigint:D.n}},{int:{int:D.e}}]}).tohex();this.asn1AlgId=new A({name:"rsaEncryption"}),this.asn1SubjPKey=new g({hex:"00"+C})}}catch{}try{if(D instanceof d.crypto.ECDSA){var N=new v({name:D.curveName});this.asn1AlgId=new A({name:"ecPublicKey",asn1params:N}),this.asn1SubjPKey=new g({hex:"00"+D.pubKeyHex})}}catch{}try{if(D instanceof d.crypto.DSA){N=new x({seq:[{int:{bigint:D.p}},{int:{bigint:D.q}},{int:{bigint:D.g}}]}),this.asn1AlgId=new A({name:"dsa",asn1params:N});var k=new p({bigint:D.y});this.asn1SubjPKey=new g({hex:"00"+k.tohex()})}}catch{}},void 0!==s&&this.setPubKey(s)},re(d.asn1.x509.SubjectPublicKeyInfo,d.asn1.ASN1Object),d.asn1.x509.Time=function(s){d.asn1.x509.Time.superclass.constructor.call(this);var h=d.asn1,p=h.DERUTCTime,g=h.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(v){this.timeParams=v},this.setByParam=function(v){this.params=v},this.getType=function(v){return v.match(/^[0-9]{12}Z$/)?"utc":v.match(/^[0-9]{14}Z$/)?"gen":v.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":v.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var v=this.params,E=null;if("string"==typeof v&&(v={str:v}),null!=v&&v.str&&(null==v.type||null==v.type)&&(v.type=this.getType(v.str)),null!=v&&v.str?("utc"==v.type&&(E=new p(v.str)),"gen"==v.type&&(E=new g(v.str))):E="gen"==this.type?new g:new p,null==E)throw new Error("wrong setting for Time");return this.TLV=E.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},d.asn1.x509.Time_bak=function(s){d.asn1.x509.Time_bak.superclass.constructor.call(this);var h=d.asn1,p=h.DERUTCTime,g=h.DERGeneralizedTime;this.setTimeParams=function(v){this.timeParams=v},this.tohex=function(){var v=null;return v=null!=this.timeParams?"utc"==this.type?new p(this.timeParams):new g(this.timeParams):"utc"==this.type?new p:new g,this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==s&&(void 0!==s.type?this.type=s.type:void 0!==s.str&&(s.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),s.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=s)},re(d.asn1.x509.Time,d.asn1.ASN1Object),d.asn1.x509.AlgorithmIdentifier=function(s){d.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var u=d.asn1,c=u.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var p=null;for(var g in c)g===this.nameAlg&&(p=c[g]);if(null!==p)return this.hTLV=p,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=u.x509.OID.name2obj(this.nameAlg));var v=[this.asn1Alg];null!==this.asn1Params&&v.push(this.asn1Params);var E=new u.DERSequence({array:v});return this.hTLV=E.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.name&&(this.nameAlg=s.name),void 0!==s.asn1params&&(this.asn1Params=s.asn1params),void 0!==s.paramempty&&(this.paramEmpty=s.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var h=this.nameAlg.toLowerCase();"withdsa"!==h.substr(-7,7)&&"withecdsa"!==h.substr(-9,9)&&(this.asn1Params=new u.DERNull)}},re(d.asn1.x509.AlgorithmIdentifier,d.asn1.ASN1Object),d.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},d.asn1.x509.GeneralName=function(s){d.asn1.x509.GeneralName.superclass.constructor.call(this);var c=d.asn1,h=c.x509,p=h.X500Name,g=h.OtherName,v=c.DERIA5String,x=c.DEROctetString,F=c.DERTaggedObject,A=c.ASN1Object,w=Error;this.params=null,this.setByParam=function(y){this.params=y},this.tohex=function(){var b,D,y=this.params,_=!1;if(void 0!==y.other)b="a0",D=new g(y.other);else if(void 0!==y.rfc822)b="81",D=new v({str:y.rfc822});else if(void 0!==y.dns)b="82",D=new v({str:y.dns});else if(void 0!==y.dn)b="a4",_=!0,D="string"==typeof y.dn?new p({str:y.dn}):y.dn instanceof d.asn1.x509.X500Name?y.dn:new p(y.dn);else if(void 0!==y.ldapdn)b="a4",_=!0,D=new p({ldapstr:y.ldapdn});else if(void 0!==y.certissuer||void 0!==y.certsubj){b="a4",_=!0;var C,N,k=null;if(void 0!==y.certsubj?(C=!1,N=y.certsubj):(C=!0,N=y.certissuer),N.match(/^[0-9A-Fa-f]+$/),-1!=N.indexOf("-----BEGIN ")&&(k=Ot(N)),null==k)throw new Error("certsubj/certissuer not cert");var L,B=new be;B.hex=k,L=C?B.getIssuerHex():B.getSubjectHex(),(D=new A).hTLV=L}else if(void 0!==y.uri)b="86",D=new v({str:y.uri});else{if(void 0===y.ip)throw new w("improper params");b="87";var X,te=y.ip;try{if(te.match(/^[0-9a-f]+$/)){var P=te.length;if(8!=P&&16!=P&&32!=P&&64!=P)throw"err";X=te}else X=ss(te)}catch(H){throw new w("malformed IP address: "+y.ip+":"+H.message)}D=new x({hex:X})}return new F({tag:b,explicit:_,obj:D}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.GeneralName,d.asn1.ASN1Object),d.asn1.x509.GeneralNames=function(s){d.asn1.x509.GeneralNames.superclass.constructor.call(this);var c=d.asn1;this.setByParamArray=function(h){for(var p=0;p<h.length;p++){var g=new c.x509.GeneralName(h[p]);this.asn1Array.push(g)}},this.tohex=function(){return new c.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof s<"u"&&this.setByParamArray(s)},re(d.asn1.x509.GeneralNames,d.asn1.ASN1Object),d.asn1.x509.OtherName=function(s){d.asn1.x509.OtherName.superclass.constructor.call(this);var h=d.asn1,p=h.DERObjectIdentifier,g=h.DERSequence,v=h.ASN1Util.newObject;this.params=null,this.setByParam=function(E){this.params=E},this.tohex=function(){var E=this.params;if(null==E.oid||null==E.value)throw new Error("oid or value not specified");var x=new p({oid:E.oid}),F=v({tag:{tag:"a0",explicit:!0,obj:E.value}});return new g({array:[x,F]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.x509.OtherName,d.asn1.ASN1Object),d.asn1.x509.OID=new function(){var s=d.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(a){if(typeof this.objCache[a]<"u")return this.objCache[a];if(typeof this.name2oidList[a]>"u")throw"Name of ObjectIdentifier not defined: "+a;var c=new s({oid:this.name2oidList[a]});return this.objCache[a]=c,c},this.atype2obj=function(a){if(void 0!==this.objCache[a])return this.objCache[a];var u;if(a.match(/^\d+\.\d+\.[0-9.]+$/))u=a;else if(void 0!==this.atype2oidList[a])u=this.atype2oidList[a];else{if(void 0===this.name2oidList[a])throw new Error("AttributeType name undefined: "+a);u=this.name2oidList[a]}var c=new s({oid:u});return this.objCache[a]=c,c},this.registerOIDs=function(a){if(this.checkOIDs(a))for(var u in a)this.name2oidList[u]=a[u]},this.checkOIDs=function(a){try{var u=Object.keys(a);return 0!=u.length&&(u.map(function(c,h,p){if(!this[c].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},a),!0)}catch{return!1}}},d.asn1.x509.OID.oid2name=function(s){var a=d.asn1.x509.OID.name2oidList;for(var u in a)if(a[u]==s)return u;return""},d.asn1.x509.OID.oid2atype=function(s){var a=d.asn1.x509.OID.atype2oidList;for(var u in a)if(a[u]==s)return u;return s},d.asn1.x509.OID.name2oid=function(s){if(s.match(/^[0-9.]+$/))return s;var a=d.asn1.x509.OID.name2oidList;return void 0===a[s]?"":a[s]},d.asn1.x509.X509Util={},d.asn1.x509.X509Util.newCertPEM=function(s){return new(0,d.asn1.x509.Certificate)(s).getPEM()},(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),(typeof d.asn1.cms>"u"||!d.asn1.cms)&&(d.asn1.cms={}),d.asn1.cms.Attribute=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.DERSet,g=c.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(v){this.params=v},this.getValueArray=function(){throw new a("not yet implemented abstract")},this.tohex=function(){var v=new g({oid:this.typeOid}),E=new p({array:this.getValueArray()});return new h({array:[v,E]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},re(d.asn1.cms.Attribute,d.asn1.ASN1Object),d.asn1.cms.ContentType=function(s){var u=d.asn1;u.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new u.DERObjectIdentifier(this.params.type)]},null!=s&&this.setByParam(s)},re(d.asn1.cms.ContentType,d.asn1.cms.Attribute),d.asn1.cms.MessageDigest=function(s){var u=d.asn1,c=u.DEROctetString;u.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new c(this.params)]},null!=s&&this.setByParam(s)},re(d.asn1.cms.MessageDigest,d.asn1.cms.Attribute),d.asn1.cms.SigningTime=function(s){var u=d.asn1;u.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new u.x509.Time(this.params)]},null!=s&&this.setByParam(s)},re(d.asn1.cms.SigningTime,d.asn1.cms.Attribute),d.asn1.cms.SigningCertificate=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.cms,g=p.ESSCertID;p.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new a("parameter 'array' not specified");for(var E=this.params.array,x=[],F=0;F<E.length;F++){var A=E[F];0==s.hasis&&"string"==typeof A&&(-1!=A.indexOf("-----BEGIN")||fe.isASN1HEX(A))&&(A={cert:A}),0!=A.hasis&&0==s.hasis&&(A.hasis=!1),x.push(new g(A))}var w=new h({array:x});return[new h({array:[w]})]},null!=s&&this.setByParam(s)},re(d.asn1.cms.SigningCertificate,d.asn1.cms.Attribute),d.asn1.cms.ESSCertID=function(s){d.asn1.cms.ESSCertID.superclass.constructor.call(this);var a=Error,u=d,c=u.asn1,h=c.DEROctetString,p=c.DERSequence,g=c.cms.IssuerSerial;this.params=null,this.getCertHash=function(v,E){if(null!=v.hash)return v.hash;if("string"==typeof v&&-1==v.indexOf("-----BEGIN")&&!fe.isASN1HEX(v))return v;var x,F,A;if("string"==typeof v)x=v;else{if(null==v.cert)throw new a("hash nor cert unspecified");x=v.cert}if(F=-1!=x.indexOf("-----BEGIN")?Ot(x):x,"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?F=Ot(v):fe.isASN1HEX(v)&&(F=v)),null!=v.alg)A=v.alg;else{if(null==E)throw new a("hash alg unspecified");A=E}return u.crypto.Util.hashHex(F,A)},this.tohex=function(){var v=this.params,E=this.getCertHash(v,"sha1"),x=[];return x.push(new h({hex:E})),("string"==typeof v&&-1!=v.indexOf("-----BEGIN")||null!=v.cert&&0!=v.hasis||null!=v.issuer&&null!=v.serial)&&x.push(new g(v)),new p({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.ESSCertID,d.asn1.ASN1Object),d.asn1.cms.SigningCertificateV2=function(s){var a=Error,c=d.asn1,h=c.DERSequence,g=c.cms,v=g.ESSCertIDv2;g.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new a("parameter 'array' not specified");for(var x=this.params.array,F=[],A=0;A<x.length;A++){var w=x[A];(null!=s.alg||0==s.hasis)&&"string"==typeof w&&(-1!=w.indexOf("-----BEGIN")||fe.isASN1HEX(w))&&(w={cert:w}),null==w.alg&&null!=s.alg&&(w.alg=s.alg),0!=w.hasis&&0==s.hasis&&(w.hasis=!1),F.push(new v(w))}var y=new h({array:F});return[new h({array:[y]})]},null!=s&&this.setByParam(s)},re(d.asn1.cms.SigningCertificateV2,d.asn1.cms.Attribute),d.asn1.cms.ESSCertIDv2=function(s){d.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var c=d.asn1,h=c.DEROctetString,p=c.DERSequence,g=c.cms.IssuerSerial,v=c.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var E=this.params,x=this.getCertHash(E,"sha256"),F=[];return null!=E.alg&&"sha256"!=E.alg&&F.push(new v({name:E.alg})),F.push(new h({hex:x})),("string"==typeof E&&-1!=E.indexOf("-----BEGIN")||null!=E.cert&&0!=E.hasis||null!=E.issuer&&null!=E.serial)&&F.push(new g(E)),new p({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.ESSCertIDv2,d.asn1.cms.ESSCertID),d.asn1.cms.IssuerSerial=function(s){var a=Error,c=d.asn1,h=c.DERInteger,p=c.DERSequence,E=c.x509.GeneralNames,x=be;c.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(F){this.params=F},this.tohex=function(){var A,w,F=this.params;if("string"==typeof F&&-1!=F.indexOf("-----BEGIN")||null!=F.cert){var y;y=null!=F.cert?F.cert:F;var b=new x;b.readCertPEM(y),A=b.getIssuer(),w={hex:b.getSerialNumberHex()}}else{if(null==F.issuer||!F.serial)throw new a("cert or issuer and serial parameter not specified");A=F.issuer,w=F.serial}var D=new E([{dn:A}]),_=new h(w);return new p({array:[D,_]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.IssuerSerial,d.asn1.ASN1Object),d.asn1.cms.SignerIdentifier=function(s){var p=d.asn1.cms,g=p.IssuerAndSerialNumber,v=p.SubjectKeyIdentifier;Error,p.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params;if("isssn"==w.type)return new g(w).tohex();if("skid"==w.type)return new v(w).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.SignerIdentifier,d.asn1.ASN1Object),d.asn1.cms.IssuerAndSerialNumber=function(s){var u=d.asn1,c=u.DERInteger,h=u.DERSequence,v=u.x509.X500Name,E=be,x=Error;u.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var A,w,F=this.params;if("string"==typeof F&&-1!=F.indexOf("-----BEGIN")||null!=F.cert){var y;y=null!=F.cert?F.cert:F;var b=new E;b.readCertPEM(y),A=b.getIssuer(),w={hex:b.getSerialNumberHex()}}else{if(null==F.issuer||!F.serial)throw new x("cert or issuer and serial parameter not specified");A=F.issuer,w=F.serial}var D=new v(A),_=new c(w);return new h({array:[D,_]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(F){this.params=F},null!=s&&this.setByParam(s)},re(d.asn1.cms.IssuerAndSerialNumber,d.asn1.ASN1Object),d.asn1.cms.SubjectKeyIdentifier=function(s){var u=d.asn1,p=u.ASN1Util.newObject,A=be,w=Error;u.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var b,y=this.params;if(null==y.cert&&null==y.skid)throw new w("property cert nor skid undefined");return null!=y.cert?b=new A(y.cert).getExtSubjectKeyIdentifier().kid.hex:null!=y.skid&&(b=y.skid),p({tag:{tage:"a0",obj:{octstr:{hex:b}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.SubjectKeyIdentifier,d.asn1.ASN1Object),d.asn1.cms.AttributeList=function(s){var a=Error,c=d.asn1,h=c.DERSet,p=c.cms;p.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params;if(null!=this.hTLV)return this.hTLV;var v=!0;null!=g.sortflag&&(v=g.sortflag);for(var E=g.array,x=[],F=0;F<E.length;F++){var A=E[F],w=A.attr;if("contentType"==w)x.push(new p.ContentType(A));else if("messageDigest"==w)x.push(new p.MessageDigest(A));else if("signingTime"==w)x.push(new p.SigningTime(A));else if("signingCertificate"==w)x.push(new p.SigningCertificate(A));else if("signingCertificateV2"==w)x.push(new p.SigningCertificateV2(A));else if("signaturePolicyIdentifier"==w)x.push(new d.asn1.cades.SignaturePolicyIdentifier(A));else{if("signatureTimeStamp"!=w&&"timeStampToken"!=w)throw new a("unknown attr: "+w);x.push(new d.asn1.cades.SignatureTimeStamp(A))}}var y=new h({array:x,sortflag:v});return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.AttributeList,d.asn1.ASN1Object),d.asn1.cms.SignerInfo=function(s){var a=Error,c=d.asn1,h=c.DERInteger,p=c.DEROctetString,g=c.DERSequence,v=c.DERTaggedObject,E=c.cms,x=E.SignerIdentifier,F=E.AttributeList,_=c.x509.AlgorithmIdentifier,C=d.crypto,N=je;E.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var k=this.params,B=k.sigalg,L=new F(k.sattrs).tohex(),X=N.getKey(k.signkey),te=new C.Signature({alg:B});te.init(X),te.updateHex(L);var P=te.sign();k.sighex=P},this.tohex=function(){var k=this.params,B=[];if(B.push(new h({int:k.version})),B.push(new x(k.id)),B.push(new _({name:k.hashalg})),null!=k.sattrs){var L=new F(k.sattrs);try{B.push(new v({tag:"a0",explicit:!1,obj:L}))}catch(te){throw new a("si sattr error: "+te)}}if(B.push(new _(null!=k.sigalgfield?{name:k.sigalgfield}:{name:k.sigalg})),null==k.sighex&&null!=k.signkey&&this.sign(),B.push(new p({hex:k.sighex})),null!=k.uattrs){L=new F(k.uattrs);try{B.push(new v({tag:"a1",explicit:!1,obj:L}))}catch(P){throw new a("si uattr error: "+P)}}return new g({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.SignerInfo,d.asn1.ASN1Object),d.asn1.cms.EncapsulatedContentInfo=function(s){var u=d.asn1,c=u.DERTaggedObject,h=u.DERSequence,p=u.DERObjectIdentifier,g=u.DEROctetString;u.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params,x=[];if(x.push(new p(E.type)),null!=E.content&&(null!=E.content.hex||null!=E.content.str)&&1!=E.isDetached){var F=new g(E.content),A=new c({tag:"a0",explicit:!0,obj:F});x.push(A)}return new h({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(E){this.params=E},null!=s&&this.setByParam(s)},re(d.asn1.cms.EncapsulatedContentInfo,d.asn1.ASN1Object),d.asn1.cms.ContentInfo=function(s){var u=d.asn1,c=u.DERTaggedObject,h=u.DERSequence,p=u.DERObjectIdentifier;d.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params,x=[];x.push(new p(E.type));var F=new c({tag:"a0",explicit:!0,obj:E.obj});return x.push(F),new h({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(E){this.params=E},null!=s&&this.setByParam(s)},re(d.asn1.cms.ContentInfo,d.asn1.ASN1Object),d.asn1.cms.SignedData=function(s){Error;var c=d.asn1,p=c.DERInteger,g=c.DERSet,v=c.DERSequence,x=c.cms,F=x.EncapsulatedContentInfo,A=x.SignerInfo,w=x.ContentInfo,y=x.CertificateSet,b=x.RevocationInfoChoices,_=c.x509.AlgorithmIdentifier;d.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var C=this.params;this._setDigestAlgs(C),this._setContentTypeByEContent(C),this._setMessageDigestByEContent(C),this._setSignerInfoVersion(C),this._setSignedDataVersion(C)},this._setDigestAlgs=function(C){for(var N={},k=C.sinfos,B=0;B<k.length;B++)N[k[B].hashalg]=1;C.hashalgs=Object.keys(N).sort()},this._setContentTypeByEContent=function(C){for(var N=C.econtent.type,k=C.sinfos,B=0;B<k.length;B++)this._getAttrParamByName(k[B],"contentType").type=N},this._setMessageDigestByEContent=function(C){var N=C.econtent,B=N.content.hex;null==B&&"data"==N.type&&null!=N.content.str&&(B=Ct(N.content.str));for(var L=C.sinfos,X=0;X<L.length;X++){var te=L[X],P=te.hashalg,M=this._getAttrParamByName(te,"messageDigest"),H=d.crypto.Util.hashHex(B,P);M.hex=H}},this._getAttrParamByName=function(C,N){for(var k=C.sattrs.array,B=0;B<k.length;B++)if(k[B].attr==N)return k[B]},this._setSignerInfoVersion=function(C){for(var N=C.sinfos,k=0;k<N.length;k++){var B=N[k],L=1;"skid"==B.id.type&&(L=3),B.version=L}},this._setSignedDataVersion=function(C){var N=this._getSignedDataVersion(C);C.version=N},this._getSignedDataVersion=function(C){if(null!=C.revinfos)for(var N=C.revinfos,k=0;k<N.length;k++)if(null!=N[k].ocsp)return 5;var L=C.sinfos;for(k=0;k<L.length;k++)if(3==C.sinfos[k].version)return 3;return"data"!=C.econtent.type?3:1},this.tohex=function(){var C=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=C.fixed&&this.checkAndFixParam();var N=[];N.push(new p({int:C.version}));for(var k=[],B=0;B<C.hashalgs.length;B++)k.push(new _({name:C.hashalgs[B]}));N.push(new g({array:k})),N.push(new F(C.econtent)),null!=C.certs&&N.push(new y(C.certs)),null!=C.revinfos&&N.push(new b(C.revinfos));var X=[];for(B=0;B<C.sinfos.length;B++)X.push(new A(C.sinfos[B]));return N.push(new g({array:X})),new v({array:N}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new w({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.SignedData,d.asn1.ASN1Object),d.asn1.cms.CertificateSet=function(s){d.asn1.cms.CertificateSet.superclass.constructor.call(this);var a=Error,u=d.asn1,c=u.DERTaggedObject,h=u.DERSet,p=u.ASN1Object;this.params=null,this.tohex=function(){var E,g=this.params,v=[];if(g instanceof Array)E=g;else{if(null==g.array)throw new a("cert array not specified");E=g.array}for(var x=0;x<E.length;x++){var A=Ot(E[x]),w=new p;w.hTLV=A,v.push(w)}var y={array:v};0==g.sortflag&&(y.sortflag=!1);var b=new h(y);return new c({tag:"a0",explicit:!1,obj:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.CertificateSet,d.asn1.ASN1Object),d.asn1.cms.RevocationInfoChoices=function(s){d.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(!a instanceof Array)throw new Error("params is not array");for(var u=[],c=0;c<a.length;c++)u.push(new d.asn1.cms.RevocationInfoChoice(a[c]));return d.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:u}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.RevocationInfoChoices,d.asn1.ASN1Object),d.asn1.cms.RevocationInfoChoice=function(s){d.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(null!=a.crl&&"string"==typeof a.crl){var u=a.crl;return-1!=a.crl.indexOf("-----BEGIN")&&(u=Ot(a.crl)),u}if(null!=a.ocsp)return d.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new d.asn1.cms.OtherRevocationFormat(a)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.RevocationInfoChoice,d.asn1.ASN1Object),d.asn1.cms.OtherRevocationFormat=function(s){d.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var a=Error,h=d.asn1.ASN1Util.newObject,p=d.lang.String.isHex;this.params=null,this.tohex=function(){var g=this.params;if(null==g.ocsp)throw new a("property ocsp not specified");if(!p(g.ocsp)||!fe.isASN1HEX(g.ocsp))throw new a("ocsp value not ASN.1 hex string");return h({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:g.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cms.OtherRevocationFormat,d.asn1.ASN1Object),d.asn1.cms.CMSUtil=new function(){},d.asn1.cms.CMSUtil.newSignedData=function(s){return new d.asn1.cms.SignedData(s)},d.asn1.cms.CMSUtil.verifySignedData=function(s){var y=fe.getVbyList,b=fe.getTLVbyList,D=fe.getIdxbyList,_=fe.getChildIdx,C=fe.getTLV,N=fe.oidname,k=d.crypto.Util.hashHex;void 0===s.cms&&(0,d.lang.String.isHex)(s.cms);var B=s.cms,te=function(W,Y){var Q=Y.idx;Y.signerid_issuer1=b(W,Q,[1,0],"30"),Y.signerid_serial1=y(W,Q,[1,1],"02"),Y.hashalg=N(y(W,Q,[2,0],"06"));var Se=D(W,Q,[3],"a0");Y.idxSignedAttrs=Se,P(W,Y,Se);var we=_(W,Q).length;if(we<6)throw"malformed SignerInfo";Y.sigalg=N(y(W,Q,[we-2,0],"06")),Y.sigval=y(W,Q,[we-1],"04")},P=function(W,Y,Q){var Se=_(W,Q);Y.signedAttrIdxList=Se;for(var De=0;De<Se.length;De++){var Ke,we=Se[De],_e=y(W,we,[0],"06");"2a864886f70d010905"===_e?(Ke=lt(y(W,we,[1,0])),Y.saSigningTime=Ke):"2a864886f70d010904"===_e&&(Ke=y(W,we,[1,0],"04"),Y.saMessageDigest=Ke)}},K=function(W,Y,Q,Se){Q.verifyDetail={};var De=Q.verifyDetail,we=Y.parse.econtent,_e=Q.hashalg,Ke=Q.saMessageDigest;De.validMessageDigest=!1,k(we,_e)===Ke&&(De.validMessageDigest=!0),function(W,Y,Q,Se){var we,De=Y.parse.certsIdx;if(void 0===Y.certs){we=[],Y.certkeys=[];for(var _e=_(W,De),Ke=0;Ke<_e.length;Ke++){var ot=C(W,_e[Ke]),dt=new be;dt.readCertHex(ot),we[Ke]=dt,Y.certkeys[Ke]=dt.getPublicKey()}Y.certs=we}else we=Y.certs;for(Y.cccc=we.length,Y.cccci=_e.length,Ke=0;Ke<we.length;Ke++){var Lt=dt.getIssuerHex(),jn=dt.getSerialNumberHex();Q.signerid_issuer1===Lt&&Q.signerid_serial1===jn&&(Q.certkey_idx=Ke)}}(W,Y,Q),De.validSignatureValue=!1;var ot=Q.sigalg,dt="31"+C(W,Q.idxSignedAttrs).substr(2);Q.signedattrshex=dt;var Lt=Y.certs[Q.certkey_idx].getPublicKey(),jn=new d.crypto.Signature({alg:ot});jn.init(Lt),jn.updateHex(dt);var dn=jn.verify(Q.sigval);De.validSignatureValue_isValid=dn,!0===dn&&(De.validSignatureValue=!0),Q.isValid=!1,De.validMessageDigest&&De.validSignatureValue&&(Q.isValid=!0)},$={isValid:!1,parse:{}};return function(W,Y){if("2a864886f70d010702"!==y(W,0,[0],"06"))return Y;Y.cmsType="signedData",Y.econtent=y(W,0,[1,0,2,1,0]),function(W,Y){for(var Q,Se=3;Se<6;Se++)if(void 0!==(Q=D(W,0,[1,0,Se]))){var De=W.substr(Q,2);"a0"===De&&(Y.certsIdx=Q),"a1"===De&&(Y.revinfosIdx=Q),"31"===De&&(Y.signerinfosIdx=Q)}}(W,Y),Y.signerInfos=[],function(W,Y){var Q=Y.signerinfosIdx;if(void 0!==Q){var Se=_(W,Q);Y.signerInfoIdxList=Se;for(var De=0;De<Se.length;De++){var _e={idx:Se[De]};te(W,_e),Y.signerInfos.push(_e)}}}(W,Y)}(B,$.parse),function(W,Y){for(var Q=Y.parse.signerInfos,Se=Q.length,De=!0,we=0;we<Se;we++){var _e=Q[we];K(W,Y,_e),_e.isValid||(De=!1)}Y.isValid=De}(B,$),$},d.asn1.cms.CMSParser=function(){var s=Error,a=be,u=new a,c=fe,h=c.getV,p=c.getTLV,v=c.getTLVbyList,E=c.getTLVbyListEx,x=c.getVbyList,F=c.getVbyListEx,A=c.getChildIdx;this.getCMSSignedData=function(w){var y=v(w,0,[1,0]);return this.getSignedData(y)},this.getSignedData=function(w){var y=A(w,0),b={},D=h(w,y[0]),_=parseInt(D,16);b.version=_;var C=p(w,y[1]);b.hashalgs=this.getHashAlgArray(C);var N=p(w,y[2]);b.econtent=this.getEContent(N);var k=E(w,0,["[0]"]);null!=k&&(b.certs=this.getCertificateSet(k)),E(w,0,["[1]"]);var L=E(w,0,[3]);return b.sinfos=this.getSignerInfos(L),b},this.getHashAlgArray=function(w){for(var y=A(w,0),b=new a,D=[],_=0;_<y.length;_++){var C=p(w,y[_]),N=b.getAlgorithmIdentifierName(C);D.push(N)}return D},this.getEContent=function(w){var y={},b=x(w,0,[0]),D=x(w,0,[1,0]);return y.type=d.asn1.x509.OID.oid2name(fe.hextooidstr(b)),y.content={hex:D},y},this.getSignerInfos=function(w){for(var y=[],b=A(w,0),D=0;D<b.length;D++){var _=p(w,b[D]),C=this.getSignerInfo(_);y.push(C)}return y},this.getSignerInfo=function(w){var y={},b=A(w,0),D=c.getInt(w,b[0],-1);-1!=D&&(y.version=D);var _=p(w,b[1]),C=this.getIssuerAndSerialNumber(_);y.id=C;var N=p(w,b[2]),k=u.getAlgorithmIdentifierName(N);y.hashalg=k;var B=E(w,0,["[0]"]);if(null!=B){var L=this.getAttributeList(B);y.sattrs=L}var X=E(w,0,[3]),te=u.getAlgorithmIdentifierName(X);y.sigalg=te;var P=F(w,0,[4]);y.sighex=P;var M=E(w,0,["[1]"]);if(null!=M){var H=this.getAttributeList(M);y.uattrs=H}return y},this.getSignerIdentifier=function(w){if("30"==w.substr(0,2))return this.getIssuerAndSerialNumber(w);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(w){var y={type:"isssn"},b=A(w,0),D=p(w,b[0]);y.issuer=u.getX500Name(D);var _=h(w,b[1]);return y.serial={hex:_},y},this.getAttributeList=function(w){for(var y=[],b=A(w,0),D=0;D<b.length;D++){var _=p(w,b[D]),C=this.getAttribute(_);y.push(C)}return{array:y}},this.getAttribute=function(w){var y={},b=A(w,0),D=c.getOID(w,b[0]),_=d.asn1.x509.OID.oid2name(D);y.attr=_;var C=p(w,b[1]),N=A(C,0);if(1==N.length)y.valhex=p(C,N[0]);else{for(var k=[],B=0;B<N.length;B++)k.push(p(C,N[B]));y.valhex=k}return"contentType"==_?this.setContentType(y):"messageDigest"==_?this.setMessageDigest(y):"signingTime"==_?this.setSigningTime(y):"signingCertificate"==_?this.setSigningCertificate(y):"signingCertificateV2"==_?this.setSigningCertificateV2(y):"signaturePolicyIdentifier"==_&&this.setSignaturePolicyIdentifier(y),y},this.setContentType=function(w){var y=c.getOIDName(w.valhex,0,null);null!=y&&(w.type=y,delete w.valhex)},this.setSigningTime=function(w){var b=lt(h(w.valhex,0));w.str=b,delete w.valhex},this.setMessageDigest=function(w){var y=h(w.valhex,0);w.hex=y,delete w.valhex},this.setSigningCertificate=function(w){var y=A(w.valhex,0);if(y.length>0){for(var b=p(w.valhex,y[0]),D=A(b,0),_=[],C=0;C<D.length;C++){var N=p(b,D[C]),k=this.getESSCertID(N);_.push(k)}w.array=_}if(y.length>1){var B=p(w.valhex,y[1]);w.polhex=B}delete w.valhex},this.setSignaturePolicyIdentifier=function(w){var y=A(w.valhex,0);if(y.length>0){var b=c.getOID(w.valhex,y[0]);w.oid=b}if(y.length>1){var D=new a,_=A(w.valhex,y[1]),C=p(w.valhex,_[0]),N=D.getAlgorithmIdentifierName(C);w.alg=N;var k=h(w.valhex,_[1]);w.hash=k}delete w.valhex},this.setSigningCertificateV2=function(w){var y=A(w.valhex,0);if(y.length>0){for(var b=p(w.valhex,y[0]),D=A(b,0),_=[],C=0;C<D.length;C++){var N=p(b,D[C]),k=this.getESSCertIDv2(N);_.push(k)}w.array=_}if(y.length>1){var B=p(w.valhex,y[1]);w.polhex=B}delete w.valhex},this.getESSCertID=function(w){var y={},b=A(w,0);if(b.length>0){var D=h(w,b[0]);y.hash=D}if(b.length>1){var _=p(w,b[1]),C=this.getIssuerSerial(_);null!=C.serial&&(y.serial=C.serial),null!=C.issuer&&(y.issuer=C.issuer)}return y},this.getESSCertIDv2=function(w){var y={},b=A(w,0);if(b.length<1||3<b.length)throw new s("wrong number of elements");var D=0;if("30"==w.substr(b[0],2)){var _=p(w,b[0]);y.alg=u.getAlgorithmIdentifierName(_),D++}else y.alg="sha256";var C=h(w,b[D]);if(y.hash=C,b.length>D+1){var N=p(w,b[D+1]),k=this.getIssuerSerial(N);y.issuer=k.issuer,y.serial=k.serial}return y},this.getIssuerSerial=function(w){var y={},b=A(w,0),D=p(w,b[0]),_=u.getGeneralNames(D);y.issuer=_[0].dn;var N=h(w,b[1]);return y.serial={hex:N},y},this.getCertificateSet=function(w){for(var y=A(w,0),b=[],D=0;D<y.length;D++){var _=p(w,y[D]);if("30"==_.substr(0,2)){var C=ft(_,"CERTIFICATE");b.push(C)}}return{array:b,sortflag:!1}}},(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),(typeof d.asn1.tsp>"u"||!d.asn1.tsp)&&(d.asn1.tsp={}),d.asn1.tsp.TimeStampToken=function(s){var c=d.asn1.tsp;c.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var h=new c.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=h.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.TimeStampToken,d.asn1.cms.SignedData),d.asn1.tsp.TSTInfo=function(s){Error;var c=d.asn1,h=c.DERSequence,p=c.DERInteger,g=c.DERBoolean,v=c.DERGeneralizedTime,E=c.DERObjectIdentifier,x=c.DERTaggedObject,F=c.tsp,A=F.MessageImprint,w=F.Accuracy,b=c.x509.GeneralName;if(F.TSTInfo.superclass.constructor.call(this),this.dVersion=new p({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var D=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(D.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(D.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(D.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");D.push(this.dGenTime),null!=this.dAccuracy&&D.push(this.dAccuracy),null!=this.dOrdering&&D.push(this.dOrdering),null!=this.dNonce&&D.push(this.dNonce),null!=this.dTsa&&D.push(this.dTsa);var _=new h({array:D});return this.hTLV=_.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s){if("string"==typeof s.policy){if(!s.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new E({oid:s.policy})}void 0!==s.messageImprint&&(this.dMessageImprint=new A(s.messageImprint)),void 0!==s.serial&&(this.dSerial=new p(s.serial)),void 0!==s.genTime&&(this.dGenTime=new v(s.genTime)),void 0!==s.accuracy&&(this.dAccuracy=new w(s.accuracy)),void 0!==s.ordering&&1==s.ordering&&(this.dOrdering=new g),void 0!==s.nonce&&(this.dNonce=new p(s.nonce)),void 0!==s.tsa&&(this.dTsa=new x({tag:"a0",explicit:!0,obj:new b({dn:s.tsa})}))}},re(d.asn1.tsp.TSTInfo,d.asn1.ASN1Object),d.asn1.tsp.Accuracy=function(s){var u=d.asn1,c=u.ASN1Util.newObject;u.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,p=[];return null!=h.seconds&&"number"==typeof h.seconds&&p.push({int:h.seconds}),null!=h.millis&&"number"==typeof h.millis&&p.push({tag:{tagi:"80",obj:{int:h.millis}}}),null!=h.micros&&"number"==typeof h.micros&&p.push({tag:{tagi:"81",obj:{int:h.micros}}}),c({seq:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.Accuracy,d.asn1.ASN1Object),d.asn1.tsp.MessageImprint=function(s){var u=d.asn1,c=u.DERSequence,h=u.DEROctetString,g=u.x509.AlgorithmIdentifier;u.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,E=new g({name:v.alg}),x=new h({hex:v.hash});return new c({array:[E,x]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.tsp.MessageImprint,d.asn1.ASN1Object),d.asn1.tsp.TimeStampReq=function(s){var u=d.asn1,c=u.DERSequence,h=u.DERInteger,p=u.DERBoolean,v=u.DERObjectIdentifier,E=u.tsp,x=E.MessageImprint;E.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params,A=[];return A.push(new h({int:1})),A.push(F.messageImprint instanceof d.asn1.ASN1Object?F.messageImprint:new x(F.messageImprint)),null!=F.policy&&A.push(new v(F.policy)),null!=F.nonce&&A.push(new h(F.nonce)),1==F.certreq&&A.push(new p),new c({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.TimeStampReq,d.asn1.ASN1Object),d.asn1.tsp.TimeStampResp=function(s){var u=d.asn1,c=u.DERSequence,p=u.tsp,g=p.PKIStatusInfo;p.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,E=[];if(null!=v.econtent||null!=v.tst)if(E.push(new g(null!=v.statusinfo?v.statusinfo:"granted")),null!=v.econtent)E.push(new p.TimeStampToken(v).getContentInfo());else{if(!(v.tst instanceof u.ASN1Object))throw new Error("improper member tst value");E.push(v.tst)}else{if(null==v.statusinfo)throw new Error("parameter for token nor statusinfo not specified");E.push(new g(v.statusinfo))}return new c({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.TimeStampResp,d.asn1.ASN1Object),d.asn1.tsp.PKIStatusInfo=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.tsp,g=p.PKIStatus,v=p.PKIFreeText,E=p.PKIFailureInfo;p.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var x=this.params,F=[];if("string"==typeof x)F.push(new g(x));else{if(null==x.status)throw new a("property 'status' unspecified");F.push(new g(x.status)),null!=x.statusstr&&F.push(new v(x.statusstr)),null!=x.failinfo&&F.push(new E(x.failinfo))}return new h({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.PKIStatusInfo,d.asn1.ASN1Object),d.asn1.tsp.PKIStatus=function(s){var a=Error,c=d.asn1,h=c.DERInteger;c.tsp.PKIStatus.superclass.constructor.call(this);var g={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var x,v=this.params;if("string"==typeof v)try{x=g[v]}catch{throw new a("undefined name: "+v)}else{if("number"!=typeof v)throw new a("unsupported params");x=v}return new h({int:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.PKIStatus,d.asn1.ASN1Object),d.asn1.tsp.PKIFreeText=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.DERUTF8String;c.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new a("wrong params: not array");for(var E=[],x=0;x<v.length;x++)E.push(new p({str:v[x]}));return new h({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.PKIFreeText,d.asn1.ASN1Object),d.asn1.tsp.PKIFailureInfo=function(s){var a=Error,c=d.asn1,h=c.DERBitString,v={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};c.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var E=this.params,x=0;if("number"==typeof E&&0<=E&&E<=25){for(var F=(x|=1<<E).toString(2),A="",w=F.length-1;w>=0;w--)A+=F[w];return A}if("string"==typeof E&&null!=v[E])return Wo([E],v);if("object"==typeof E&&null!=E.length)return Wo(E,v);throw new a("wrong params")},this.tohex=function(){var x=this.getBinValue();return new h({bin:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.tsp.PKIFailureInfo,d.asn1.ASN1Object),d.asn1.tsp.AbstractTSAAdapter=function(s){this.getTSTHex=function(a,u){throw"not implemented yet"}},d.asn1.tsp.SimpleTSAAdapter=function(s){var c=d.asn1.tsp,h=d.crypto.Util.hashHex;c.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(p,g){var v=h(p,g);this.params.econtent.content.messageImprint={alg:g,hash:v},this.params.econtent.content.serial={int:this.serial++};var E=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:E},new c.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},re(d.asn1.tsp.SimpleTSAAdapter,d.asn1.tsp.AbstractTSAAdapter),d.asn1.tsp.FixedTSAAdapter=function(s){var c=d.asn1.tsp,h=d.crypto.Util.hashHex;c.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(p,g){var v=h(p,g);return this.params.econtent.content.messageImprint={alg:g,hash:v},new c.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},re(d.asn1.tsp.FixedTSAAdapter,d.asn1.tsp.AbstractTSAAdapter),d.asn1.tsp.TSPUtil=new function(){},d.asn1.tsp.TSPUtil.newTimeStampToken=function(s){return new d.asn1.tsp.TimeStampToken(s)},d.asn1.tsp.TSPUtil.parseTimeStampReq=function(s){return(new d.asn1.tsp.TSPParser).getTimeStampReq(s)},d.asn1.tsp.TSPUtil.parseMessageImprint=function(s){return(new d.asn1.tsp.TSPParser).getMessageImprint(s)},d.asn1.tsp.TSPParser=function(){Error;var u=new be,c=fe,h=c.getV,p=c.getTLV,g=c.getIdxbyList,E=c.getChildIdx,x=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],F={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(A){var w=E(A,0);if(1==w.length)return this.getPKIStatusInfo(p(A,w[0]));if(w.length>1){var y=this.getPKIStatusInfo(p(A,w[0])),b=p(A,w[1]),D=this.getToken(b);return D.statusinfo=y,D}},this.getToken=function(A){var y=(new d.asn1.cms.CMSParser).getCMSSignedData(A);return this.setTSTInfo(y),y},this.setTSTInfo=function(A){var w=A.econtent;if("tstinfo"==w.type){var b=this.getTSTInfo(w.content.hex);w.content=b}},this.getTSTInfo=function(A){var w={},y=E(A,0),b=h(A,y[1]);w.policy=Oi(b);var D=p(A,y[2]);w.messageImprint=this.getMessageImprint(D);var _=h(A,y[3]);w.serial={hex:_};var C=h(A,y[4]);w.genTime={str:lt(C)};var N=0;if(y.length>5&&"30"==A.substr(y[5],2)){var k=p(A,y[5]);w.accuracy=this.getAccuracy(k),N++}if(y.length>5+N&&"01"==A.substr(y[5+N],2)&&("ff"==h(A,y[5+N])&&(w.ordering=!0),N++),y.length>5+N&&"02"==A.substr(y[5+N],2)){var L=h(A,y[5+N]);w.nonce={hex:L},N++}if(y.length>5+N&&"a0"==A.substr(y[5+N],2)){var X=p(A,y[5+N]);X="30"+X.substr(2),pGeneralNames=u.getGeneralNames(X);var te=pGeneralNames[0].dn;w.tsa=te,N++}if(y.length>5+N&&"a1"==A.substr(y[5+N],2)){var P=p(A,y[5+N]);P="30"+P.substr(2);var M=u.getExtParamArray(P);w.ext=M,N++}return w},this.getAccuracy=function(A){for(var w={},y=E(A,0),b=0;b<y.length;b++){var D=A.substr(y[b],2),_=h(A,y[b]),C=parseInt(_,16);"02"==D?w.seconds=C:"80"==D?w.millis=C:"81"==D&&(w.micros=C)}return w},this.getMessageImprint=function(A){if("30"!=A.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var w={},b=(E(A,0),g(A,0,[0,0])),D=h(A,b),_=c.hextooidstr(D),C=d.asn1.x509.OID.oid2name(_);if(""==C)throw new Error("hashAlg name undefined: "+_);var N=C,k=g(A,0,[1]);return w.alg=N,w.hash=h(A,k),w},this.getPKIStatusInfo=function(A){var w={},y=E(A,0),b=0;try{var D=h(A,y[0]),_=parseInt(D,16);w.status=x[_]}catch{}if(y.length>1&&"30"==A.substr(y[1],2)){var C=p(A,y[1]);w.statusstr=this.getPKIFreeText(C),b++}if(y.length>b&&"03"==A.substr(y[1+b],2)){var N=p(A,y[1+b]);w.failinfo=this.getPKIFailureInfo(N)}return w},this.getPKIFreeText=function(A){for(var w=[],y=E(A,0),b=0;b<y.length;b++)w.push(c.getString(A,y[b]));return w},this.getPKIFailureInfo=function(A){var w=c.getInt(A,0);return null!=F[w]?F[w]:w},this.getTimeStampReq=function(A){var w={certreq:!1},y=E(A,0);if(y.length<2)throw new Error("TimeStampReq must have at least 2 items");var b=p(A,y[1]);w.messageImprint=d.asn1.tsp.TSPUtil.parseMessageImprint(b);for(var D=2;D<y.length;D++){var _=y[D],C=A.substr(_,2);if("06"==C){var N=h(A,_);w.policy=c.hextooidstr(N)}"02"==C&&(w.nonce=h(A,_)),"01"==C&&(w.certreq=!0)}return w}},(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),(typeof d.asn1.cades>"u"||!d.asn1.cades)&&(d.asn1.cades={}),d.asn1.cades.SignaturePolicyIdentifier=function(s){var c=d.asn1.cades,h=c.SignaturePolicyId;c.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new h(this.params)]},this.setByParam=function(p){this.params=p},null!=s&&this.setByParam(s)},re(d.asn1.cades.SignaturePolicyIdentifier,d.asn1.cms.Attribute),d.asn1.cades.SignaturePolicyId=function(s){var u=d.asn1,c=u.DERSequence,h=u.DERObjectIdentifier,v=u.cades,x=v.OtherHashAlgAndValue;v.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params,A=[];return A.push(new h(F.oid)),A.push(new x(F)),new c({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(F){this.params=F},null!=s&&this.setByParam(s)},re(d.asn1.cades.SignaturePolicyId,d.asn1.ASN1Object),d.asn1.cades.OtherHashAlgAndValue=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.DEROctetString,v=c.x509.AlgorithmIdentifier;c.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params;if(null==F.alg)throw new a("property 'alg' not specified");if(null==F.hash&&null==F.cert)throw new a("property 'hash' nor 'cert' not specified");var A=null;if(null!=F.hash)A=F.hash;else if(null!=F.cert){if("string"!=typeof F.cert)throw new a("cert not string");var w=F.cert;-1!=F.cert.indexOf("-----BEGIN")&&(w=Ot(F.cert)),A=d.crypto.Util.hashHex(w,F.alg)}var y=[];return y.push(new v({name:F.alg})),y.push(new p({hex:A})),new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cades.OtherHashAlgAndValue,d.asn1.ASN1Object),d.asn1.cades.OtherHashValue=function(s){d.asn1.cades.OtherHashValue.superclass.constructor.call(this);var a=Error,p=d.asn1.DEROctetString;this.params=null,this.tohex=function(){var v=this.params;if(null==v.hash&&null==v.cert)throw new a("hash or cert not specified");var E=null;if(null!=v.hash)E=v.hash;else if(null!=v.cert){if("string"!=typeof v.cert)throw new a("cert not string");var x=v.cert;-1!=v.cert.indexOf("-----BEGIN")&&(x=Ot(v.cert)),E=d.crypto.Util.hashHex(x,"sha1")}return new p({hex:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cades.OtherHashValue,d.asn1.ASN1Object),d.asn1.cades.SignatureTimeStamp=function(s){var a=Error,c=d.lang.String.isHex,h=d.asn1,p=h.ASN1Object;h.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var E=this.params;if(null!=E.tst){if(c(E.tst))return(x=new p).hTLV=E.tst,[x];if(E.tst instanceof p)return[E.tst];throw new a("params.tst has wrong value")}if(null!=E.res){var x,F=E.res;if(F instanceof p&&(F=F.tohex()),"string"!=typeof F||!c(F))throw new a("params.res has wrong value");return fe.getTLVbyList(F,0,[1]),(x=new p).hTLV=E.tst,[x]}},null!=s&&this.setByParam(s)},re(d.asn1.cades.SignatureTimeStamp,d.asn1.cms.Attribute),d.asn1.cades.CompleteCertificateRefs=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.cades,g=p.OtherCertID,v=d.lang.String.isHex;p.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var E=this.params,x=[],F=0;F<E.array.length;F++){var A=E.array[F];if("string"==typeof A)if(-1!=A.indexOf("-----BEGIN"))A={cert:A};else{if(!v(A))throw new a("unsupported value: "+A);A={hash:A}}null!=E.alg&&null==A.alg&&(A.alg=E.alg),null!=E.hasis&&null==A.hasis&&(A.hasis=E.hasis);var w=new g(A);x.push(w)}return[new h({array:x})]},null!=s&&this.setByParam(s)},re(d.asn1.cades.CompleteCertificateRefs,d.asn1.cms.Attribute),d.asn1.cades.OtherCertID=function(s){var u=d.asn1,c=u.DERSequence,p=u.cms.IssuerSerial,g=u.cades,v=g.OtherHashValue,E=g.OtherHashAlgAndValue;g.OtherCertID.superclass.constructor.call(this),this.params=s,this.tohex=function(){var x=this.params;"string"==typeof x&&(-1!=x.indexOf("-----BEGIN")?x={cert:x}:_isHex(x)&&(x={hash:x}));var A,F=[];if(A=null!=x.alg?new E(x):new v(x),F.push(A),null!=x.cert&&1==x.hasis||null!=x.issuer&&null!=x.serial){var w=new p(x);F.push(w)}return new c({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cades.OtherCertID,d.asn1.ASN1Object),d.asn1.cades.OtherHash=function(s){Error;var p=d.asn1.cades,g=p.OtherHashAlgAndValue,v=p.OtherHashValue,x=d.lang.String.isHex;p.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params;return"string"==typeof F&&(-1!=F.indexOf("-----BEGIN")?F={cert:F}:x(F)&&(F={hash:F})),(null!=F.alg?new g(F):new v(F)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.cades.OtherHash,d.asn1.ASN1Object),d.asn1.cades.CAdESUtil=new function(){},d.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(s){return(new d.asn1.cms.CMSParser).getCMSSignedData(s)},d.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(s,a,u){var p=fe.getTLV,g=fe.getV,E=d.asn1,x=E.ASN1Object,F=E.cms,A=F.AttributeList,w=F.SignerInfo,y={},b=(0,fe.getChildIdx)(s,a);if(6!=b.length)throw"not supported items for SignerInfo (!=6)";var D=b.shift();y.version=p(s,D);var _=b.shift();y.si=p(s,_);var C=b.shift();y.digalg=p(s,C);var N=b.shift();y.sattrs=p(s,N);var k=b.shift();y.sigalg=p(s,k);var B=b.shift();y.sig=p(s,B),y.sigval=g(s,B);var L=null;return y.obj=new w,(L=new x).hTLV=y.version,y.obj.dCMSVersion=L,(L=new x).hTLV=y.si,y.obj.dSignerIdentifier=L,(L=new x).hTLV=y.digalg,y.obj.dDigestAlgorithm=L,(L=new x).hTLV=y.sattrs,y.obj.dSignedAttrs=L,(L=new x).hTLV=y.sigalg,y.obj.dSigAlg=L,(L=new x).hTLV=y.sig,y.obj.dSig=L,y.obj.dUnsignedAttrs=new A,y},(typeof d.asn1.csr>"u"||!d.asn1.csr)&&(d.asn1.csr={}),d.asn1.csr.CertificationRequest=function(s){var u=d.asn1,c=u.DERBitString,h=u.DERSequence,p=u.csr,v=p.CertificationRequestInfo;p.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(E){this.params=E},this.sign=function(){var E=new v(this.params).tohex(),x=new d.crypto.Signature({alg:this.params.sigalg});x.init(this.params.sbjprvkey),x.updateHex(E);var F=x.sign();this.params.sighex=F},this.getPEM=function(){return ft(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var E=this.params,x=new d.asn1.csr.CertificationRequestInfo(this.params),F=new d.asn1.x509.AlgorithmIdentifier({name:E.sigalg});if(null==E.sighex&&null!=E.sbjprvkey&&this.sign(),null==E.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var A=new c({hex:"00"+E.sighex});return new h({array:[x,F,A]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.csr.CertificationRequest,d.asn1.ASN1Object),d.asn1.csr.CertificationRequestInfo=function(s){var u=d.asn1,h=u.DERSequence,p=u.DERInteger,g=u.DERUTF8String,v=u.DERTaggedObject,E=u.ASN1Util.newObject,F=u.x509,A=F.X500Name,w=F.Extensions,y=F.SubjectPublicKeyInfo;u.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(_){null!=_&&(this.params=_)},this.tohex=function(){var _=this.params,C=[];if(C.push(new p({int:0})),C.push(new A(_.subject)),C.push(new y(je.getKey(_.sbjpubkey))),null!=_.attrs){var N=function D(_){for(var C=Error,N=d.asn1.x509.Extensions,k=[],B=0;B<_.length;B++){var L=_[B],X=L.attr;if("extensionRequest"==X){var te=new N(L.ext);k.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[te]}]})}else if("unstructuredName"==X)k.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:L.names}]});else{if("challengePassword"!=X)throw new C("unknown CSR attribute");k.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:L.password}]}]})}}return{set:k}}(_.attrs),k=E({tag:{tage:"a0",obj:N}});C.push(k)}else if(null!=_.extreq){var B=new w(_.extreq);k=E({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[B]}]}}}),C.push(k)}else C.push(new v({tag:"a0",explicit:!1,obj:new g({str:""})}));return new h({array:C}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},re(d.asn1.csr.CertificationRequestInfo,d.asn1.ASN1Object),d.asn1.csr.AttributeList=function(s){},re(d.asn1.csr.AttributeList,d.asn1.ASN1Object),d.asn1.csr.CSRUtil=new function(){},d.asn1.csr.CSRUtil.newCSRPEM=function(s){return new d.asn1.csr.CertificationRequest(s).getPEM()},d.asn1.csr.CSRUtil.getParam=function(s,a){var c=fe.getV,h=fe.getIdxbyList,p=fe.getTLVbyList,g=fe.getTLVbyListEx,v=fe.getVbyListEx,x={};if(-1==s.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var F=Ot(s,"CERTIFICATE REQUEST");a&&(x.tbs=p(F,0,[0]));try{var A=g(F,0,[0,1]);if("3000"==A)x.subject={};else{var D=new be;x.subject=D.getX500Name(A)}}catch{}var w=g(F,0,[0,2]),y=je.getKey(w,null,"pkcs8pub");x.sbjpubkey=je.getPEM(y,"PKCS8PUB");var N,k,b=(k=h(N=F,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=c(N,k)?null:p(N,0,[0,3,0,1,0],"30"));D=new be,null!=b&&(x.extreq=D.getExtParamArray(b));try{var _=g(F,0,[1],"30");D=new be,x.sigalg=D.getAlgorithmIdentifierName(_)}catch{}try{var C=v(F,0,[2]);x.sighex=C}catch{}return x},d.asn1.csr.CSRUtil.verifySignature=function(s){try{var a=null;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN CERTIFICATE REQUEST")?a=d.asn1.csr.CSRUtil.getParam(s,!0):"object"==typeof s&&null!=s.sbjpubkey&&null!=s.sigalg&&null!=s.sighex&&null!=s.tbs&&(a=s),null==a)return!1;var u=new d.crypto.Signature({alg:a.sigalg});return u.init(a.sbjpubkey),u.updateHex(a.tbs),u.verify(a.sighex)}catch(c){return alert(c),!1}},(typeof d>"u"||!d)&&(d={}),(typeof d.asn1>"u"||!d.asn1)&&(d.asn1={}),(typeof d.asn1.ocsp>"u"||!d.asn1.ocsp)&&(d.asn1.ocsp={}),d.asn1.ocsp.DEFAULT_HASH="sha1",d.asn1.ocsp.OCSPResponse=function(s){d.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var u=d.asn1.ASN1Util.newObject,c=d.asn1.ocsp.ResponseBytes,h=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var p=this.params.resstatus;return"number"==typeof p?p:"string"!=typeof p?-1:h.indexOf(p)},this.setByParam=function(p){this.params=p},this.tohex=function(){var p=this.params,g=this._getStatusCode();if(-1==g)throw new Error("responseStatus not supported: "+p.resstatus);if(0!=g)return u({seq:[{enum:{int:g}}]}).tohex();var v=new c(p);return u({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:v}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.OCSPResponse,d.asn1.ASN1Object),d.asn1.ocsp.ResponseBytes=function(s){d.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var a=d.asn1,u=a.DERSequence,c=a.DERObjectIdentifier,h=a.DEROctetString,p=a.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params;if("ocspBasic"!=g.restype)throw new Error("not supported responseType: "+g.restype);var v=new p(g),E=[];return E.push(new c({name:"ocspBasic"})),E.push(new h({hex:v.tohex()})),new u({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.ResponseBytes,d.asn1.ASN1Object),d.asn1.ocsp.BasicOCSPResponse=function(s){d.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var a=Error,u=d.asn1,c=u.ASN1Object,h=u.DERSequence,g=u.DERTaggedObject,v=u.DERBitString,x=u.x509.AlgorithmIdentifier,F=u.ocsp;_SingleResponseList=F.SingleResponseList,_ResponseData=F.ResponseData,this.params=null,this.setByParam=function(w){this.params=w},this.sign=function(){var w=this.params,y=w.tbsresp.tohex(),b=new d.crypto.Signature({alg:w.sigalg});b.init(w.reskey),b.updateHex(y),w.sighex=b.sign()},this.tohex=function(){var w=this.params;null==w.tbsresp&&(w.tbsresp=new _ResponseData(w)),null==w.sighex&&null!=w.reskey&&this.sign();var y=[];if(y.push(w.tbsresp),y.push(new x({name:w.sigalg})),y.push(new v({hex:"00"+w.sighex})),null!=w.certs&&null!=w.certs.length){for(var b=[],D=0;D<w.certs.length;D++){var _=w.certs[D],C=null;if(fe.isASN1HEX(_))C=_;else{if(!_.match(/-----BEGIN/))throw new a("certs["+D+"] not hex or PEM");C=Ot(_)}b.push(new c({tlv:C}))}var N=new h({array:b});y.push(new g({tag:"a0",explicit:!0,obj:N}))}return new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.BasicOCSPResponse,d.asn1.ASN1Object),d.asn1.ocsp.ResponseData=function(s){d.asn1.ocsp.ResponseData.superclass.constructor.call(this);var a=Error,u=d.asn1,c=u.DERSequence,h=u.DERGeneralizedTime,p=u.DERTaggedObject,g=u.x509.Extensions,v=u.ocsp,E=v.ResponderID;_SingleResponseList=v.SingleResponseList,this.params=null,this.tohex=function(){var x=this.params;null!=x.respid&&new a("respid not specified"),null!=x.prodat&&new a("prodat not specified"),null!=x.array&&new a("array not specified");var F=[];if(F.push(new E(x.respid)),F.push(new h(x.prodat)),F.push(new _SingleResponseList(x.array)),null!=x.ext){var A=new g(x.ext);F.push(new p({tag:"a1",explicit:!0,obj:A}))}return new c({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(x){this.params=x},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.ResponseData,d.asn1.ASN1Object),d.asn1.ocsp.ResponderID=function(s){d.asn1.ocsp.ResponderID.superclass.constructor.call(this);var u=d.asn1,c=u.ASN1Util.newObject,h=u.x509.X500Name,p=d.lang.String.isHex,g=Error;this.params=null,this.tohex=function(){var v=this.params;if(null!=v.key){var E=null;if("string"==typeof v.key)p(v.key)&&(E=v.key),v.key.match(/-----BEGIN CERTIFICATE/)&&null!=(F=new be(v.key).getExtSubjectKeyIdentifier())&&(E=F.kid.hex);else if(v.key instanceof be){var F;null!=(F=v.key.getExtSubjectKeyIdentifier())&&(E=F.kid.hex)}if(null==E)throw new g("wrong key member value");return c({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:E}}}}).tohex()}if(null!=v.name){var w=null;if("string"==typeof v.name&&v.name.match(/-----BEGIN CERTIFICATE/)?w=new be(v.name).getSubject():v.name instanceof be?w=v.name.getSubject():"object"==typeof v.name&&(null!=v.name.array||null!=v.name.str)&&(w=v.name),null==w)throw new g("wrong name member value");return c({tag:{tag:"a1",explicit:!0,obj:new h(w)}}).tohex()}throw new g("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.ResponderID,d.asn1.ASN1Object),d.asn1.ocsp.SingleResponseList=function(s){d.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var a=d.asn1,u=a.DERSequence,c=a.ocsp.SingleResponse;this.params=null,this.tohex=function(){var h=this.params;if("object"!=typeof h||null==h.length)throw new Error("params not specified properly");for(var p=[],g=0;g<h.length;g++)p.push(new c(h[g]));return new u({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(h){this.params=h},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.SingleResponseList,d.asn1.ASN1Object),d.asn1.ocsp.SingleResponse=function(s){var a=Error,c=d.asn1,h=c.DERSequence,p=c.DERGeneralizedTime,g=c.DERTaggedObject,v=c.ocsp,E=v.CertID,x=v.CertStatus,A=c.x509.Extensions;v.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params,y=[];if(null==w.certid)throw new a("certid unspecified");if(null==w.status)throw new a("status unspecified");if(null==w.thisupdate)throw new a("thisupdate unspecified");if(y.push(new E(w.certid)),y.push(new x(w.status)),y.push(new p(w.thisupdate)),null!=w.nextupdate){var b=new p(w.nextupdate);y.push(new g({tag:"a0",explicit:!0,obj:b}))}if(null!=w.ext){var D=new A(w.ext);y.push(new g({tag:"a1",explicit:!0,obj:D}))}return new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(w){this.params=w},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.SingleResponse,d.asn1.ASN1Object),d.asn1.ocsp.CertID=function(s){var u=d.asn1,c=u.DEROctetString,h=u.DERInteger,p=u.DERSequence,v=u.x509.AlgorithmIdentifier,A=d.crypto.Util.hashHex,w=be,b=fe.getVbyList;u.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(D,_,C,N){null==N&&(N=this.DEFAULT_HASH),this.params={alg:N,issname:D,isskey:_,sbjsn:C}},this.setByCert=function(D,_,C){null==C&&(C=this.DEFAULT_HASH),this.params={alg:C,issuerCert:D,subjectCert:_}},this.getParamByCerts=function(D,_,C){null==C&&(C=this.DEFAULT_HASH);var N=new w(D),k=new w(_),B=A(N.getSubjectHex(),C),L=N.getPublicKeyHex();return{alg:C,issname:B,isskey:A(b(L,0,[1],"03",!0),C),sbjsn:k.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var _,C,N,k,D=this.params;if(k=null==D.alg?this.DEFAULT_HASH:D.alg,null!=D.issuerCert&&null!=D.subjectCert){var B=this.getParamByCerts(D.issuerCert,D.subjectCert,k);_=B.issname,C=B.isskey,N=B.sbjsn}else{if(null==D.issname||null==D.isskey||null==D.sbjsn)throw new Error("required param members not defined");_=D.issname,C=D.isskey,N=D.sbjsn}var L=new v({name:k}),X=new c({hex:_}),te=new c({hex:C}),P=new h({hex:N}),M=new p({array:[L,X,te,P]});return this.hTLV=M.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.CertID,d.asn1.ASN1Object),d.asn1.ocsp.CertStatus=function(s){d.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if("good"==a.status)return"8000";if("unknown"==a.status)return"8200";if("revoked"==a.status){var u=[{gentime:{str:a.time}}];return null!=a.reason&&u.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:a.reason}}}}),d.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:u}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(a){this.params=a},void 0!==s&&this.setByParam(s)},re(d.asn1.ocsp.CertStatus,d.asn1.ASN1Object),d.asn1.ocsp.Request=function(s){var u=d.asn1,c=u.DERSequence,h=u.ocsp;if(h.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var g=[];if(null===this.dReqCert)throw"reqCert not set";g.push(this.dReqCert);var v=new c({array:g});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof s<"u"){var p=new h.CertID(s);this.dReqCert=p}},re(d.asn1.ocsp.Request,d.asn1.ASN1Object),d.asn1.ocsp.TBSRequest=function(s){var u=d.asn1,c=u.DERSequence,h=u.ocsp;h.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(p){for(var g=[],v=0;v<p.length;v++){var E=new h.Request(p[0]);g.push(E)}this.dRequestList=g},this.tohex=function(){var p=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var g=new c({array:this.dRequestList});if(p.push(g),null!==this.dRequestExt)throw"requestExtensions not supported";var v=new c({array:p});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList&&this.setRequestListByParam(s.reqList)},re(d.asn1.ocsp.TBSRequest,d.asn1.ASN1Object),d.asn1.ocsp.OCSPRequest=function(s){var u=d.asn1,c=u.DERSequence,h=u.ocsp;if(h.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var g=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(g.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var v=new c({array:g});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList){var p=new h.TBSRequest(s);this.dTbsRequest=p}},re(d.asn1.ocsp.OCSPRequest,d.asn1.ASN1Object),d.asn1.ocsp.OCSPUtil={},d.asn1.ocsp.OCSPUtil.getRequestHex=function(s,a,u){var p=d.asn1.ocsp;return void 0===u&&(u=p.DEFAULT_HASH),new p.OCSPRequest({reqList:[{alg:u,issuerCert:s,subjectCert:a}]}).tohex()},d.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(s){var u=fe.getVbyList,c=fe.getVbyListEx,h=fe.getIdxbyList,g=fe.getV,v={};try{var E=c(s,0,[0],"0a");v.responseStatus=parseInt(E,16)}catch{}if(0!==v.responseStatus)return v;try{var x=h(s,0,[1,0,1,0,0,2,0,1]);"80"===s.substr(x,2)?v.certStatus="good":"a1"===s.substr(x,2)?(v.certStatus="revoked",v.revocationTime=lt(u(s,x,[0]))):"82"===s.substr(x,2)&&(v.certStatus="unknown")}catch{}try{var F=h(s,0,[1,0,1,0,0,2,0,2]);v.thisUpdate=lt(g(s,F))}catch{}try{var A=h(s,0,[1,0,1,0,0,2,0,3]);"a0"===s.substr(A,2)&&(v.nextUpdate=lt(u(s,A,[0])))}catch{}return v},d.asn1.ocsp.OCSPParser=function(){var s=Error,a=be,u=new a,h=fe.getV,p=fe.getTLV,g=fe.getIdxbyList,v=fe.getVbyList,E=fe.getTLVbyList,x=fe.getVbyListEx,F=fe.getTLVbyListEx,A=fe.getChildIdx;this.getOCSPRequest=function(w){var y=A(w,0);if(1!=y.length&&2!=y.length)throw new s("wrong number elements: "+y.length);return this.getTBSRequest(p(w,y[0]))},this.getTBSRequest=function(w){var y={},b=F(w,0,[0],"30");y.array=this.getRequestList(b);var D=F(w,0,["[2]",0],"30");return null!=D&&(y.ext=u.getExtParamArray(D)),y},this.getRequestList=function(w){for(var y=[],b=A(w,0),D=0;D<b.length;D++)w=p(w,b[D]),y.push(this.getRequest(w));return y},this.getRequest=function(w){var y=A(w,0);if(1!=y.length&&2!=y.length)throw new s("wrong number elements: "+y.length);var b=this.getCertID(p(w,y[0]));if(2==y.length){var D=g(w,0,[1,0]);b.ext=u.getExtParamArray(p(w,D))}return b},this.getCertID=function(w){var y=A(w,0);if(4!=y.length)throw new s("wrong number elements: "+y.length);var b=new a,D={};return D.alg=b.getAlgorithmIdentifierName(p(w,y[0])),D.issname=h(w,y[1]),D.isskey=h(w,y[2]),D.sbjsn=h(w,y[3]),D},this.getOCSPResponse=function(w){var b,y=A(w,0),D=h(w,y[0]),_=parseInt(D);if(1==y.length)return{resstatus:_};var C=E(w,0,[1,0]);return(b=this.getResponseBytes(C)).resstatus=_,b},this.getResponseBytes=function(w){var b,y=A(w,0),D=E(w,0,[1,0]);b=this.getBasicOCSPResponse(D);var _=h(w,y[0]);return b.restype=d.asn1.x509.OID.oid2name(Oi(_)),b},this.getBasicOCSPResponse=function(w){var b,y=A(w,0);b=this.getResponseData(p(w,y[0]));var D=new be;b.alg=D.getAlgorithmIdentifierName(p(w,y[1]));var _=h(w,y[2]);b.sighex=_.substr(2);var C=x(w,0,["[0]"]);if(null!=C){for(var N=A(C,0),k=[],B=0;B<N.length;B++){var L=p(C,N[B]);k.push(L)}b.certs=k}return b},this.getResponseData=function(w){var y=A(w,0),b=y.length,D={},_=0;"a0"==w.substr(y[0],2)&&_++,D.respid=this.getResponderID(p(w,y[_++]));var C=h(w,y[_++]);if(D.prodat=lt(C),D.array=this.getSingleResponseList(p(w,y[_++])),"a1"==w.substr(y[b-1],2)){var N=E(w,y[b-1],[0]),k=new be;D.ext=k.getExtParamArray(N)}return D},this.getResponderID=function(w){var y={};if("a2"==w.substr(0,2)){var b=v(w,0,[0]);y.key=b}if("a1"==w.substr(0,2)){var D=E(w,0,[0]),_=new be;y.name=_.getX500Name(D)}return y},this.getSingleResponseList=function(w){for(var y=A(w,0),b=[],D=0;D<y.length;D++){var _=this.getSingleResponse(p(w,y[D]));b.push(_)}return b},this.getSingleResponse=function(w){var y=A(w,0),b={},D=this.getCertID(p(w,y[0]));b.certid=D;var _=this.getCertStatus(p(w,y[1]));if(b.status=_,"18"==w.substr(y[2],2)){var C=h(w,y[2]);b.thisupdate=lt(C)}for(var N=3;N<y.length;N++){if("a0"==w.substr(y[N],2)){var k=v(w,y[N],[0],"18");b.nextupdate=lt(k)}if("a1"==w.substr(y[N],2)){var B=new be,L=E(w,0,[N,0]);b.ext=B.getExtParamArray(L)}}return b},this.getCertStatus=function(w){var y={};if("8000"==w)return{status:"good"};if("8200"==w)return{status:"unknown"};if("a1"==w.substr(0,2)){y.status="revoked";var D=lt(v(w,0,[0]));y.time=D}return y}},(typeof d>"u"||!d)&&(d={}),(typeof d.lang>"u"||!d.lang)&&(d.lang={}),d.lang.String=function(){},"function"==typeof Buffer?(Ri=function(s){return Xe(Buffer.from(s,"utf8").toString("base64"))},nn=function(s){return Buffer.from(zr(s),"base64").toString("utf8")}):(Ri=function(s){return Gt(sn(Pr(s)))},nn=function(s){return decodeURIComponent(Rr(Et(s)))}),d.lang.String.isInteger=function(s){return!!s.match(/^[0-9]+$/)||!!s.match(/^-[0-9]+$/)},d.lang.String.isHex=function(s){return li(s)},d.lang.String.isBase64=function(s){return!(!(s=s.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||s.length%4!=0)},d.lang.String.isBase64URL=function(s){return!s.match(/[+/=]/)&&(s=zr(s),d.lang.String.isBase64(s))},d.lang.String.isIntegerArray=function(s){return!!(s=s.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},d.lang.String.isPrintable=function(s){return null!==s.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},d.lang.String.isIA5=function(s){return null!==s.match(/^[\x20-\x21\x23-\x7f]*$/)},d.lang.String.isMail=function(s){return null!==s.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var as=function(s,a,u){return null==u&&(u="0"),s.length>=a?s:new Array(a-s.length+1).join(u)+s};function Wo(s,a){for(var u=0,c=0;c<s.length;c++)u|=1<<a[s[c]];var h=u.toString(2),p="";for(c=h.length-1;c>=0;c--)p+=h[c];return p}function re(s,a){var u=function(){};u.prototype=a.prototype,s.prototype=new u,s.prototype.constructor=s,s.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a)}(typeof d>"u"||!d)&&(d={}),(typeof d.crypto>"u"||!d.crypto)&&(d.crypto={}),d.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:le.algo.MD5,sha1:le.algo.SHA1,sha224:le.algo.SHA224,sha256:le.algo.SHA256,sha384:le.algo.SHA384,sha512:le.algo.SHA512,ripemd160:le.algo.RIPEMD160},this.getDigestInfoHex=function(s,a){if(typeof this.DIGESTINFOHEAD[a]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+a;return this.DIGESTINFOHEAD[a]+s},this.getPaddedDigestInfoHex=function(s,a,u){var c=this.getDigestInfoHex(s,a),h=u/4;if(c.length+22>h)throw"key is too short for SigAlg: keylen="+u+","+a;for(var p="0001",g="00"+c,v="",E=h-p.length-g.length,x=0;x<E;x+=2)v+="ff";return p+v+g},this.hashString=function(s,a){return new d.crypto.MessageDigest({alg:a}).digestString(s)},this.hashHex=function(s,a){return new d.crypto.MessageDigest({alg:a}).digestHex(s)},this.sha1=function(s){return this.hashString(s,"sha1")},this.sha256=function(s){return this.hashString(s,"sha256")},this.sha256Hex=function(s){return this.hashHex(s,"sha256")},this.sha512=function(s){return this.hashString(s,"sha512")},this.sha512Hex=function(s){return this.hashHex(s,"sha512")},this.isKey=function(s){return s instanceof Ce||s instanceof d.crypto.DSA||s instanceof d.crypto.ECDSA}},d.crypto.Util.md5=function(s){return new d.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(s)},d.crypto.Util.ripemd160=function(s){return new d.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(s)},d.crypto.Util.SECURERANDOMGEN=new oi,d.crypto.Util.getRandomHexOfNbytes=function(s){var a=new Array(s);return d.crypto.Util.SECURERANDOMGEN.nextBytes(a),ks(a)},d.crypto.Util.getRandomBigIntegerOfNbytes=function(s){return new z(d.crypto.Util.getRandomHexOfNbytes(s),16)},d.crypto.Util.getRandomHexOfNbits=function(s){var a=s%8,c=new Array((s-a)/8+1);return d.crypto.Util.SECURERANDOMGEN.nextBytes(c),c[0]=(255<<a&255^255)&c[0],ks(c)},d.crypto.Util.getRandomBigIntegerOfNbits=function(s){return new z(d.crypto.Util.getRandomHexOfNbits(s),16)},d.crypto.Util.getRandomBigIntegerZeroToMax=function(s){for(var a=s.bitLength();;){var u=d.crypto.Util.getRandomBigIntegerOfNbits(a);if(-1!=s.compareTo(u))return u}},d.crypto.Util.getRandomBigIntegerMinToMax=function(s,a){var u=s.compareTo(a);if(1==u)throw"biMin is greater than biMax";if(0==u)return s;var c=a.subtract(s);return d.crypto.Util.getRandomBigIntegerZeroToMax(c).add(s)},d.crypto.MessageDigest=function(s){this.setAlgAndProvider=function(h,p){if(null!==(h=d.crypto.MessageDigest.getCanonicalAlgName(h))&&void 0===p&&(p=d.crypto.Util.DEFAULTPROVIDER[h]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(h)&&"cryptojs"==p){try{this.md=d.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[h].create()}catch(g){throw"setAlgAndProvider hash alg set fail alg="+h+"/"+g}this.updateString=function(g){this.md.update(g)},this.updateHex=function(g){var v=le.enc.Hex.parse(g);this.md.update(v)},this.digest=function(){return this.md.finalize().toString(le.enc.Hex)},this.digestString=function(g){return this.updateString(g),this.digest()},this.digestHex=function(g){return this.updateHex(g),this.digest()}}if(-1!=":sha256:".indexOf(h)&&"sjcl"==p){try{this.md=new sjcl.hash.sha256}catch(g){throw"setAlgAndProvider hash alg set fail alg="+h+"/"+g}this.updateString=function(g){this.md.update(g)},this.updateHex=function(g){var v=sjcl.codec.hex.toBits(g);this.md.update(v)},this.digest=function(){var g=this.md.finalize();return sjcl.codec.hex.fromBits(g)},this.digestString=function(g){return this.updateString(g),this.digest()},this.digestHex=function(g){return this.updateHex(g),this.digest()}}},this.updateString=function(h){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(h){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(h){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(h){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==s&&void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=d.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},d.crypto.MessageDigest.getCanonicalAlgName=function(s){return"string"==typeof s&&(s=(s=s.toLowerCase()).replace(/-/,"")),s},d.crypto.MessageDigest.getHashLength=function(s){var a=d.crypto.MessageDigest,u=a.getCanonicalAlgName(s);if(void 0===a.HASHLENGTH[u])throw"not supported algorithm: "+s;return a.HASHLENGTH[u]},d.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},d.crypto.Mac=function(s){this.setAlgAndProvider=function(g,v){if(null==(g=g.toLowerCase())&&(g="hmacsha1"),"hmac"!=(g=g.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+g;void 0===v&&(v=d.crypto.Util.DEFAULTPROVIDER[g]),this.algProv=g+"/"+v;var E=g.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(E)&&"cryptojs"==v){try{this.mac=le.algo.HMAC.create(d.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[E],this.pass)}catch(F){throw"setAlgAndProvider hash alg set fail hashAlg="+E+"/"+F}this.updateString=function(F){this.mac.update(F)},this.updateHex=function(F){var A=le.enc.Hex.parse(F);this.mac.update(A)},this.doFinal=function(){return this.mac.finalize().toString(le.enc.Hex)},this.doFinalString=function(F){return this.updateString(F),this.doFinal()},this.doFinalHex=function(F){return this.updateHex(F),this.doFinal()}}},this.updateString=function(g){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(g){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(g){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(g){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(g){if("string"==typeof g){var v=g;return(g.length%2==1||!g.match(/^[0-9A-Fa-f]+$/))&&(v=Ct(g)),void(this.pass=le.enc.Hex.parse(v))}if("object"!=typeof g)throw"KJUR.crypto.Mac unsupported password type: "+g;if(v=null,void 0!==g.hex){if(g.hex.length%2!=0||!g.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+g.hex;v=g.hex}if(void 0!==g.utf8&&(v=_r(g.utf8)),void 0!==g.rstr&&(v=Ct(g.rstr)),void 0!==g.b64&&(v=It(g.b64)),void 0!==g.b64u&&(v=Et(g.b64u)),null==v)throw"KJUR.crypto.Mac unsupported password type: "+g;this.pass=le.enc.Hex.parse(v)},void 0!==s&&(void 0!==s.pass&&this.setPassword(s.pass),void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=d.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},d.crypto.Signature=function(s){var a=null;if(this._setAlgNames=function(){var C=this.algName.match(/^(.+)with(.+)$/);C&&(this.mdAlgName=C[1].toLowerCase(),this.pubkeyAlgName=C[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(C,N){for(var k="",B=N/4-C.length,L=0;L<B;L++)k+="0";return k+C},this.setAlgAndProvider=function(C,N){if(this._setAlgNames(),"cryptojs/jsrsa"!=N)throw new Error("provider not supported: "+N);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new d.crypto.MessageDigest({alg:this.mdAlgName})}catch(k){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+k)}this.init=function(k,B){var L=null;try{L=void 0===B?je.getKey(k):je.getKey(k,B)}catch(X){throw"init failed:"+X}if(!0===L.isPrivate)this.prvKey=L,this.state="SIGN";else{if(!0!==L.isPublic)throw"init failed.:"+L;this.pubKey=L,this.state="VERIFY"}},this.updateString=function(k){this.md.updateString(k)},this.updateHex=function(k){this.md.updateHex(k)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==d.crypto.ECDSA&&(this.prvKey=new d.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Ce&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Ce&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof d.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof d.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(k){return this.updateString(k),this.sign()},this.signHex=function(k){return this.updateHex(k),this.sign()},this.verify=function(k){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==d.crypto.ECDSA&&(this.pubKey=new d.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Ce&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,k,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Ce&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,k);if(void 0!==d.crypto.ECDSA&&this.pubKey instanceof d.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,k);if(void 0!==d.crypto.DSA&&this.pubKey instanceof d.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,k);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(C,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(C){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(C){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(C){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(C){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=s,void 0!==s&&(void 0!==s.alg&&(this.algName=s.alg,this.provName=void 0===s.prov?d.crypto.Util.DEFAULTPROVIDER[this.algName]:s.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==s.psssaltlen&&(this.pssSaltLen=s.psssaltlen),void 0!==s.prvkeypem)){if(void 0!==s.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{a=je.getKey(s.prvkeypem),this.init(a)}catch(C){throw"fatal error to load pem private key: "+C}}},d.crypto.Cipher=function(s){},d.crypto.Cipher.encrypt=function(s,a,u){if(a instanceof Ce&&a.isPublic){var c=d.crypto.Cipher.getAlgByKeyAndName(a,u);if("RSA"===c)return a.encrypt(s);if("RSAOAEP"===c)return a.encryptOAEP(s,"sha1");var h=c.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.encryptOAEP(s,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.encrypt: unsupported key or algorithm"},d.crypto.Cipher.decrypt=function(s,a,u){if(a instanceof Ce&&a.isPrivate){var c=d.crypto.Cipher.getAlgByKeyAndName(a,u);if("RSA"===c)return a.decrypt(s);if("RSAOAEP"===c)return a.decryptOAEP(s,"sha1");var h=c.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.decryptOAEP(s,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.decrypt: unsupported key or algorithm"},d.crypto.Cipher.getAlgByKeyAndName=function(s,a){if(s instanceof Ce){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(a))return a;if(null==a)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+a}throw"getAlgByKeyAndName: not supported algorithm name: "+a},d.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof d>"u"||!d)&&(d={}),(typeof d.crypto>"u"||!d.crypto)&&(d.crypto={}),d.crypto.ECDSA=function(s){var p=Error,g=z,v=nt,E=d.crypto.ECDSA,x=d.crypto.ECParameterDB,F=E.getName,w=fe.getVbyListEx,y=fe.isASN1HEX,b=new oi;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(C){return new g(C.bitLength(),b).mod(C.subtract(g.ONE)).add(g.ONE)},this.setNamedCurve=function(C){this.ecparams=x.getByName(C),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=C},this.setPrivateKeyHex=function(C){this.isPrivate=!0,this.prvKeyHex=C},this.setPublicKeyHex=function(C){this.isPublic=!0,this.pubKeyHex=C},this.getPublicKeyXYHex=function(){var C=this.pubKeyHex;if("04"!==C.substr(0,2))throw"this method supports uncompressed format(04) only";var N=this.ecparams.keycharlen;if(C.length!==2+2*N)throw"malformed public key hex length";var k={};return k.x=C.substr(2,N),k.y=C.substr(2+N),k},this.getShortNISTPCurveName=function(){var C=this.curveName;return"secp256r1"===C||"NIST P-256"===C||"P-256"===C||"prime256v1"===C?"P-256":"secp384r1"===C||"NIST P-384"===C||"P-384"===C?"P-384":"secp521r1"===C||"NIST P-521"===C||"P-521"===C?"P-521":null},this.generateKeyPairHex=function(){var N=this.getBigRandom(this.ecparams.n),k=this.ecparams.keycharlen,B=("0000000000"+N.toString(16)).slice(-k);return this.setPrivateKeyHex(B),{ecprvhex:B,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var C=new g(this.prvKeyHex,16),N=this.ecparams.G.multiply(C),k=N.getX().toBigInteger(),B=N.getY().toBigInteger(),L=this.ecparams.keycharlen,P="04"+("0000000000"+k.toString(16)).slice(-L)+("0000000000"+B.toString(16)).slice(-L);return this.setPublicKeyHex(P),P},this.signWithMessageHash=function(C){return this.signHex(C,this.prvKeyHex)},this.signHex=function(C,N){var k=new g(N,16),B=this.ecparams.n,L=new g(C.substring(0,this.ecparams.keycharlen),16);do{var X=this.getBigRandom(B),M=this.ecparams.G.multiply(X).getX().toBigInteger().mod(B)}while(M.compareTo(g.ZERO)<=0);var H=X.modInverse(B).multiply(L.add(k.multiply(M))).mod(B);return E.biRSSigToASN1Sig(M,H)},this.sign=function(C,N){var k=N,B=this.ecparams.n,L=g.fromByteArrayUnsigned(C);do{var X=this.getBigRandom(B),M=this.ecparams.G.multiply(X).getX().toBigInteger().mod(B)}while(M.compareTo(z.ZERO)<=0);var H=X.modInverse(B).multiply(L.add(k.multiply(M))).mod(B);return this.serializeSig(M,H)},this.verifyWithMessageHash=function(C,N){return this.verifyHex(C,N,this.pubKeyHex)},this.verifyHex=function(C,N,k){try{var B,L,X=E.parseSigHex(N);B=X.r,L=X.s;var te=v.decodeFromHex(this.ecparams.curve,k),P=new g(C.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(P,B,L,te)}catch{return!1}},this.verify=function(C,N,k){var B,L,te;if(Bitcoin.Util.isArray(N)){var X=this.parseSig(N);B=X.r,L=X.s}else{if("object"!=typeof N||!N.r||!N.s)throw"Invalid value for signature";B=N.r,L=N.s}if(k instanceof nt)te=k;else{if(!Bitcoin.Util.isArray(k))throw"Invalid format for pubkey value, must be byte array or ECPointFp";te=v.decodeFrom(this.ecparams.curve,k)}var P=g.fromByteArrayUnsigned(C);return this.verifyRaw(P,B,L,te)},this.verifyRaw=function(C,N,k,B){var L=this.ecparams.n,X=this.ecparams.G;if(N.compareTo(g.ONE)<0||N.compareTo(L)>=0||k.compareTo(g.ONE)<0||k.compareTo(L)>=0)return!1;var te=k.modInverse(L),P=C.multiply(te).mod(L),M=N.multiply(te).mod(L);return X.multiply(P).add(B.multiply(M)).getX().toBigInteger().mod(L).equals(N)},this.serializeSig=function(C,N){var k=C.toByteArraySigned(),B=N.toByteArraySigned(),L=[];return L.push(2),L.push(k.length),(L=L.concat(k)).push(2),L.push(B.length),(L=L.concat(B)).unshift(L.length),L.unshift(48),L},this.parseSig=function(C){var N;if(48!=C[0])throw new Error("Signature not a valid DERSequence");if(2!=C[N=2])throw new Error("First element in signature must be a DERInteger");var k=C.slice(N+2,N+2+C[N+1]);if(2!=C[N+=2+C[N+1]])throw new Error("Second element in signature must be a DERInteger");var B=C.slice(N+2,N+2+C[N+1]);return N+=2+C[N+1],{r:g.fromByteArrayUnsigned(k),s:g.fromByteArrayUnsigned(B)}},this.parseSigCompact=function(C){if(65!==C.length)throw"Signature has the wrong length";var N=C[0]-27;if(N<0||N>7)throw"Invalid signature type";var k=this.ecparams.n;return{r:g.fromByteArrayUnsigned(C.slice(1,33)).mod(k),s:g.fromByteArrayUnsigned(C.slice(33,65)).mod(k),i:N}},this.readPKCS5PrvKeyHex=function(C){if(!1===y(C))throw new Error("not ASN.1 hex string");var N,k,B;try{N=w(C,0,["[0]",0],"06"),k=w(C,0,[1],"04");try{B=w(C,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=F(N),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(B),this.setPrivateKeyHex(k),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(C){if(!1===y(C))throw new p("not ASN.1 hex string");var k,B,L;try{w(C,0,[1,0],"06"),k=w(C,0,[1,1],"06"),B=w(C,0,[2,0,1],"04");try{L=w(C,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new p("malformed PKCS#8 plain ECC private key")}if(this.curveName=F(k),void 0===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(L),this.setPrivateKeyHex(B),this.isPublic=!1},this.readPKCS8PubKeyHex=function(C){if(!1===y(C))throw new p("not ASN.1 hex string");var k,B;try{w(C,0,[0,0],"06"),k=w(C,0,[0,1],"06"),B=w(C,0,[1],"03")}catch{throw new p("malformed PKCS#8 ECC public key")}if(this.curveName=F(k),null===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(B)},this.readCertPubKeyHex=function(C,N){if(!1===y(C))throw new p("not ASN.1 hex string");var k,B;try{k=w(C,0,[0,5,0,1],"06"),B=w(C,0,[0,5,1],"03")}catch{throw new p("malformed X.509 certificate ECC public key")}if(this.curveName=F(k),null===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(B)},void 0!==s&&void 0!==s.curve&&(this.curveName=s.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==s&&(void 0!==s.prv&&this.setPrivateKeyHex(s.prv),void 0!==s.pub&&this.setPublicKeyHex(s.pub))},d.crypto.ECDSA.parseSigHex=function(s){var a=d.crypto.ECDSA.parseSigHexInHexRS(s);return{r:new z(a.r,16),s:new z(a.s,16)}},d.crypto.ECDSA.parseSigHexInHexRS=function(s){var u=fe.getChildIdx,c=fe.getV;if(fe.checkStrictDER(s,0),"30"!=s.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var h=u(s,0);if(2!=h.length)throw new Error("signature shall have two elements");var p=h[0],g=h[1];if("02"!=s.substr(p,2))throw new Error("1st item not ASN.1 integer");if("02"!=s.substr(g,2))throw new Error("2nd item not ASN.1 integer");return{r:c(s,p),s:c(s,g)}},d.crypto.ECDSA.asn1SigToConcatSig=function(s){var a=d.crypto.ECDSA.parseSigHexInHexRS(s),u=a.r,c=a.s;if(u.length>=130&&u.length<=134){if(u.length%2!=0)throw Error("unknown ECDSA sig r length error");if(c.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==u.substr(0,2)&&(u=u.substr(2)),"00"==c.substr(0,2)&&(c=c.substr(2));var h=Math.max(u.length,c.length);return(u=("000000"+u).slice(-h))+("000000"+c).slice(-h)}if("00"==u.substr(0,2)&&u.length%32==2&&(u=u.substr(2)),"00"==c.substr(0,2)&&c.length%32==2&&(c=c.substr(2)),u.length%32==30&&(u="00"+u),c.length%32==30&&(c="00"+c),u.length%32!=0)throw Error("unknown ECDSA sig r length error");if(c.length%32!=0)throw Error("unknown ECDSA sig s length error");return u+c},d.crypto.ECDSA.concatSigToASN1Sig=function(s){if(s.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var a=s.substr(0,s.length/2),u=s.substr(s.length/2);return d.crypto.ECDSA.hexRSSigToASN1Sig(a,u)},d.crypto.ECDSA.hexRSSigToASN1Sig=function(s,a){var u=new z(s,16),c=new z(a,16);return d.crypto.ECDSA.biRSSigToASN1Sig(u,c)},d.crypto.ECDSA.biRSSigToASN1Sig=function(s,a){var u=d.asn1,c=new u.DERInteger({bigint:s}),h=new u.DERInteger({bigint:a});return new u.DERSequence({array:[c,h]}).tohex()},d.crypto.ECDSA.getName=function(s){return"2b8104001f"===s?"secp192k1":"2a8648ce3d030107"===s?"secp256r1":"2b8104000a"===s?"secp256k1":"2b81040021"===s?"secp224r1":"2b81040022"===s?"secp384r1":"2b81040023"===s?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(s)?"secp256r1":-1!=="|secp256k1|".indexOf(s)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(s)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(s)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(s)?"secp521r1":null},(typeof d>"u"||!d)&&(d={}),(typeof d.crypto>"u"||!d.crypto)&&(d.crypto={}),d.crypto.ECParameterDB=new function(){var s={},a={};function u(c){return new z(c,16)}this.getByName=function(c){var h=c;if(typeof a[h]<"u"&&(h=a[c]),typeof s[h]<"u")return s[h];throw"unregistered EC curve name: "+h},this.regist=function(c,h,p,g,v,E,x,F,A,w,y,b){s[c]={};var D=u(p),_=u(g),C=u(v),N=u(E),k=u(x),B=new Ar(D,_,C),L=B.decodePointHex("04"+F+A);s[c].name=c,s[c].keylen=h,s[c].keycharlen=2*Math.ceil(h/8),s[c].curve=B,s[c].G=L,s[c].n=N,s[c].h=k,s[c].oid=y,s[c].info=b;for(var X=0;X<w.length;X++)a[w[X]]=c}},d.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),d.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),d.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),d.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),d.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),d.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),d.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),d.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),d.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),d.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof d>"u"||!d)&&(d={}),(typeof d.crypto>"u"||!d.crypto)&&(d.crypto={}),d.crypto.DSA=function(){var u=fe.getVbyListEx,c=fe.isASN1HEX,h=z;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(p,g,v,E,x){this.isPrivate=!0,this.p=p,this.q=g,this.g=v,this.y=E,this.x=x},this.setPrivateHex=function(p,g,v,E,x){var F,A,w,y,b;F=new z(p,16),A=new z(g,16),w=new z(v,16),y="string"==typeof E&&E.length>1?new z(E,16):null,b=new z(x,16),this.setPrivate(F,A,w,y,b)},this.setPublic=function(p,g,v,E){this.isPublic=!0,this.p=p,this.q=g,this.g=v,this.y=E,this.x=null},this.setPublicHex=function(p,g,v,E){var x,F,A,w;x=new z(p,16),F=new z(g,16),A=new z(v,16),w=new z(E,16),this.setPublic(x,F,A,w)},this.signWithMessageHash=function(p){var g=this.p,v=this.q,E=this.g,F=this.x,A=d.crypto.Util.getRandomBigIntegerMinToMax(z.ONE.add(z.ONE),v.subtract(z.ONE)),y=new z(p.substr(0,v.bitLength()/4),16),b=E.modPow(A,g).mod(v),D=A.modInverse(v).multiply(y.add(F.multiply(b))).mod(v);return d.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:b}},{int:{bigint:D}}]})},this.verifyWithMessageHash=function(p,g){var v=this.p,E=this.q,x=this.g,F=this.y,A=this.parseASN1Signature(g),w=A[0],y=A[1],D=new z(p.substr(0,E.bitLength()/4),16);if(z.ZERO.compareTo(w)>0||w.compareTo(E)>0||z.ZERO.compareTo(y)>=0||y.compareTo(E)>0)throw"invalid DSA signature";var _=y.modInverse(E),C=D.multiply(_).mod(E),N=w.multiply(_).mod(E);return 0==x.modPow(C,v).multiply(F.modPow(N,v)).mod(v).mod(E).compareTo(w)},this.parseASN1Signature=function(p){try{return[new h(u(p,0,[0],"02"),16),new h(u(p,0,[1],"02"),16)]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(p){var g,v,E,x,F;if(!1===c(p))throw new Error("not ASN.1 hex string");try{g=u(p,0,[1],"02"),v=u(p,0,[2],"02"),E=u(p,0,[3],"02"),x=u(p,0,[4],"02"),F=u(p,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(g,v,E,x,F)},this.readPKCS8PrvKeyHex=function(p){var g,v,E,x;if(!1===c(p))throw new Error("not ASN.1 hex string");try{g=u(p,0,[1,1,0],"02"),v=u(p,0,[1,1,1],"02"),E=u(p,0,[1,1,2],"02"),x=u(p,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(g,v,E,null,x)},this.readPKCS8PubKeyHex=function(p){var g,v,E,x;if(!1===c(p))throw new Error("not ASN.1 hex string");try{g=u(p,0,[0,1,0],"02"),v=u(p,0,[0,1,1],"02"),E=u(p,0,[0,1,2],"02"),x=u(p,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(g,v,E,x)},this.readCertPubKeyHex=function(p,g){var v,E,x,F;if(!1===c(p))throw new Error("not ASN.1 hex string");try{v=u(p,0,[0,5,0,1,0],"02"),E=u(p,0,[0,5,0,1,1],"02"),x=u(p,0,[0,5,0,1,2],"02"),F=u(p,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(v,E,x,F)}};var je=function(){var s=function(D,_,C){return c(le.AES,D,_,C)},c=function(D,_,C,N){var k=le.enc.Hex.parse(_),B=le.enc.Hex.parse(C),L=le.enc.Hex.parse(N),X={};X.key=B,X.iv=L,X.ciphertext=k;var te=D.decrypt(X,B,{iv:L});return le.enc.Hex.stringify(te)},h=function(D,_,C){return v(le.AES,D,_,C)},v=function(D,_,C,N){var k=le.enc.Hex.parse(_),B=le.enc.Hex.parse(C),L=le.enc.Hex.parse(N),X=D.encrypt(k,B,{iv:L}),te=le.enc.Hex.parse(X.toString());return le.enc.Base64.stringify(te)},E={"AES-256-CBC":{proc:s,eproc:h,keylen:32,ivlen:16},"AES-192-CBC":{proc:s,eproc:h,keylen:24,ivlen:16},"AES-128-CBC":{proc:s,eproc:h,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(D,_,C){return c(le.TripleDES,D,_,C)},eproc:function(D,_,C){return v(le.TripleDES,D,_,C)},keylen:24,ivlen:8},"DES-CBC":{proc:function(D,_,C){return c(le.DES,D,_,C)},eproc:function(D,_,C){return v(le.DES,D,_,C)},keylen:8,ivlen:8}},A=function(D){var _={},C=D.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));C&&(_.cipher=C[1],_.ivsalt=C[2]);var N=D.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));N&&(_.type=N[1]);var k=-1,B=0;-1!=D.indexOf("\r\n\r\n")&&(k=D.indexOf("\r\n\r\n"),B=2),-1!=D.indexOf("\n\n")&&(k=D.indexOf("\n\n"),B=1);var L=D.indexOf("-----END");if(-1!=k&&-1!=L){var X=D.substring(k+2*B,L-B);X=X.replace(/\s+/g,""),_.data=X}return _},w=function(D,_,C){for(var N=C.substring(0,16),k=le.enc.Hex.parse(N),B=le.enc.Utf8.parse(_),L=E[D].keylen+E[D].ivlen,X="",te=null;;){var P=le.algo.MD5.create();if(null!=te&&P.update(te),P.update(B),P.update(k),te=P.finalize(),(X+=le.enc.Hex.stringify(te)).length>=2*L)break}var M={};return M.keyhex=X.substr(0,2*E[D].keylen),M.ivhex=X.substr(2*E[D].keylen,2*E[D].ivlen),M},y=function(D,_,C,N){var k=le.enc.Base64.parse(D),B=le.enc.Hex.stringify(k);return(0,E[_].proc)(B,C,N)};return{version:"1.0.0",parsePKCS5PEM:function(D){return A(D)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(D,_,C){return w(D,_,C)},decryptKeyB64:function(D,_,C,N){return y(D,_,C,N)},getDecryptedKeyHex:function(D,_){var C=A(D),k=C.cipher,B=C.ivsalt,L=C.data,X=w(k,_,B);return y(L,k,X.keyhex,B)},getEncryptedPKCS5PEMFromPrvKeyHex:function(D,_,C,N,k){var H="";if((typeof N>"u"||null==N)&&(N="AES-256-CBC"),typeof E[N]>"u")throw new Error("KEYUTIL unsupported algorithm: "+N);if(typeof k>"u"||null==k){var L=function(D){var _=le.lib.WordArray.random(D);return le.enc.Hex.stringify(_)}(E[N].ivlen);k=L.toUpperCase()}var P=function(D,_,C,N){return(0,E[_].eproc)(D,C,N)}(_,N,w(N,C,k).keyhex,k);return H="-----BEGIN "+D+" PRIVATE KEY-----\r\n",H+="Proc-Type: 4,ENCRYPTED\r\n",H+="DEK-Info: "+N+","+k+"\r\n",H+="\r\n",(H+=P.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+D+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(D){var C=fe.getChildIdx,N=fe.getV,k={},B=C(D,0);if(2!=B.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+B.length);k.ciphertext=N(D,B[1]);var L=C(D,B[0]);if(2!=L.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+L.length);if("2a864886f70d01050d"!=N(D,L[0]))throw new Error("this only supports pkcs5PBES2");var X=C(D,L[1]);if(2!=L.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+X.length);var te=C(D,X[1]);if(2!=te.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+te.length);if("2a864886f70d0307"!=N(D,te[0]))throw"this only supports TripleDES";k.encryptionSchemeAlg="TripleDES",k.encryptionSchemeIV=N(D,te[1]);var P=C(D,X[0]);if(2!=P.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+P.length);if("2a864886f70d01050c"!=N(D,P[0]))throw new Error("this only supports pkcs5PBKDF2");var M=C(D,P[1]);if(M.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+M.length);k.pbkdf2Salt=N(D,M[0]);var H=N(D,M[1]);try{k.pbkdf2Iter=parseInt(H,16)}catch{throw new Error("malformed format pbkdf2Iter: "+H)}return k},getPBKDF2KeyHexFromParam:function(D,_){var C=le.enc.Hex.parse(D.pbkdf2Salt),k=le.PBKDF2(_,C,{keySize:6,iterations:D.pbkdf2Iter});return le.enc.Hex.stringify(k)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(D,_){var C=Ot(D,"ENCRYPTED PRIVATE KEY"),N=this.parseHexOfEncryptedPKCS8(C),k=je.getPBKDF2KeyHexFromParam(N,_),B={};B.ciphertext=le.enc.Hex.parse(N.ciphertext);var L=le.enc.Hex.parse(k),X=le.enc.Hex.parse(N.encryptionSchemeIV),te=le.TripleDES.decrypt(B,L,{iv:X});return le.enc.Hex.stringify(te)},getKeyFromEncryptedPKCS8PEM:function(D,_){var C=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(D,_);return this.getKeyFromPlainPrivatePKCS8Hex(C)},parsePlainPrivatePKCS8Hex:function(D){var _=fe,C=_.getChildIdx,N=_.getV,k={algparam:null};if("30"!=D.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var B=C(D,0);if(B.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=D.substr(B[1],2))throw new Error("malformed PKCS8 private key(code:003)");var L=C(D,B[1]);if(2!=L.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=D.substr(L[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(k.algoid=N(D,L[0]),"06"==D.substr(L[1],2)&&(k.algparam=N(D,L[1])),"04"!=D.substr(B[2],2))throw new Error("malformed PKCS8 private key(code:006)");return k.keyidx=_.getVidx(D,B[2]),k},getKeyFromPlainPrivatePKCS8PEM:function(D){var _=Ot(D,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(_)},getKeyFromPlainPrivatePKCS8Hex:function(D){var C,_=this.parsePlainPrivatePKCS8Hex(D);if("2a864886f70d010101"==_.algoid)C=new Ce;else if("2a8648ce380401"==_.algoid)C=new d.crypto.DSA;else{if("2a8648ce3d0201"!=_.algoid)throw new Error("unsupported private key algorithm");C=new d.crypto.ECDSA}return C.readPKCS8PrvKeyHex(D),C},_getKeyFromPublicPKCS8Hex:function(D){var _,C=fe.getVbyList(D,0,[0,0],"06");if("2a864886f70d010101"===C)_=new Ce;else if("2a8648ce380401"===C)_=new d.crypto.DSA;else{if("2a8648ce3d0201"!==C)throw new Error("unsupported PKCS#8 public key hex");_=new d.crypto.ECDSA}return _.readPKCS8PubKeyHex(D),_},parsePublicRawRSAKeyHex:function(D){var C=fe.getChildIdx,N=fe.getV,k={};if("30"!=D.substr(0,2))throw new Error("malformed RSA key(code:001)");var B=C(D,0);if(2!=B.length)throw new Error("malformed RSA key(code:002)");if("02"!=D.substr(B[0],2))throw new Error("malformed RSA key(code:003)");if(k.n=N(D,B[0]),"02"!=D.substr(B[1],2))throw new Error("malformed RSA key(code:004)");return k.e=N(D,B[1]),k},parsePublicPKCS8Hex:function(D){var _=fe,C=_.getChildIdx,N=_.getV,k={algparam:null},B=C(D,0);if(2!=B.length)throw new Error("outer DERSequence shall have 2 elements: "+B.length);var L=B[0];if("30"!=D.substr(L,2))throw new Error("malformed PKCS8 public key(code:001)");var X=C(D,L);if(2!=X.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=D.substr(X[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(k.algoid=N(D,X[0]),"06"==D.substr(X[1],2)?k.algparam=N(D,X[1]):"30"==D.substr(X[1],2)&&(k.algparam={},k.algparam.p=_.getVbyList(D,X[1],[0],"02"),k.algparam.q=_.getVbyList(D,X[1],[1],"02"),k.algparam.g=_.getVbyList(D,X[1],[2],"02")),"03"!=D.substr(B[1],2))throw new Error("malformed PKCS8 public key(code:004)");return k.key=N(D,B[1]).substr(2),k}}}();function cs(s,a){for(var u="",c=a/4-s.length,h=0;h<c;h++)u+="0";return u+s}function tr(s,a,u){for(var c="",h=0;c.length<a;)c+=wn(u(Ct(s+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),h+=1;return c}function mu(s){for(var a in d.crypto.Util.DIGESTINFOHEAD){var u=d.crypto.Util.DIGESTINFOHEAD[a],c=u.length;if(s.substring(0,c)==u)return[a,s.substring(c)]}return[]}function be(s){var k,a=fe,u=a.getChildIdx,c=a.getV,p=a.parse,g=a.getTLV,v=a.getVbyList,E=a.getVbyListEx,x=a.getTLVbyList,F=a.getTLVbyListEx,A=a.getIdxbyList,w=a.getIdxbyListEx,y=a.getVidx,b=a.getInt,D=a.oidname,_=a.hextooidstr,N=Ot,B=Error;try{k=d.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var P=x(this.hex,0,[0,0]);if("a0"==P.substr(0,2)){var M=x(P,0,[0]),H=b(M,0);if(H<0||2<H)throw new Error("malformed version field");return this.version=H+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return E(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var P=F(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(P)},this.getAlgorithmIdentifierName=function(P){for(var M in k)if(P===k[M])return M;return D(E(P,0,[0],"06"))},this.getIssuer=function(P,M){return this.getX500Name(this.getIssuerHex(),P,M)},this.getIssuerHex=function(){return x(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(P,M){return this.getX500Name(this.getSubjectHex(),P,M)},this.getSubjectHex=function(){return x(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var P=v(this.hex,0,[0,4+this.foffset,0]);return P=P.replace(/(..)/g,"%$1"),decodeURIComponent(P)},this.getNotAfter=function(){var P=v(this.hex,0,[0,4+this.foffset,1]);return P=P.replace(/(..)/g,"%$1"),decodeURIComponent(P)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return x(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var P=this.getSPKI();return null==P?null:v(P,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return A(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var P=this.getPublicKeyIdx();return A(this.hex,P,[1,0],"30")},this.getPublicKey=function(){return je.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var P=x(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(P)},this.getSignatureValueHex=function(){return v(this.hex,0,[2],"03",!0)},this.verifySignature=function(P){var M=this.getSignatureAlgorithmField(),H=this.getSignatureValueHex(),V=x(this.hex,0,[0],"30"),K=new d.crypto.Signature({alg:M});return K.init(P),K.updateHex(V),K.verify(H)},this.parseExt=function(P){var M,H,V;if(void 0===P){if(3!==this.version)return-1;M=A(V=this.hex,0,[0,7,0],"30"),H=u(V,M)}else{V=Ot(P);var K=A(V,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=c(V,K))return void(this.aExtInfo=new Array);M=A(V,0,[0,3,0,1,0],"30"),H=u(V,M),this.hex=V}this.aExtInfo=new Array;for(var Z=0;Z<H.length;Z++){var $={critical:!1},Y=0;3===u(V,H[Z]).length&&($.critical=!0,Y=1),$.oid=a.hextooidstr(v(V,H[Z],[0],"06"));var Q=A(V,H[Z],[1+Y]);$.vidx=y(V,Q),this.aExtInfo.push($)}},this.getExtInfo=function(P){var M=this.aExtInfo,H=P;if(P.match(/^[0-9.]+$/)||(H=d.asn1.x509.OID.name2oid(P)),""!==H)for(var V=0;V<M.length;V++)if(M[V].oid===H)return M[V]},this.getCriticalExtV=function(P,M,H){if(null!=M)return[M,H];var V=this.getExtInfo(P);return null==V?[null,null]:[g(this.hex,V.vidx),V.critical]},this.getExtBasicConstraints=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("basicConstraints");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"basicConstraints"};if(M&&(V.critical=!0),"3000"===P)return V;if("30030101ff"===P)return V.cA=!0,V;if("30060101ff02"===P.substr(0,12)){var K=c(P,10),Z=parseInt(K,16);return V.cA=!0,V.pathLen=Z,V}throw new Error("hExtV parse error: "+P)},this.getExtNameConstraints=function(P,M){var H=this.getCriticalExtV("nameConstraints",P,M);if(M=H[1],null!=(P=H[0])){var V={extname:"nameConstraints"};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++){for(var $=[],W=u(P,K[Z]),Y=0;Y<W.length;Y++){var Q=g(P,W[Y]),Se=this.getGeneralSubtree(Q);$.push(Se)}var De=P.substr(K[Z],2);"a0"==De?V.permit=$:"a1"==De&&(V.exclude=$)}return V}},this.getGeneralSubtree=function(P){var M=u(P,0),H=M.length;if(H<1||2<H)throw new Error("wrong num elements");for(var V=this.getGeneralName(g(P,M[0])),K=1;K<H;K++){var Z=P.substr(M[K],2),$=c(P,M[K]),W=parseInt($,16);"80"==Z&&(V.min=W),"81"==Z&&(V.max=W)}return V},this.getExtKeyUsage=function(P,M){var H=this.getCriticalExtV("keyUsage",P,M);if(M=H[1],null!=(P=H[0])){var V={extname:"keyUsage"};return M&&(V.critical=!0),V.names=this.getExtKeyUsageString(P).split(","),V}},this.getExtKeyUsageBin=function(P){if(void 0===P){var M=this.getExtInfo("keyUsage");if(void 0===M)return"";P=g(this.hex,M.vidx)}if(8!=P.length&&10!=P.length)throw new Error("malformed key usage value: "+P);var H="000000000000000"+parseInt(P.substr(6),16).toString(2);return 8==P.length&&(H=H.slice(-8)),10==P.length&&(H=H.slice(-16)),""==(H=H.replace(/0+$/,""))&&(H="0"),H},this.getExtKeyUsageString=function(P){for(var M=this.getExtKeyUsageBin(P),H=new Array,V=0;V<M.length;V++)"1"==M.substr(V,1)&&H.push(be.KEYUSAGE_NAME[V]);return H.join(",")},this.getExtSubjectKeyIdentifier=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("subjectKeyIdentifier");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"subjectKeyIdentifier"};M&&(V.critical=!0);var K=c(P,0);return V.kid={hex:K},V},this.getExtAuthorityKeyIdentifier=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("authorityKeyIdentifier");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"authorityKeyIdentifier"};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++){var $=P.substr(K[Z],2);if("80"===$&&(V.kid={hex:c(P,K[Z])}),"a1"===$){var W=g(P,K[Z]),Y=this.getGeneralNames(W);V.issuer=Y[0].dn}"82"===$&&(V.sn={hex:c(P,K[Z])})}return V},this.getExtExtKeyUsage=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("extKeyUsage");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"extKeyUsage",array:[]};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++)V.array.push(D(c(P,K[Z])));return V},this.getExtExtKeyUsageName=function(){var P=this.getExtInfo("extKeyUsage");if(void 0===P)return P;var M=new Array,H=g(this.hex,P.vidx);if(""===H)return M;for(var V=u(H,0),K=0;K<V.length;K++)M.push(D(c(H,V[K])));return M},this.getExtSubjectAltName=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("subjectAltName");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"subjectAltName",array:[]};return M&&(V.critical=!0),V.array=this.getGeneralNames(P),V},this.getExtIssuerAltName=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("issuerAltName");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"issuerAltName",array:[]};return M&&(V.critical=!0),V.array=this.getGeneralNames(P),V},this.getGeneralNames=function(P){for(var M=u(P,0),H=[],V=0;V<M.length;V++){var K=this.getGeneralName(g(P,M[V]));void 0!==K&&H.push(K)}return H},this.getGeneralName=function(P){var M=P.substr(0,2),H=c(P,0),V=wn(H);return"81"==M?{rfc822:V}:"82"==M?{dns:V}:"86"==M?{uri:V}:"87"==M?{ip:ui(H)}:"a4"==M?{dn:this.getX500Name(H)}:"a0"==M?{other:this.getOtherName(P)}:void 0},this.getExtSubjectAltName2=function(){var P,M,H,V=this.getExtInfo("subjectAltName");if(void 0===V)return V;for(var K=new Array,Z=g(this.hex,V.vidx),$=u(Z,0),W=0;W<$.length;W++)H=Z.substr($[W],2),P=c(Z,$[W]),"81"===H&&(M=lt(P),K.push(["MAIL",M])),"82"===H&&(M=lt(P),K.push(["DNS",M])),"84"===H&&(M=be.hex2dn(P,0),K.push(["DN",M])),"86"===H&&(M=lt(P),K.push(["URI",M])),"87"===H&&(M=ui(P),K.push(["IP",M]));return K},this.getExtCRLDistributionPoints=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("cRLDistributionPoints");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"cRLDistributionPoints",array:[]};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++){var $=g(P,K[Z]);V.array.push(this.getDistributionPoint($))}return V},this.getDistributionPoint=function(P){for(var M={},H=u(P,0),V=0;V<H.length;V++){var K=P.substr(H[V],2),Z=g(P,H[V]);"a0"==K&&(M.dpname=this.getDistributionPointName(Z))}return M},this.getDistributionPointName=function(P){for(var M={},H=u(P,0),V=0;V<H.length;V++){var K=P.substr(H[V],2),Z=g(P,H[V]);"a0"==K&&(M.full=this.getGeneralNames(Z))}return M},this.getExtCRLDistributionPointsURI=function(){var P=this.getExtCRLDistributionPoints();if(null==P)return P;for(var M=P.array,H=[],V=0;V<M.length;V++)try{null!=M[V].dpname.full[0].uri&&H.push(M[V].dpname.full[0].uri)}catch{}return H},this.getExtAIAInfo=function(){var P=this.getExtInfo("authorityInfoAccess");if(void 0===P)return P;for(var M={ocsp:[],caissuer:[]},H=u(this.hex,P.vidx),V=0;V<H.length;V++){var K=v(this.hex,H[V],[0],"06"),Z=v(this.hex,H[V],[1],"86");"2b06010505073001"===K&&M.ocsp.push(lt(Z)),"2b06010505073002"===K&&M.caissuer.push(lt(Z))}return M},this.getExtAuthorityInfoAccess=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("authorityInfoAccess");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"authorityInfoAccess",array:[]};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++){var $=E(P,K[Z],[0],"06"),Y=lt(v(P,K[Z],[1],"86"));if("2b06010505073001"==$)V.array.push({ocsp:Y});else{if("2b06010505073002"!=$)throw new Error("unknown method: "+$);V.array.push({caissuer:Y})}}return V},this.getExtCertificatePolicies=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("certificatePolicies");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"certificatePolicies",array:[]};M&&(V.critical=!0);for(var K=u(P,0),Z=0;Z<K.length;Z++){var $=g(P,K[Z]),W=this.getPolicyInformation($);V.array.push(W)}return V},this.getPolicyInformation=function(P){var M={},H=v(P,0,[0],"06");M.policyoid=D(H);var V=w(P,0,[1],"30");if(-1!=V){M.array=[];for(var K=u(P,V),Z=0;Z<K.length;Z++){var $=g(P,K[Z]),W=this.getPolicyQualifierInfo($);M.array.push(W)}}return M},this.getOtherName=function(P){var M={},H=u(P,0),V=v(P,H[0],[],"06"),K=v(P,H[1],[]);return M.oid=D(V),M.value=p(K),M},this.getPolicyQualifierInfo=function(P){var M={},H=v(P,0,[0],"06");if("2b06010505070201"===H){var V=E(P,0,[1],"16");M.cps=wn(V)}else if("2b06010505070202"===H){var K=x(P,0,[1],"30");M.unotice=this.getUserNotice(K)}return M},this.getUserNotice=function(P){for(var M={},H=u(P,0),V=0;V<H.length;V++){var K=g(P,H[V]);"30"!=K.substr(0,2)&&(M.exptext=this.getDisplayText(K))}return M},this.getDisplayText=function(P){var H={};return H.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[P.substr(0,2)],H.str=wn(c(P,0)),H},this.getExtPolicyMappings=function(P,M){var H=this.getCriticalExtV("policyMappings",P,M);if(M=H[1],null!=(P=H[0])){var V={extname:"policyMappings"};M&&(V.critical=!0);try{for(var Z=p(P).seq,$=[],W=0;W<Z.length;W++){var Y=Z[W].seq;$.push([Y[0].oid,Y[1].oid])}V.array=$}catch{throw new B("malformed policyMappings")}return V}},this.getExtPolicyConstraints=function(P,M){var H=this.getCriticalExtV("policyConstraints",P,M);if(M=H[1],null!=(P=H[0])){var V={extname:"policyConstraints"};M&&(V.critical=!0);var K=p(P);try{for(var Z=K.seq,$=0;$<Z.length;$++){var W=Z[$].tag;0==W.explicit&&("80"==W.tag&&(V.reqexp=parseInt(W.hex,16)),"81"==W.tag&&(V.inhibit=parseInt(W.hex,16)))}}catch{return new B("malformed policyConstraints value")}return V}},this.getExtInhibitAnyPolicy=function(P,M){var H=this.getCriticalExtV("inhibitAnyPolicy",P,M);if(M=H[1],null!=(P=H[0])){var V={extname:"inhibitAnyPolicy"};M&&(V.critical=!0);var K=b(P,0);return-1==K?new B("wrong value"):(V.skip=K,V)}},this.getExtCRLNumber=function(P,M){var H={extname:"cRLNumber"};if(M&&(H.critical=!0),"02"==P.substr(0,2))return H.num={hex:c(P,0)},H;throw new B("hExtV parse error: "+P)},this.getExtCRLReason=function(P,M){var H={extname:"cRLReason"};if(M&&(H.critical=!0),"0a"==P.substr(0,2))return H.code=parseInt(c(P,0),16),H;throw new Error("hExtV parse error: "+P)},this.getExtOcspNonce=function(P,M){var H={extname:"ocspNonce"};M&&(H.critical=!0);var V=c(P,0);return H.hex=V,H},this.getExtOcspNoCheck=function(P,M){var H={extname:"ocspNoCheck"};return M&&(H.critical=!0),H},this.getExtAdobeTimeStamp=function(P,M){if(void 0===P&&void 0===M){var H=this.getExtInfo("adobeTimeStamp");if(void 0===H)return;P=g(this.hex,H.vidx),M=H.critical}var V={extname:"adobeTimeStamp"};M&&(V.critical=!0);var K=u(P,0);if(K.length>1){var Z=g(P,K[1]),$=this.getGeneralName(Z);null!=$.uri&&(V.uri=$.uri)}if(K.length>2){var W=g(P,K[2]);"0101ff"==W&&(V.reqauth=!0),"010100"==W&&(V.reqauth=!1)}return V};var L=function(P){var M={};try{var V=d.asn1.x509.OID.name2oid(P.seq[0].oid);M.type=d.asn1.x509.OID.oid2atype(V);var K=P.seq[1];if(null!=K.utf8str)M.ds="utf8",M.value=K.utf8str.str;else if(null!=K.numstr)M.ds="num",M.value=K.numstr.str;else if(null!=K.telstr)M.ds="tel",M.value=K.telstr.str;else if(null!=K.prnstr)M.ds="prn",M.value=K.prnstr.str;else if(null!=K.ia5str)M.ds="ia5",M.value=K.ia5str.str;else if(null!=K.visstr)M.ds="vis",M.value=K.visstr.str;else{if(null==K.bmpstr)throw"error";M.ds="bmp",M.value=K.bmpstr.str}return M}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},X=function(P){try{return P.set.map(function(M){return L(M)})}catch(M){throw new Error("improper ASN.1 parsed RDN: "+M)}};this.getX500NameRule=function(P){for(var $=null,W=[],Y=0;Y<P.length;Y++)for(var Q=P[Y],Se=0;Se<Q.length;Se++)W.push(Q[Se]);for(Y=0;Y<W.length;Y++){var De=W[Y],we=De.ds,Ke=De.type;if("prn"!=we&&"utf8"!=we&&"ia5"!=we)return"mixed";if("ia5"==we){if("CN"!=Ke)return"mixed";if(d.lang.String.isMail(De.value))continue;return"mixed"}if("C"==Ke){if("prn"==we)continue;return"mixed"}if(null==$)$=we;else if($!==we)return"mixed"}return $??"prn"},this.getAttrTypeAndValue=function(P){var M=p(P);return L(M)},this.getRDN=function(P){var M=p(P);return X(M)},this.getX500NameArray=function(P){return function(P){try{return P.seq.map(function(M){return X(M)})}catch(M){throw new Error("improper ASN.1 parsed X500Name: "+M)}}(p(P))},this.getX500Name=function(P,M,H){var V=this.getX500NameArray(P),Z={str:this.dnarraytostr(V)};return Z.array=V,1==H&&(Z.hex=P),1==M&&(Z.canon=this.c14nRDNArray(V)),Z},this.readCertPEM=function(P){this.readCertHex(N(P))},this.readCertHex=function(P){this.hex=P,this.getVersion();try{A(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(P){var M={};return null==P&&(P={}),M.version=this.getVersion(),M.serial={hex:this.getSerialNumberHex()},M.sigalg=this.getSignatureAlgorithmField(),M.issuer=this.getIssuer(P.dncanon,P.dnhex),M.notbefore=this.getNotBefore(),M.notafter=this.getNotAfter(),M.subject=this.getSubject(P.dncanon,P.dnhex),M.sbjpubkey=ft(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(M.ext=this.getExtParamArray()),M.sighex=this.getSignatureValueHex(),1==P.tbshex&&(M.tbshex=x(this.hex,0,[0])),1==P.nodnarray&&(delete M.issuer.array,delete M.subject.array),M},this.getExtParamArray=function(P){null==P&&-1!=w(this.hex,0,[0,"[3]"])&&(P=F(this.hex,0,[0,"[3]",0],"30"));for(var H=[],V=u(P,0),K=0;K<V.length;K++){var Z=g(P,V[K]),$=this.getExtParam(Z);null!=$&&H.push($)}return H},this.getExtParam=function(P){var V=u(P,0).length;if(2!=V&&3!=V)throw new Error("wrong number elements in Extension: "+V+" "+P);var K=_(v(P,0,[0],"06")),Z=!1;3==V&&"0101ff"==x(P,0,[1])&&(Z=!0);var $=x(P,0,[V-1,0]),W=void 0;if("2.5.29.14"==K?W=this.getExtSubjectKeyIdentifier($,Z):"2.5.29.15"==K?W=this.getExtKeyUsage($,Z):"2.5.29.17"==K?W=this.getExtSubjectAltName($,Z):"2.5.29.18"==K?W=this.getExtIssuerAltName($,Z):"2.5.29.19"==K?W=this.getExtBasicConstraints($,Z):"2.5.29.30"==K?W=this.getExtNameConstraints($,Z):"2.5.29.31"==K?W=this.getExtCRLDistributionPoints($,Z):"2.5.29.32"==K?W=this.getExtCertificatePolicies($,Z):"2.5.29.33"==K?W=this.getExtPolicyMappings($,Z):"2.5.29.35"==K?W=this.getExtAuthorityKeyIdentifier($,Z):"2.5.29.36"==K?W=this.getExtPolicyConstraints($,Z):"2.5.29.37"==K?W=this.getExtExtKeyUsage($,Z):"2.5.29.54"==K?W=this.getExtInhibitAnyPolicy($,Z):"1.3.6.1.5.5.7.1.1"==K?W=this.getExtAuthorityInfoAccess($,Z):"2.5.29.20"==K?W=this.getExtCRLNumber($,Z):"2.5.29.21"==K?W=this.getExtCRLReason($,Z):"1.3.6.1.5.5.7.48.1.2"==K?W=this.getExtOcspNonce($,Z):"1.3.6.1.5.5.7.48.1.5"==K?W=this.getExtOcspNoCheck($,Z):"1.2.840.113583.1.1.9.1"==K?W=this.getExtAdobeTimeStamp($,Z):null!=be.EXT_PARSER[K]&&(W=be.EXT_PARSER[K](K,Z,$)),null!=W)return W;var Y={extname:K,extn:$};return Z&&(Y.critical=!0),Y},this.findExt=function(P,M){for(var H=0;H<P.length;H++)if(P[H].extname==M)return P[H];return null},this.updateExtCDPFullURI=function(P,M){var H=this.findExt(P,"cRLDistributionPoints");if(null!=H&&null!=H.array)for(var V=H.array,K=0;K<V.length;K++)if(null!=V[K].dpname&&null!=V[K].dpname.full)for(var Z=V[K].dpname.full,$=0;$<Z.length;$++){var W=Z[K];null!=W.uri&&(W.uri=M)}},this.updateExtAIAOCSP=function(P,M){var H=this.findExt(P,"authorityInfoAccess");if(null!=H&&null!=H.array)for(var V=H.array,K=0;K<V.length;K++)null!=V[K].ocsp&&(V[K].ocsp=M)},this.updateExtAIACAIssuer=function(P,M){var H=this.findExt(P,"authorityInfoAccess");if(null!=H&&null!=H.array)for(var V=H.array,K=0;K<V.length;K++)null!=V[K].caissuer&&(V[K].caissuer=M)},this.dnarraytostr=function(P){return"/"+P.map(function(V){return function M(V){return V.map(function(K){return function H(V){return V.type+"="+V.value}(K).replace(/\+/,"\\+")}).join("+")}(V).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(P){var M;if(null!=P.str&&null==P.array){var V=new d.asn1.x509.X500Name({str:P.str}).tohex();M=this.getX500NameArray(V)}else M=P.array;null==P.canon&&(P.canon=this.c14nRDNArray(M))},this.c14nRDNArray=function(P){for(var M=[],H=0;H<P.length;H++){for(var V=P[H],K=[],Z=0;Z<V.length;Z++){var $=V[Z],W=$.value;W=(W=(W=(W=W.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),K.push($.type.toLowerCase()+"="+W)}M.push(K.join("+"))}return"/"+M.join("/")},this.getInfo=function(){var Z,$,W,P=function(On){for(var pt="",Jt="    ",Wt=On.array,Fn=0;Fn<Wt.length;Fn++){var mt=Wt[Fn];null!=mt.dn&&(pt+=Jt+"dn: "+mt.dn.str+"\n"),null!=mt.ip&&(pt+=Jt+"ip: "+mt.ip+"\n"),null!=mt.rfc822&&(pt+=Jt+"rfc822: "+mt.rfc822+"\n"),null!=mt.dns&&(pt+=Jt+"dns: "+mt.dns+"\n"),null!=mt.uri&&(pt+=Jt+"uri: "+mt.uri+"\n"),null!=mt.other&&(pt+=Jt+"other: "+mt.other.oid+"="+JSON.stringify(mt.other.value).replace(/\"/g,"")+"\n")}return pt.replace(/\n$/,"")},M=function(On){for(var pt="",Jt=On.array,Rt=0;Rt<Jt.length;Rt++){var Wt=Jt[Rt];if(pt+="    policy oid: "+Wt.policyoid+"\n",void 0!==Wt.array)for(var Fn=0;Fn<Wt.array.length;Fn++){var mt=Wt.array[Fn];void 0!==mt.cps&&(pt+="    cps: "+mt.cps+"\n")}}return pt},H=function(On){for(var pt="",Jt=On.array,Rt=0;Rt<Jt.length;Rt++){var Wt=Jt[Rt];try{void 0!==Wt.dpname.full[0].uri&&(pt+="    "+Wt.dpname.full[0].uri+"\n")}catch{}try{void 0!==Wt.dname.full[0].dn.hex&&(pt+="    "+be.hex2dn(Wt.dpname.full[0].dn.hex)+"\n")}catch{}}return pt},V=function(On){for(var pt="",Jt=On.array,Rt=0;Rt<Jt.length;Rt++){var Wt=Jt[Rt];void 0!==Wt.caissuer&&(pt+="    caissuer: "+Wt.caissuer+"\n"),void 0!==Wt.ocsp&&(pt+="    ocsp: "+Wt.ocsp+"\n")}return pt};if(Z="Basic Fields\n",Z+="  serial number: "+this.getSerialNumberHex()+"\n",Z+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",Z+="  issuer: "+this.getIssuerString()+"\n",Z+="  notBefore: "+this.getNotBefore()+"\n",Z+="  notAfter: "+this.getNotAfter()+"\n",Z+="  subject: "+this.getSubjectString()+"\n",Z+="  subject public key info: \n",Z+="    key algorithm: "+($=this.getPublicKey()).type+"\n","RSA"===$.type&&(Z+="    n="+ci($.n.toString(16)).substr(0,16)+"...\n",Z+="    e="+ci($.e.toString(16))+"\n"),null!=(W=this.aExtInfo)){Z+="X509v3 Extensions:\n";for(var Y=0;Y<W.length;Y++){var Q=W[Y],Se=d.asn1.x509.OID.oid2name(Q.oid);""===Se&&(Se=Q.oid);var De="";if(!0===Q.critical&&(De="CRITICAL"),Z+="  "+Se+" "+De+":\n","basicConstraints"===Se){var we=this.getExtBasicConstraints();void 0===we.cA?Z+="    {}\n":(Z+="    cA=true",void 0!==we.pathLen&&(Z+=", pathLen="+we.pathLen),Z+="\n")}else if("policyMappings"==Se)Z+="    "+this.getExtPolicyMappings().array.map(function(On){return On[0]+":"+On[1]}).join(", ")+"\n";else if("policyConstraints"==Se)Z+="    ",null!=(ot=this.getExtPolicyConstraints()).reqexp&&(Z+=" reqexp="+ot.reqexp),null!=ot.inhibit&&(Z+=" inhibit="+ot.inhibit),Z+="\n";else if("inhibitAnyPolicy"==Se){var ot;Z+="    skip="+(ot=this.getExtInhibitAnyPolicy()).skip+"\n"}else if("keyUsage"==Se)Z+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==Se)Z+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==Se){var dt=this.getExtAuthorityKeyIdentifier();void 0!==dt.kid&&(Z+="    kid="+dt.kid.hex+"\n")}else"extKeyUsage"==Se?Z+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==Se?Z+=P(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==Se?Z+=H(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==Se?Z+=V(this.getExtAuthorityInfoAccess()):"certificatePolicies"==Se&&(Z+=M(this.getExtCertificatePolicies()))}}return(Z+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof s&&(-1!=s.indexOf("-----BEGIN")?this.readCertPEM(s):d.lang.String.isHex(s)&&this.readCertHex(s))}je.getKey=function(s,a,u){var P,h=(c=fe).getChildIdx,g=c.getVbyList,v=d.crypto,E=v.ECDSA,x=v.DSA,F=Ce,A=Ot,w=je;if(typeof F<"u"&&s instanceof F||typeof E<"u"&&s instanceof E||typeof x<"u"&&s instanceof x)return s;if(void 0!==s.curve&&void 0!==s.xy&&void 0===s.d)return new E({pub:s.xy,curve:s.curve});if(void 0!==s.curve&&void 0!==s.d)return new E({prv:s.d,curve:s.curve});if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(y=new F).setPublic(s.n,s.e),y;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.co&&void 0===s.qi)return(y=new F).setPrivateEx(s.n,s.e,s.d,s.p,s.q,s.dp,s.dq,s.co),y;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0===s.p)return(y=new F).setPrivate(s.n,s.e,s.d),y;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0===s.x)return(y=new x).setPublic(s.p,s.q,s.g,s.y),y;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0!==s.x)return(y=new x).setPrivate(s.p,s.q,s.g,s.y,s.x),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(y=new F).setPublic(Et(s.n),Et(s.e)),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.qi)return(y=new F).setPrivateEx(Et(s.n),Et(s.e),Et(s.d),Et(s.p),Et(s.q),Et(s.dp),Et(s.dq),Et(s.qi)),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d)return(y=new F).setPrivate(Et(s.n),Et(s.e),Et(s.d)),y;if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0===s.d){var D=(b=new E({curve:s.crv})).ecparams.keycharlen,_=("0000000000"+Et(s.x)).slice(-D),C=("0000000000"+Et(s.y)).slice(-D);return b.setPublicKeyHex(N="04"+_+C),b}if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0!==s.d){D=(b=new E({curve:s.crv})).ecparams.keycharlen;var N="04"+(_=("0000000000"+Et(s.x)).slice(-D))+(C=("0000000000"+Et(s.y)).slice(-D)),k=("0000000000"+Et(s.d)).slice(-D);return b.setPublicKeyHex(N),b.setPrivateKeyHex(k),b}if("pkcs5prv"===u){var L,B=s,c=fe;if(9===(L=h(B,0)).length)(y=new F).readPKCS5PrvKeyHex(B);else if(6===L.length)(y=new x).readPKCS5PrvKeyHex(B);else{if(!(L.length>2&&"04"===B.substr(L[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(y=new E).readPKCS5PrvKeyHex(B)}return y}if("pkcs8prv"===u)return w.getKeyFromPlainPrivatePKCS8Hex(s);if("pkcs8pub"===u)return w._getKeyFromPublicPKCS8Hex(s);if("x509pub"===u)return be.getPublicKeyFromCertHex(s);if(-1!=s.indexOf("-END CERTIFICATE-",0)||-1!=s.indexOf("-END X509 CERTIFICATE-",0)||-1!=s.indexOf("-END TRUSTED CERTIFICATE-",0))return be.getPublicKeyFromCertPEM(s);if(-1!=s.indexOf("-END PUBLIC KEY-")){var X=Ot(s,"PUBLIC KEY");return w._getKeyFromPublicPKCS8Hex(X)}if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var te=A(s,"RSA PRIVATE KEY");return w.getKey(te,null,"pkcs5prv")}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var M=g(P=A(s,"DSA PRIVATE KEY"),0,[1],"02"),H=g(P,0,[2],"02"),V=g(P,0,[3],"02"),K=g(P,0,[4],"02"),Z=g(P,0,[5],"02");return(y=new x).setPrivate(new z(M,16),new z(H,16),new z(V,16),new z(K,16),new z(Z,16)),y}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED"))return te=A(s,"EC PRIVATE KEY"),w.getKey(te,null,"pkcs5prv");if(-1!=s.indexOf("-END PRIVATE KEY-"))return w.getKeyFromPlainPrivatePKCS8PEM(s);if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var $=w.getDecryptedKeyHex(s,a),W=new Ce;return W.readPKCS5PrvKeyHex($),W}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var b,y=g(P=w.getDecryptedKeyHex(s,a),0,[1],"04"),Y=g(P,0,[2,0],"06"),Q=g(P,0,[3,0],"03").substr(2);if(void 0===d.crypto.OID.oidhex2name[Y])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Y);return(b=new E({curve:d.crypto.OID.oidhex2name[Y]})).setPublicKeyHex(Q),b.setPrivateKeyHex(y),b.isPublic=!1,b}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED"))return M=g(P=w.getDecryptedKeyHex(s,a),0,[1],"02"),H=g(P,0,[2],"02"),V=g(P,0,[3],"02"),K=g(P,0,[4],"02"),Z=g(P,0,[5],"02"),(y=new x).setPrivate(new z(M,16),new z(H,16),new z(V,16),new z(K,16),new z(Z,16)),y;if(-1!=s.indexOf("-END ENCRYPTED PRIVATE KEY-"))return w.getKeyFromEncryptedPKCS8PEM(s,a);throw new Error("not supported argument")},je.generateKeypair=function(s,a){if("RSA"==s){var u=a;(c=new Ce).generate(u,"10001"),c.isPrivate=!0,c.isPublic=!0;var h=new Ce,p=c.n.toString(16),g=c.e.toString(16);return h.setPublic(p,g),h.isPrivate=!1,h.isPublic=!0,(v={}).prvKeyObj=c,v.pubKeyObj=h,v}if("EC"==s){var c,v,E=a,F=new d.crypto.ECDSA({curve:E}).generateKeyPairHex();return(c=new d.crypto.ECDSA({curve:E})).setPublicKeyHex(F.ecpubhex),c.setPrivateKeyHex(F.ecprvhex),c.isPrivate=!0,c.isPublic=!1,(h=new d.crypto.ECDSA({curve:E})).setPublicKeyHex(F.ecpubhex),h.isPrivate=!1,h.isPublic=!0,(v={}).prvKeyObj=c,v.pubKeyObj=h,v}throw new Error("unknown algorithm: "+s)},je.getPEM=function(s,a,u,c,h,p){var v=d.asn1,E=v.DERObjectIdentifier,x=v.DERInteger,F=v.ASN1Util.newObject,y=d.crypto,b=y.DSA,D=y.ECDSA,_=Ce;function C(Y){return F({seq:[{int:0},{int:{bigint:Y.n}},{int:Y.e},{int:{bigint:Y.d}},{int:{bigint:Y.p}},{int:{bigint:Y.q}},{int:{bigint:Y.dmp1}},{int:{bigint:Y.dmq1}},{int:{bigint:Y.coeff}}]})}function N(Y){return F({seq:[{int:1},{octstr:{hex:Y.prvKeyHex}},{tag:["a0",!0,{oid:{name:Y.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Y.pubKeyHex}}]}]})}function k(Y){return F({seq:[{int:0},{int:{bigint:Y.p}},{int:{bigint:Y.q}},{int:{bigint:Y.g}},{int:{bigint:Y.y}},{int:{bigint:Y.x}}]})}if((void 0!==_&&s instanceof _||void 0!==b&&s instanceof b||void 0!==D&&s instanceof D)&&1==s.isPublic&&(void 0===a||"PKCS8PUB"==a))return ft(L=new(0,v.x509.SubjectPublicKeyInfo)(s).tohex(),"PUBLIC KEY");if("PKCS1PRV"==a&&void 0!==_&&s instanceof _&&(void 0===u||null==u)&&1==s.isPrivate)return ft(L=C(s).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==a&&void 0!==D&&s instanceof D&&(void 0===u||null==u)&&1==s.isPrivate){var te=new E({name:s.curveName}).tohex(),M=N(s).tohex(),H="";return(H+=ft(te,"EC PARAMETERS"))+ft(M,"EC PRIVATE KEY")}if("PKCS1PRV"==a&&void 0!==b&&s instanceof b&&(void 0===u||null==u)&&1==s.isPrivate)return ft(L=k(s).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==a&&void 0!==_&&s instanceof _&&void 0!==u&&null!=u&&1==s.isPrivate){var L=C(s).tohex();return void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",L,u,c,p)}if("PKCS5PRV"==a&&void 0!==D&&s instanceof D&&void 0!==u&&null!=u&&1==s.isPrivate)return L=N(s).tohex(),void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",L,u,c,p);if("PKCS5PRV"==a&&void 0!==b&&s instanceof b&&void 0!==u&&null!=u&&1==s.isPrivate)return L=k(s).tohex(),void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",L,u,c,p);var V=function(Y,Q){var Se=K(Y,Q);return new F({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Se.pbkdf2Salt}},{int:Se.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Se.encryptionSchemeIV}}]}]}]},{octstr:{hex:Se.ciphertext}}]}).tohex()},K=function(Y,Q){var De=le.lib.WordArray.random(8),_e=le.lib.WordArray.random(8),Ke=le.PBKDF2(Q,De,{keySize:6,iterations:100}),ot=le.enc.Hex.parse(Y),dt=le.TripleDES.encrypt(ot,Ke,{iv:_e})+"",Lt={};return Lt.ciphertext=dt,Lt.pbkdf2Salt=le.enc.Hex.stringify(De),Lt.pbkdf2Iter=100,Lt.encryptionSchemeAlg="DES-EDE3-CBC",Lt.encryptionSchemeIV=le.enc.Hex.stringify(_e),Lt};if("PKCS8PRV"==a&&null!=_&&s instanceof _&&1==s.isPrivate){var $=C(s).tohex();return L=F({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:$}}]}).tohex(),void 0===u||null==u?ft(L,"PRIVATE KEY"):ft(M=V(L,u),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==a&&void 0!==D&&s instanceof D&&1==s.isPrivate){var W={seq:[{int:1},{octstr:{hex:s.prvKeyHex}}]};return"string"==typeof s.pubKeyHex&&W.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+s.pubKeyHex}}]}),$=new F(W).tohex(),L=F({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:s.curveName}}]},{octstr:{hex:$}}]}).tohex(),void 0===u||null==u?ft(L,"PRIVATE KEY"):ft(M=V(L,u),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==a&&void 0!==b&&s instanceof b&&1==s.isPrivate)return $=new x({bigint:s.x}).tohex(),L=F({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:s.p}},{int:{bigint:s.q}},{int:{bigint:s.g}}]}]},{octstr:{hex:$}}]}).tohex(),void 0===u||null==u?ft(L,"PRIVATE KEY"):ft(M=V(L,u),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},je.getKeyFromCSRPEM=function(s){var a=Ot(s,"CERTIFICATE REQUEST");return je.getKeyFromCSRHex(a)},je.getKeyFromCSRHex=function(s){var a=je.parseCSRHex(s);return je.getKey(a.p8pubkeyhex,null,"pkcs8pub")},je.parseCSRHex=function(s){var u=fe.getChildIdx,c=fe.getTLV,h={},p=s;if("30"!=p.substr(0,2))throw new Error("malformed CSR(code:001)");var g=u(p,0);if(g.length<1)throw new Error("malformed CSR(code:002)");if("30"!=p.substr(g[0],2))throw new Error("malformed CSR(code:003)");var v=u(p,g[0]);if(v.length<3)throw new Error("malformed CSR(code:004)");return h.p8pubkeyhex=c(p,v[2]),h},je.getKeyID=function(s){var a=je,u=fe;"string"==typeof s&&-1!=s.indexOf("BEGIN ")&&(s=a.getKey(s));var c=Ot(a.getPEM(s)),h=u.getIdxbyList(c,0,[1]),p=u.getV(c,h).substring(2);return d.crypto.Util.hashHex(p,"sha1")},je.getJWK=function(s,a,u,c,h){var p,v,g={},E=d.crypto.Util.hashHex;if("string"==typeof s)p=je.getKey(s),-1!=s.indexOf("CERTIFICATE")&&(v=Ot(s));else{if("object"!=typeof s)throw new Error("unsupported keyinfo type");s instanceof be?(p=s.getPublicKey(),v=s.hex):p=s}if(p instanceof Ce&&p.isPrivate)g.kty="RSA",g.n=Gt(p.n.toString(16)),g.e=Gt(p.e.toString(16)),g.d=Gt(p.d.toString(16)),g.p=Gt(p.p.toString(16)),g.q=Gt(p.q.toString(16)),g.dp=Gt(p.dmp1.toString(16)),g.dq=Gt(p.dmq1.toString(16)),g.qi=Gt(p.coeff.toString(16));else if(p instanceof Ce&&p.isPublic)g.kty="RSA",g.n=Gt(p.n.toString(16)),g.e=Gt(p.e.toString(16));else if(p instanceof d.crypto.ECDSA&&p.isPrivate){if("P-256"!==(x=p.getShortNISTPCurveName())&&"P-384"!==x&&"P-521"!==x)throw new Error("unsupported curve name for JWT: "+x);var F=p.getPublicKeyXYHex();g.kty="EC",g.crv=x,g.x=Gt(F.x),g.y=Gt(F.y),g.d=Gt(p.prvKeyHex)}else if(p instanceof d.crypto.ECDSA&&p.isPublic){var x;if("P-256"!==(x=p.getShortNISTPCurveName())&&"P-384"!==x&&"P-521"!==x)throw new Error("unsupported curve name for JWT: "+x);F=p.getPublicKeyXYHex(),g.kty="EC",g.crv=x,g.x=Gt(F.x),g.y=Gt(F.y)}if(null==g.kty)throw new Error("unsupported keyinfo");return!p.isPrivate&&1!=a&&(g.kid=d.jws.JWS.getJWKthumbprint(g)),null!=v&&1!=u&&(g.x5c=[ne(v)]),null!=v&&1!=c&&(g.x5t=Xe(ne(E(v,"sha1")))),null!=v&&1!=h&&(g["x5t#S256"]=Xe(ne(E(v,"sha256")))),g},je.getJWKFromKey=function(s){return je.getJWK(s,!0,!0,!0,!0)},Ce.getPosArrayOfChildrenFromHex=function(s){return fe.getChildIdx(s,0)},Ce.getHexValueArrayOfChildrenFromHex=function(s){var w,u=fe.getV,c=u(s,(w=Ce.getPosArrayOfChildrenFromHex(s))[0]),h=u(s,w[1]),p=u(s,w[2]),g=u(s,w[3]),v=u(s,w[4]),E=u(s,w[5]),x=u(s,w[6]),F=u(s,w[7]),A=u(s,w[8]);return(w=new Array).push(c,h,p,g,v,E,x,F,A),w},Ce.prototype.readPrivateKeyFromPEMString=function(s){var a=Ot(s),u=Ce.getHexValueArrayOfChildrenFromHex(a);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},Ce.prototype.readPKCS5PrvKeyHex=function(s){var a=Ce.getHexValueArrayOfChildrenFromHex(s);this.setPrivateEx(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},Ce.prototype.readPKCS8PrvKeyHex=function(s){var a,u,c,h,p,g,v,E,F=fe.getVbyListEx;if(!1===fe.isASN1HEX(s))throw new Error("not ASN.1 hex string");try{a=F(s,0,[2,0,1],"02"),u=F(s,0,[2,0,2],"02"),c=F(s,0,[2,0,3],"02"),h=F(s,0,[2,0,4],"02"),p=F(s,0,[2,0,5],"02"),g=F(s,0,[2,0,6],"02"),v=F(s,0,[2,0,7],"02"),E=F(s,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(a,u,c,h,p,g,v,E)},Ce.prototype.readPKCS5PubKeyHex=function(s){var a=fe,u=a.getV;if(!1===a.isASN1HEX(s))throw new Error("keyHex is not ASN.1 hex string");var c=a.getChildIdx(s,0);if(2!==c.length||"02"!==s.substr(c[0],2)||"02"!==s.substr(c[1],2))throw new Error("wrong hex for PKCS#5 public key");var h=u(s,c[0]),p=u(s,c[1]);this.setPublic(h,p)},Ce.prototype.readPKCS8PubKeyHex=function(s){var a=fe;if(!1===a.isASN1HEX(s))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==a.getTLVbyListEx(s,0,[0,0]))throw new Error("not PKCS8 RSA public key");var u=a.getTLVbyListEx(s,0,[1,0]);this.readPKCS5PubKeyHex(u)},Ce.prototype.readCertPubKeyHex=function(s,a){var u,c;(u=new be).readCertHex(s),c=u.getPublicKeyHex(),this.readPKCS8PubKeyHex(c)},Ce.prototype.sign=function(s,a){var c=function(h){return d.crypto.Util.hashString(h,a)}(s);return this.signWithMessageHash(c,a)},Ce.prototype.signWithMessageHash=function(s,a){var c=Pn(d.crypto.Util.getPaddedDigestInfoHex(s,a,this.n.bitLength()),16);return cs(this.doPrivate(c).toString(16),this.n.bitLength())},Ce.prototype.signPSS=function(s,a,u){var h=function(p){return d.crypto.Util.hashHex(p,a)}(Ct(s));return void 0===u&&(u=-1),this.signWithMessageHashPSS(h,a,u)},Ce.prototype.signWithMessageHashPSS=function(s,a,u){var v,c=wn(s),h=c.length,p=this.n.bitLength()-1,g=Math.ceil(p/8),E=function(_){return d.crypto.Util.hashHex(_,a)};if(-1===u||void 0===u)u=h;else if(-2===u)u=g-h-2;else if(u<-2)throw new Error("invalid salt length");if(g<h+u+2)throw new Error("data too long");var x="";u>0&&(x=new Array(u),(new oi).nextBytes(x),x=String.fromCharCode.apply(String,x));var F=wn(E(Ct("\0\0\0\0\0\0\0\0"+c+x))),A=[];for(v=0;v<g-u-h-2;v+=1)A[v]=0;var w=String.fromCharCode.apply(String,A)+"\x01"+x,y=tr(F,w.length,E),b=[];for(v=0;v<w.length;v+=1)b[v]=w.charCodeAt(v)^y.charCodeAt(v);for(b[0]&=~(65280>>8*g-p&255),v=0;v<h;v++)b.push(F.charCodeAt(v));return b.push(188),cs(this.doPrivate(new z(b)).toString(16),this.n.bitLength())},Ce.prototype.verify=function(s,a){if(null==(a=a.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var u=Pn(a,16),c=this.n.bitLength();if(u.bitLength()>c)return!1;var p=this.doPublic(u).toString(16);if(p.length+3!=c/4)return!1;var v=mu(p.replace(/^1f+00/,""));if(0==v.length)return!1;var E=v[0],x=v[1],A=function(w){return d.crypto.Util.hashString(w,E)}(s);return x==A},Ce.prototype.verifyWithMessageHash=function(s,a){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var u=Pn(a,16);if(u.bitLength()>this.n.bitLength())return 0;var p=mu(this.doPublic(u).toString(16).replace(/^1f+00/,""));return 0!=p.length&&p[1]==s},Ce.prototype.verifyPSS=function(s,a,u,c){var p=function(g){return d.crypto.Util.hashHex(g,u)}(Ct(s));return void 0===c&&(c=-1),this.verifyWithMessageHashPSS(p,a,u,c)},Ce.prototype.verifyWithMessageHashPSS=function(s,a,u,c){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var F,h=new z(a,16),p=function(N){return d.crypto.Util.hashHex(N,u)},g=wn(s),v=g.length,E=this.n.bitLength()-1,x=Math.ceil(E/8);if(-1===c||void 0===c)c=v;else if(-2===c)c=x-v-2;else if(c<-2)throw new Error("invalid salt length");if(x<v+c+2)throw new Error("data too long");var A=this.doPublic(h).toByteArray();for(F=0;F<A.length;F+=1)A[F]&=255;for(;A.length<x;)A.unshift(0);if(188!==A[x-1])throw new Error("encoded message does not end in 0xbc");var w=(A=String.fromCharCode.apply(String,A)).substr(0,x-v-1),y=A.substr(w.length,v),b=65280>>8*x-E&255;if(w.charCodeAt(0)&b)throw new Error("bits beyond keysize not zero");var D=tr(y,w.length,p),_=[];for(F=0;F<w.length;F+=1)_[F]=w.charCodeAt(F)^D.charCodeAt(F);_[0]&=~b;var C=x-v-c-2;for(F=0;F<C;F+=1)if(0!==_[F])throw new Error("leftmost octets not zero");if(1!==_[C])throw new Error("0x01 marker not found");return y===wn(p(Ct("\0\0\0\0\0\0\0\0"+g+String.fromCharCode.apply(String,_.slice(-c)))))},Ce.SALT_LEN_HLEN=-1,Ce.SALT_LEN_MAX=-2,Ce.SALT_LEN_RECOVER=-2,be.EXT_PARSER={},be.registExtParser=function(s,a){be.EXT_PARSER[s]=a},be.hex2dn=function(s,a){void 0===a&&(a=0);var u=new be;return fe.getTLV(s,a),u.getX500Name(s).str},be.hex2rdn=function(s,a){if(void 0===a&&(a=0),"31"!==s.substr(a,2))throw new Error("malformed RDN");for(var u=new Array,c=fe.getChildIdx(s,a),h=0;h<c.length;h++)u.push(be.hex2attrTypeValue(s,c[h]));return u=u.map(function(p){return p.replace("+","\\+")}),u.join("+")},be.hex2attrTypeValue=function(s,a){var u=fe,c=u.getV;if(void 0===a&&(a=0),"30"!==s.substr(a,2))throw new Error("malformed attribute type and value");var h=u.getChildIdx(s,a);2!==h.length||s.substr(h[0],2);var p=c(s,h[0]),g=d.asn1.ASN1Util.oidHexToInt(p);return d.asn1.x509.OID.oid2atype(g)+"="+wn(c(s,h[1]))},be.getPublicKeyFromCertHex=function(s){var a=new be;return a.readCertHex(s),a.getPublicKey()},be.getPublicKeyFromCertPEM=function(s){var a=new be;return a.readCertPEM(s),a.getPublicKey()},be.getPublicKeyInfoPropOfCertPEM=function(s){var h,p,u=fe.getVbyList,c={algparam:null};return(h=new be).readCertPEM(s),p=h.getPublicKeyHex(),c.keyhex=u(p,0,[1],"03").substr(2),c.algoid=u(p,0,[0,0],"06"),"2a8648ce3d0201"===c.algoid&&(c.algparam=u(p,0,[0,1],"06")),c},be.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof d>"u"||!d)&&(d={}),(typeof d.jws>"u"||!d.jws)&&(d.jws={}),d.jws.JWS=function(){var u=d.jws.JWS.isSafeJSONString;this.parseJWS=function(c,h){if(void 0===this.parsedJWS||!h&&void 0===this.parsedJWS.sigvalH){var p=c.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==p)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var g=p[1],v=p[2],E=p[3],x=g+"."+v;if(this.parsedJWS={},this.parsedJWS.headB64U=g,this.parsedJWS.payloadB64U=v,this.parsedJWS.sigvalB64U=E,this.parsedJWS.si=x,!h){var F=Et(E),A=Pn(F,16);this.parsedJWS.sigvalH=F,this.parsedJWS.sigvalBI=A}var w=nn(g),y=nn(v);if(this.parsedJWS.headS=w,this.parsedJWS.payloadS=y,!u(w,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+w}}},d.jws.JWS.sign=function(s,a,u,c,h){var D,_,C,v=d.jws.JWS,E=v.readSafeJSONString,x=v.isSafeJSONString,F=d.crypto,w=F.Mac,y=F.Signature,b=JSON;if("string"!=typeof a&&"object"!=typeof a)throw"spHeader must be JSON string or object: "+a;if("object"==typeof a&&(D=b.stringify(_=a)),"string"==typeof a){if(!x(D=a))throw"JWS Head is not safe JSON string: "+D;_=E(D)}if(C=u,"object"==typeof u&&(C=b.stringify(u)),(""==s||null==s)&&void 0!==_.alg&&(s=_.alg),""!=s&&null!=s&&void 0===_.alg&&(_.alg=s,D=b.stringify(_)),s!==_.alg)throw"alg and sHeader.alg doesn't match: "+s+"!="+_.alg;var N=null;if(void 0===v.jwsalg2sigalg[s])throw"unsupported alg name: "+s;N=v.jwsalg2sigalg[s];var L=Ri(D)+"."+Ri(C),X="";if("Hmac"==N.substr(0,4)){if(void 0===c)throw"mac key shall be specified for HS* alg";var te=new w({alg:N,prov:"cryptojs",pass:c});te.updateString(L),X=te.doFinal()}else if(-1!=N.indexOf("withECDSA")){(P=new y({alg:N})).init(c,h),P.updateString(L);var M=P.sign();X=d.crypto.ECDSA.asn1SigToConcatSig(M)}else if("none"!=N){var P;(P=new y({alg:N})).init(c,h),P.updateString(L),X=P.sign()}return L+"."+Gt(X)},d.jws.JWS.verify=function(s,a,u){var A,p=d.jws.JWS,g=p.readSafeJSONString,v=d.crypto,E=v.ECDSA,x=v.Mac,F=v.Signature;if(A=Ce,!er(s))return!1;var w=s.split(".");if(3!==w.length)return!1;var k,D=w[0]+"."+w[1],_=Et(w[2]),C=g(nn(w[0])),N=null;if(void 0===C.alg)throw"algorithm not specified in header";if(k=(N=C.alg).substr(0,2),null!=u&&"[object Array]"===Object.prototype.toString.call(u)&&u.length>0&&-1==(":"+u.join(":")+":").indexOf(":"+N+":"))throw"algorithm '"+N+"' not accepted in the list";if("none"!=N&&null===a)throw"key shall be specified to verify.";if("string"==typeof a&&-1!=a.indexOf("-----BEGIN ")&&(a=je.getKey(a)),!("RS"!=k&&"PS"!=k||a instanceof A))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==k&&!(a instanceof E))throw"key shall be a ECDSA obj for ES* algs";var L=null;if(void 0===p.jwsalg2sigalg[C.alg])throw"unsupported alg name: "+N;if("none"==(L=p.jwsalg2sigalg[N]))throw"not supported";if("Hmac"==L.substr(0,4)){if(void 0===a)throw"hexadecimal key shall be specified for HMAC";var te=new x({alg:L,pass:a});return te.updateString(D),_==te.doFinal()}if(-1!=L.indexOf("withECDSA")){var M,P=null;try{P=E.concatSigToASN1Sig(_)}catch{return!1}return(M=new F({alg:L})).init(a),M.updateString(D),M.verify(P)}return(M=new F({alg:L})).init(a),M.updateString(D),M.verify(_)},d.jws.JWS.parse=function(s){var h,p,a=s.split("."),u={};if(2!=a.length&&3!=a.length)throw"malformed sJWS: wrong number of '.' splitted elements";return h=a[1],3==a.length&&(p=a[2]),u.headerObj=d.jws.JWS.readSafeJSONString(nn(a[0])),u.payloadObj=d.jws.JWS.readSafeJSONString(nn(h)),u.headerPP=JSON.stringify(u.headerObj,null,"  "),u.payloadPP=null==u.payloadObj?nn(h):JSON.stringify(u.payloadObj,null,"  "),void 0!==p&&(u.sigHex=Et(p)),u},d.jws.JWS.verifyJWT=function(s,a,u){var h=d.jws,p=h.JWS,g=p.readSafeJSONString,v=p.inArray,E=p.includedArray;if(!er(s))return!1;var x=s.split(".");if(3!=x.length)return!1;var F=x[0],A=x[1],b=(Et(x[2]),g(nn(F))),D=g(nn(A));if(void 0===b.alg)return!1;if(void 0===u.alg)throw"acceptField.alg shall be specified";if(!v(b.alg,u.alg)||void 0!==D.iss&&"object"==typeof u.iss&&!v(D.iss,u.iss)||void 0!==D.sub&&"object"==typeof u.sub&&!v(D.sub,u.sub))return!1;if(void 0!==D.aud&&"object"==typeof u.aud)if("string"==typeof D.aud){if(!v(D.aud,u.aud))return!1}else if("object"==typeof D.aud&&!E(D.aud,u.aud))return!1;var _=h.IntDate.getNow();return void 0!==u.verifyAt&&"number"==typeof u.verifyAt&&(_=u.verifyAt),(void 0===u.gracePeriod||"number"!=typeof u.gracePeriod)&&(u.gracePeriod=0),!(void 0!==D.exp&&"number"==typeof D.exp&&D.exp+u.gracePeriod<_||void 0!==D.nbf&&"number"==typeof D.nbf&&_<D.nbf-u.gracePeriod||void 0!==D.iat&&"number"==typeof D.iat&&_<D.iat-u.gracePeriod||void 0!==D.jti&&void 0!==u.jti&&D.jti!==u.jti||!p.verify(s,a,u.alg))},d.jws.JWS.includedArray=function(s,a){var u=d.jws.JWS.inArray;if(null===s||"object"!=typeof s||"number"!=typeof s.length)return!1;for(var c=0;c<s.length;c++)if(!u(s[c],a))return!1;return!0},d.jws.JWS.inArray=function(s,a){if(null===a||"object"!=typeof a||"number"!=typeof a.length)return!1;for(var u=0;u<a.length;u++)if(a[u]==s)return!0;return!1},d.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},d.jws.JWS.isSafeJSONString=function(s,a,u){var c=null;try{return"object"!=typeof(c=Qe(s))||c.constructor===Array?0:(a&&(a[u]=c),1)}catch{return 0}},d.jws.JWS.readSafeJSONString=function(s){var a=null;try{return"object"!=typeof(a=Qe(s))||a.constructor===Array?null:a}catch{return null}},d.jws.JWS.getEncodedSignatureValueFromJWS=function(s){var a=s.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==a)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return a[1]},d.jws.JWS.getJWKthumbprint=function(s){if("RSA"!==s.kty&&"EC"!==s.kty&&"oct"!==s.kty)throw"unsupported algorithm for JWK Thumprint";var a="{";if("RSA"===s.kty){if("string"!=typeof s.n||"string"!=typeof s.e)throw"wrong n and e value for RSA key";a+='"e":"'+s.e+'",',a+='"kty":"'+s.kty+'",',a+='"n":"'+s.n+'"}'}else if("EC"===s.kty){if("string"!=typeof s.crv||"string"!=typeof s.x||"string"!=typeof s.y)throw"wrong crv, x and y value for EC key";a+='"crv":"'+s.crv+'",',a+='"kty":"'+s.kty+'",',a+='"x":"'+s.x+'",',a+='"y":"'+s.y+'"}'}else if("oct"===s.kty){if("string"!=typeof s.k)throw"wrong k value for oct(symmetric) key";a+='"kty":"'+s.kty+'",',a+='"k":"'+s.k+'"}'}var u=Ct(a);return Gt(d.crypto.Util.hashHex(u,"sha256"))},d.jws.IntDate={},d.jws.IntDate.get=function(s){var a=d.jws.IntDate,u=a.getNow,c=a.getZulu;if("now"==s)return u();if("now + 1hour"==s)return u()+3600;if("now + 1day"==s)return u()+86400;if("now + 1month"==s)return u()+2592e3;if("now + 1year"==s)return u()+31536e3;if(s.match(/Z$/))return c(s);if(s.match(/^[0-9]+$/))return parseInt(s);throw"unsupported format: "+s},d.jws.IntDate.getZulu=function(s){return Ve(s)},d.jws.IntDate.getNow=function(){return~~(new Date/1e3)},d.jws.IntDate.intDate2UTCString=function(s){return new Date(1e3*s).toUTCString()},d.jws.IntDate.intDate2Zulu=function(s){var a=new Date(1e3*s);return("0000"+a.getUTCFullYear()).slice(-4)+("00"+(a.getUTCMonth()+1)).slice(-2)+("00"+a.getUTCDate()).slice(-2)+("00"+a.getUTCHours()).slice(-2)+("00"+a.getUTCMinutes()).slice(-2)+("00"+a.getUTCSeconds()).slice(-2)+"Z"},(typeof d>"u"||!d)&&(d={}),(typeof d.jws>"u"||!d.jws)&&(d.jws={}),d.jws.JWSJS=function(){var u=d.jws.JWS,c=u.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(h){this.init();var p=h.split(".");if(3!=p.length)throw"malformed input JWS";this.aHeader.push(p[0]),this.sPayload=p[1],this.aSignature.push(p[2])},this.addSignature=function(h,p,g,v){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var E=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var F=d.jws.JWS.sign(h,p,this.sPayload,g,v).split(".");this.aHeader.push(F[0]),this.aSignature.push(F[2])}catch(y){throw this.aHeader.length>E&&this.aHeader.pop(),this.aSignature.length>E&&this.aSignature.pop(),"addSignature failed: "+y}},this.verifyAll=function(h){if(this.aHeader.length!==h.length||this.aSignature.length!==h.length)return!1;for(var p=0;p<h.length;p++){var g=h[p];if(2!==g.length)return!1;if(!1===this.verifyNth(p,g[0],g[1]))return!1}return!0},this.verifyNth=function(h,p,g){if(this.aHeader.length<=h||this.aSignature.length<=h)return!1;var x=this.aHeader[h]+"."+this.sPayload+"."+this.aSignature[h],F=!1;try{F=u.verify(x,p,g)}catch{return!1}return F},this.readJWSJS=function(h){if("string"==typeof h){var p=c(h);if(null==p)throw"argument is not safe JSON object string";this.aHeader=p.headers,this.sPayload=p.payload,this.aSignature=p.signatures}else try{if(!(h.headers.length>0))throw"malformed header";if(this.aHeader=h.headers,"string"!=typeof h.payload)throw"malformed signatures";if(this.sPayload=h.payload,!(h.signatures.length>0))throw"malformed signatures";this.aSignature=h.signatures}catch(g){throw"malformed JWS-JS JSON object: "+g}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},qn.fs=d}},Wi=>{Wi(Wi.s=972)}]);